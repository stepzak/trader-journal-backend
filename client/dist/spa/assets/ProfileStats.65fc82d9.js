import{Q as pl}from"./QItemLabel.bbfb0630.js";import{A as Kt,Q as Jr,a as ei}from"./analysis.service.9afc8585.js";import{k as bl,ar as wl,as as _l,f as J,h as S,U as kl,d as vn,l as ti,r as L,e as Jt,at as xl,o as Hi,a as wn,au as Dl,b as wr,w as ve,v as dt,E as jt,av as cr,aw as ar,ax as Dn,A as cn,J as _r,n as en,a5 as ni,t as ai,I as fr,H as hr,j as _n,K as Sl,z as ht,x as Vt,y as Pt,L as Cl,g as Tn,i as jn,T as Xn,_ as El,u as Tl,s as za,af as Ol,F as Ft,G as $t,C as rr,Q as xn,D as Fl,an as ri,ay as ql,az as zl}from"./index.9aec81ab.js";import{Q as Ma}from"./QInput.c75baa70.js";import{Q as Ia}from"./QCardSection.6605cda6.js";import{Q as ir}from"./QCard.bd2b2a6d.js";import{api as da}from"./axios.d456351c.js";import{a as ca}from"./authHeader.0a3ef66c.js";import{i as Ml}from"./use-key-composition.78de164a.js";import"./scroll.70772969.js";var ii=bl({name:"QCardActions",props:{...wl,vertical:Boolean},setup(e,{slots:i}){const l=_l(e),s=J(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>S("div",{class:s.value},kl(i.default))}});const Il=typeof window<"u";var oi;Il&&((oi=window==null?void 0:window.navigator)==null?void 0:oi.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Zt(e){return e==null}function Ai(){}const Hl=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(Hl)));Object.freeze(["B","KB","MB","GB","TB","AUTO"]);function Al(){const e=new Map;return{on(i,l){const s=e.get(i);s!=null&&s.add(l)||e.set(i,new Set([l]))},off(i,l){const s=e.get(i);s&&s.delete(l)},clear(i){const l=e.get(i);l&&l.clear()},clearAll(){e.clear()},emit(i,...l){const s=e.get(i);s&&s.forEach(d=>{d(...l)})}}}function li(e,i=16){if(typeof e!="function")return Ai;const l=(...b)=>{e(...b)};if(i<=0)return Wi(l);let s=0,d;return function(...b){const m=Date.now(),h=m-s;clearTimeout(d),h>=i?(s=m,l(...b)):d=setTimeout(()=>{s=Date.now(),l(...b)},Math.max(0,i-h))}}function Wl(e,i=100){if(typeof e!="function")return Ai;const l=(...d)=>{e(...d)};if(i<=0)return Wi(l);let s;return function(...d){clearTimeout(s),s=setTimeout(()=>{l(...d)},i)}}function Wi(e){if(typeof e!="function")return e;let i=!1,l,s;return function(...d){return l=d,i||(i=!0,s=Promise.resolve().then(()=>(i=!1,s=void 0,e(...l)))),s}}const ha=new Set,Pi=new WeakMap;function Pl(){ha.forEach(e=>{e(...Pi.get(e))}),ha.clear()}function Ut(e,...i){if(typeof e!="function")return e;Pi.set(e,i),!ha.has(e)&&(ha.add(e),ha.size===1&&Promise.resolve().then(Pl))}const Ri=Symbol("LAYOUT_KEY"),Bi=Symbol("EMITTER_KEY");function Rl(e){let i=0,l;for(let s=0,d=e.length;s<d;s++)l=e[s].y+e[s].h,l>i&&(i=l);return i}function vr(e){const i=Array(e.length);for(let l=0,s=e.length;l<s;l++)i[l]=Bl(e[l]);return i}function Bl(e){return{...e}}function Li(e,i){return!(e===i||e.x+e.w<=i.x||e.x>=i.x+i.w||e.y+e.h<=i.y||e.y>=i.y+i.h)}function An(e,i,l){const s=Vi(e),d=ji(e),b=Array(e.length);for(let m=0,h=d.length;m<h;m++){let H=d[m];H.static||(H=Ll(s,H,i,l),s.push(H)),b[e.indexOf(H)]=H,H.moved=!1}return b}function Ll(e,i,l,s){if(l)for(;i.y>0&&!va(e,i);)i.y--;else if(s){const b=s[i.i].y;for(;i.y>b&&!va(e,i);)i.y--}let d;for(;d=va(e,i);)i.y=d.y+d.h;return i}function Nl(e,i){const l=Vi(e);for(let s=0,d=e.length;s<d;s++){const b=e[s];if(b.x+b.w>i.cols&&(b.x=i.cols-b.w),b.x<0&&(b.x=0,b.w=i.cols),!b.static)l.push(b);else for(;va(l,b);)b.y++}return e}function si(e,i){for(let l=0,s=e.length;l<s;l++)if(e[l].i===i)return e[l]}function va(e,i){for(let l=0,s=e.length;l<s;l++)if(Li(e[l],i))return e[l]}function Ni(e,i){return e.filter(l=>Li(l,i))}function Vi(e){return e.filter(i=>i.static)}function gr(e,i,l,s,d=!1,b=!1){if(i.static)return e;const m=i.x,h=i.y,H=s&&i.y>s;typeof l=="number"&&(i.x=l),typeof s=="number"&&(i.y=s),i.moved=!0;let X=ji(e);H&&(X=X.reverse());const D=Ni(X,i);if(b&&D.length)return i.x=m,i.y=h,i.moved=!1,e;for(let M=0,te=D.length;M<te;M++){const ie=D[M];ie.moved||i.y>ie.y&&i.y-ie.y>ie.h/4||(ie.static?e=ui(e,ie,i,d):e=ui(e,i,ie,d))}return e}function ui(e,i,l,s){if(s){const d={x:l.x,y:l.y,w:l.w,h:l.h,i:"-1"};if(d.y=Math.max(i.y-l.h,0),!va(e,d))return gr(e,l,void 0,d.y,!1)}return gr(e,l,void 0,l.y+1,!1)}function Vl(e,i,l,s){const d="translate3d("+i+"px,"+e+"px, 0)";return{transform:d,WebkitTransform:d,MozTransform:d,msTransform:d,OTransform:d,width:l+"px",height:s+"px",position:"absolute"}}function jl(e,i,l,s){const d="translate3d("+i*-1+"px,"+e+"px, 0)";return{transform:d,WebkitTransform:d,MozTransform:d,msTransform:d,OTransform:d,width:l+"px",height:s+"px",position:"absolute"}}function Xl(e,i,l,s){return{top:e+"px",left:i+"px",width:l+"px",height:s+"px",position:"absolute"}}function Yl(e,i,l,s){return{top:e+"px",right:i+"px",width:l+"px",height:s+"px",position:"absolute"}}function ji(e){return Array.from(e).sort(function(i,l){return i.y===l.y&&i.x===l.x?0:i.y>l.y||i.y===l.y&&i.x>l.x?1:-1})}function Kl(e,i){i=i||"Layout";const l=["x","y","w","h"],s=[];if(!Array.isArray(e))throw new Error(i+" must be an array!");for(let d=0,b=e.length;d<b;d++){const m=e[d];for(let h=0;h<l.length;h++)if(typeof m[l[h]]!="number")throw new Error("VueGridLayout: "+i+"["+d+"]."+l[h]+" must be a number!");if(m.i===void 0||m.i===null)throw new Error("VueGridLayout: "+i+"["+d+"].i cannot be null!");if(typeof m.i!="number"&&typeof m.i!="string")throw new Error("VueGridLayout: "+i+"["+d+"].i must be a string or number!");if(s.indexOf(m.i)>=0)throw new Error("VueGridLayout: "+i+"["+d+"].i must be unique!");if(s.push(m.i),m.static!==void 0&&typeof m.static!="boolean")throw new Error("VueGridLayout: "+i+"["+d+"].static must be a boolean!")}}function Ul(e,i="vgl"){const l=()=>`${i}-${e}`;return{b:l,be:s=>`${l()}__${s}`,bm:s=>`${l()}--${s}`,bem:(s,d)=>`${l()}__${s}--${d}`}}function di(e){return Gl(e)}function Gl(e){var i;const l=((i=e.target)==null?void 0:i.offsetParent)||document.body,s=e.offsetParent===document.body?{left:0,top:0}:l.getBoundingClientRect(),d=e.clientX+l.scrollLeft-s.left,b=e.clientY+l.scrollTop-s.top;return{x:d,y:b}}function ci(e,i,l,s){return Ql(e)?{deltaX:l-e,deltaY:s-i,lastX:e,lastY:i,x:l,y:s}:{deltaX:0,deltaY:0,lastX:l,lastY:s,x:l,y:s}}function Ql(e){return typeof e=="number"&&!Number.isNaN(e)}function $l(e,i){const l=Xi(e);let s=l[0];for(let d=1,b=l.length;d<b;d++){const m=l[d];i>e[m]&&(s=m)}return s}function yr(e,i){if(!i[e])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+e+" is missing!");return i[e]}function Zl(e,i,l,s,d,b,m){if(i[s])return vr(i[s]);let h=e;const H=Xi(l),X=H.slice(H.indexOf(s));for(let D=0,M=X.length;D<M;D++){const te=X[D];if(i[te]){h=i[te];break}}return h=vr(h||[]),An(Nl(h,{cols:b}),m)}function Xi(e){return Object.keys(e).sort((i,l)=>e[i]-e[l])}let Jl="auto";function es(){return typeof document<"u"}function fi(){return es()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir"):Jl}var ts=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Yi={exports:{}};(function(e,i){(function(l,s){e.exports=s()})(ts,function(){function l(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,r)}return a}function s(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(r){H(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}function d(n){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(n)}function b(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function m(n,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,he(r.key),r)}}function h(n,t,a){return t&&m(n.prototype,t),a&&m(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function H(n,t,a){return(t=he(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function X(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&M(n,t)}function D(n){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(n)}function M(n,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},M(n,t)}function te(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ie(n){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=D(n);if(t){var o=D(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return function(u,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(u)}(this,a)}}function be(){return be=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(n,t,a){var r=function(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&(u=D(u))!==null;);return u}(n,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?n:a):o.value}},be.apply(this,arguments)}function he(n){var t=function(a,r){if(typeof a!="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,r||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}(n,"string");return typeof t=="symbol"?t:t+""}var N=function(n){return!(!n||!n.Window)&&n instanceof n.Window},re=void 0,R=void 0;function V(n){re=n;var t=n.document.createTextNode("");t.ownerDocument!==n.document&&typeof n.wrap=="function"&&n.wrap(t)===t&&(n=n.wrap(n)),R=n}function ee(n){return N(n)?n:(n.ownerDocument||n).defaultView||R.window}typeof window!="undefined"&&window&&V(window);var Se=function(n){return!!n&&d(n)==="object"},Ve=function(n){return typeof n=="function"},O={window:function(n){return n===R||N(n)},docFrag:function(n){return Se(n)&&n.nodeType===11},object:Se,func:Ve,number:function(n){return typeof n=="number"},bool:function(n){return typeof n=="boolean"},string:function(n){return typeof n=="string"},element:function(n){if(!n||d(n)!=="object")return!1;var t=ee(n)||R;return/object|function/.test(typeof Element=="undefined"?"undefined":d(Element))?n instanceof Element||n instanceof t.Element:n.nodeType===1&&typeof n.nodeName=="string"},plainObject:function(n){return Se(n)&&!!n.constructor&&/function Object\b/.test(n.constructor.toString())},array:function(n){return Se(n)&&n.length!==void 0&&Ve(n.splice)}};function we(n){var t=n.interaction;if(t.prepared.name==="drag"){var a=t.prepared.axis;a==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):a==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function le(n){var t=n.iEvent,a=n.interaction;if(a.prepared.name==="drag"){var r=a.prepared.axis;if(r==="x"||r==="y"){var o=r==="x"?"y":"x";t.page[o]=a.coords.start.page[o],t.client[o]=a.coords.start.client[o],t.delta[o]=0}}}var A={id:"actions/drag",install:function(n){var t=n.actions,a=n.Interactable,r=n.defaults;a.prototype.draggable=A.draggable,t.map.drag=A,t.methodDict.drag="draggable",r.actions.drag=A.defaults},listeners:{"interactions:before-action-move":we,"interactions:action-resume":we,"interactions:action-move":le,"auto-start:check":function(n){var t=n.interaction,a=n.interactable,r=n.buttons,o=a.options.drag;if(o&&o.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(r&a.options.drag.mouseButtons)!=0))return n.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(n){return O.object(n)?(this.options.drag.enabled=n.enabled!==!1,this.setPerAction("drag",n),this.setOnEvents("drag",n),/^(xy|x|y|start)$/.test(n.lockAxis)&&(this.options.drag.lockAxis=n.lockAxis),/^(xy|x|y)$/.test(n.startAxis)&&(this.options.drag.startAxis=n.startAxis),this):O.bool(n)?(this.options.drag.enabled=n,this):this.options.drag},beforeMove:we,move:le,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(n){return n.search("drag")===0}},ae=A,F={init:function(n){var t=n;F.document=t.document,F.DocumentFragment=t.DocumentFragment||We,F.SVGElement=t.SVGElement||We,F.SVGSVGElement=t.SVGSVGElement||We,F.SVGElementInstance=t.SVGElementInstance||We,F.Element=t.Element||We,F.HTMLElement=t.HTMLElement||F.Element,F.Event=t.Event,F.Touch=t.Touch||We,F.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function We(){}var De=F,Oe={init:function(n){var t=De.Element,a=n.navigator||{};Oe.supportsTouch="ontouchstart"in n||O.func(n.DocumentTouch)&&De.document instanceof n.DocumentTouch,Oe.supportsPointerEvent=a.pointerEnabled!==!1&&!!De.PointerEvent,Oe.isIOS=/iP(hone|od|ad)/.test(a.platform),Oe.isIOS7=/iP(hone|od|ad)/.test(a.platform)&&/OS 7[^\d]/.test(a.appVersion),Oe.isIe9=/MSIE 9/.test(a.userAgent),Oe.isOperaMobile=a.appName==="Opera"&&Oe.supportsTouch&&/Presto/.test(a.userAgent),Oe.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",Oe.pEventTypes=Oe.supportsPointerEvent?De.PointerEvent===n.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Oe.wheelEvent=De.document&&"onmousewheel"in De.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},pe=Oe;function lt(n,t){if(n.contains)return n.contains(t);for(;t;){if(t===n)return!0;t=t.parentNode}return!1}function gt(n,t){for(;O.element(n);){if(_e(n,t))return n;n=Ze(n)}return null}function Ze(n){var t=n.parentNode;if(O.docFrag(t)){for(;(t=t.host)&&O.docFrag(t););return t}return t}function _e(n,t){return R!==re&&(t=t.replace(/\/deep\//g," ")),n[pe.prefixedMatchesSelector](t)}var Je=function(n){return n.parentNode||n.host};function tt(n,t){for(var a,r=[],o=n;(a=Je(o))&&o!==t&&a!==o.ownerDocument;)r.unshift(o),o=a;return r}function vt(n,t,a){for(;O.element(n);){if(_e(n,t))return!0;if((n=Ze(n))===a)return _e(n,t)}return!1}function at(n){return n.correspondingUseElement||n}function Ct(n){var t=n instanceof De.SVGElement?n.getBoundingClientRect():n.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Ue(n){var t,a=Ct(n);if(!pe.isIOS7&&a){var r={x:(t=(t=ee(n))||R).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};a.left+=r.x,a.right+=r.x,a.top+=r.y,a.bottom+=r.y}return a}function Pe(n){for(var t=[];n;)t.push(n),n=Ze(n);return t}function Ce(n){return!!O.string(n)&&(De.document.querySelector(n),!0)}function C(n,t){for(var a in t)n[a]=t[a];return n}function ke(n,t,a){return n==="parent"?Ze(a):n==="self"?t.getRect(a):gt(a,n)}function de(n,t,a,r){var o=n;return O.string(o)?o=ke(o,t,a):O.func(o)&&(o=o.apply(void 0,r)),O.element(o)&&(o=Ue(o)),o}function Ee(n){return n&&{x:"x"in n?n.x:n.left,y:"y"in n?n.y:n.top}}function Re(n){return!n||"x"in n&&"y"in n||((n=C({},n)).x=n.left||0,n.y=n.top||0,n.width=n.width||(n.right||0)-n.x,n.height=n.height||(n.bottom||0)-n.y),n}function Ne(n,t,a){n.left&&(t.left+=a.x),n.right&&(t.right+=a.x),n.top&&(t.top+=a.y),n.bottom&&(t.bottom+=a.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Te(n,t,a){var r=a&&n.options[a];return Ee(de(r&&r.origin||n.options.origin,n,t,[n&&t]))||{x:0,y:0}}function $e(n,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(v){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},O.string(n)&&n.search(" ")!==-1&&(n=Fe(n)),O.array(n))return n.forEach(function(v){return $e(v,t,a,r)}),r;if(O.object(n)&&(t=n,n=""),O.func(t)&&a(n))r[n]=r[n]||[],r[n].push(t);else if(O.array(t))for(var o=0,u=t;o<u.length;o++){var c=u[o];$e(n,c,a,r)}else if(O.object(t))for(var f in t)$e(Fe(f).map(function(v){return"".concat(n).concat(v)}),t[f],a,r);return r}function Fe(n){return n.trim().split(/ +/)}var wt=function(n,t){return Math.sqrt(n*n+t*t)},yt=["webkit","moz"];function st(n,t){n.__set||(n.__set={});var a=function(o){if(yt.some(function(u){return o.indexOf(u)===0}))return 1;typeof n[o]!="function"&&o!=="__set"&&Object.defineProperty(n,o,{get:function(){return o in n.__set?n.__set[o]:n.__set[o]=t[o]},set:function(u){n.__set[o]=u},configurable:!0})};for(var r in t)a(r);return n}function _t(n,t){n.page=n.page||{},n.page.x=t.page.x,n.page.y=t.page.y,n.client=n.client||{},n.client.x=t.client.x,n.client.y=t.client.y,n.timeStamp=t.timeStamp}function P(n){n.page.x=0,n.page.y=0,n.client.x=0,n.client.y=0}function ce(n){return n instanceof De.Event||n instanceof De.Touch}function Be(n,t,a){return n=n||"page",(a=a||{}).x=t[n+"X"],a.y=t[n+"Y"],a}function qe(n,t){return t=t||{x:0,y:0},pe.isOperaMobile&&ce(n)?(Be("screen",n,t),t.x+=window.scrollX,t.y+=window.scrollY):Be("page",n,t),t}function nt(n){return O.number(n.pointerId)?n.pointerId:n.identifier}function ze(n,t,a){var r=t.length>1?ct(t):t[0];qe(r,n.page),function(o,u){u=u||{},pe.isOperaMobile&&ce(o)?Be("screen",o,u):Be("client",o,u)}(r,n.client),n.timeStamp=a}function ge(n){var t=[];return O.array(n)?(t[0]=n[0],t[1]=n[1]):n.type==="touchend"?n.touches.length===1?(t[0]=n.touches[0],t[1]=n.changedTouches[0]):n.touches.length===0&&(t[0]=n.changedTouches[0],t[1]=n.changedTouches[1]):(t[0]=n.touches[0],t[1]=n.touches[1]),t}function ct(n){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},a=0;a<n.length;a++){var r=n[a];for(var o in t)t[o]+=r[o]}for(var u in t)t[u]/=n.length;return t}function mt(n){if(!n.length)return null;var t=ge(n),a=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),u=Math.max(t[0].pageY,t[1].pageY);return{x:a,y:r,left:a,top:r,right:o,bottom:u,width:o-a,height:u-r}}function kt(n,t){var a=t+"X",r=t+"Y",o=ge(n),u=o[0][a]-o[1][a],c=o[0][r]-o[1][r];return wt(u,c)}function At(n,t){var a=t+"X",r=t+"Y",o=ge(n),u=o[1][a]-o[0][a],c=o[1][r]-o[0][r];return 180*Math.atan2(c,u)/Math.PI}function zt(n){return O.string(n.pointerType)?n.pointerType:O.number(n.pointerType)?[void 0,void 0,"touch","pen","mouse"][n.pointerType]:/touch/.test(n.type||"")||n instanceof De.Touch?"touch":"mouse"}function xt(n){var t=O.func(n.composedPath)?n.composedPath():n.path;return[at(t?t[0]:n.target),at(n.currentTarget)]}var pt=function(){function n(t){b(this,n),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return h(n,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}();Object.defineProperty(pt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ft=function(n,t){for(var a=0;a<t.length;a++){var r=t[a];n.push(r)}return n},Et=function(n){return ft([],n)},Mt=function(n,t){for(var a=0;a<n.length;a++)if(t(n[a],a,n))return a;return-1},Z=function(n,t){return n[Mt(n,t)]},Me=function(n){X(a,n);var t=ie(a);function a(r,o,u){var c;b(this,a),(c=t.call(this,o._interaction)).dropzone=void 0,c.dragEvent=void 0,c.relatedTarget=void 0,c.draggable=void 0,c.propagationStopped=!1,c.immediatePropagationStopped=!1;var f=u==="dragleave"?r.prev:r.cur,v=f.element,w=f.dropzone;return c.type=u,c.target=v,c.currentTarget=v,c.dropzone=w,c.dragEvent=o,c.relatedTarget=o.target,c.draggable=o.interactable,c.timeStamp=o.timeStamp,c}return h(a,[{key:"reject",value:function(){var r=this,o=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&o.cur.dropzone===this.dropzone&&o.cur.element===this.target)if(o.prev.dropzone=this.dropzone,o.prev.element=this.target,o.rejected=!0,o.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var u=o.activeDrops,c=Mt(u,function(v){var w=v.dropzone,g=v.element;return w===r.dropzone&&g===r.target});o.activeDrops.splice(c,1);var f=new a(o,this.dragEvent,"dropdeactivate");f.dropzone=this.dropzone,f.target=this.target,this.dropzone.fire(f)}else this.dropzone.fire(new a(o,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),a}(pt);function je(n,t){for(var a=0,r=n.slice();a<r.length;a++){var o=r[a],u=o.dropzone,c=o.element;t.dropzone=u,t.target=c,u.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Ge(n,t){for(var a=function(u,c){for(var f=[],v=0,w=u.interactables.list;v<w.length;v++){var g=w[v];if(g.options.drop.enabled){var x=g.options.drop.accept;if(!(O.element(x)&&x!==c||O.string(x)&&!_e(c,x)||O.func(x)&&!x({dropzone:g,draggableElement:c})))for(var q=0,U=g.getAllElements();q<U.length;q++){var K=U[q];K!==c&&f.push({dropzone:g,element:K,rect:g.getRect(K)})}}}return f}(n,t),r=0;r<a.length;r++){var o=a[r];o.rect=o.dropzone.getRect(o.element)}return a}function rt(n,t,a){for(var r=n.dropState,o=n.interactable,u=n.element,c=[],f=0,v=r.activeDrops;f<v.length;f++){var w=v[f],g=w.dropzone,x=w.element,q=w.rect,U=g.dropCheck(t,a,o,u,x,q);c.push(U?x:null)}var K=function($){for(var fe,ue,xe,Ke=[],it=0;it<$.length;it++){var Ie=$[it],Qe=$[fe];if(Ie&&it!==fe)if(Qe){var Yt=Je(Ie),Ot=Je(Qe);if(Yt!==Ie.ownerDocument)if(Ot!==Ie.ownerDocument)if(Yt!==Ot){Ke=Ke.length?Ke:tt(Qe);var Qt=void 0;if(Qe instanceof De.HTMLElement&&Ie instanceof De.SVGElement&&!(Ie instanceof De.SVGSVGElement)){if(Ie===Ot)continue;Qt=Ie.ownerSVGElement}else Qt=Ie;for(var an=tt(Qt,Qe.ownerDocument),dn=0;an[dn]&&an[dn]===Ke[dn];)dn++;var qa=[an[dn-1],an[dn],Ke[dn]];if(qa[0])for(var ua=qa[0].lastChild;ua;){if(ua===qa[1]){fe=it,Ke=an;break}if(ua===qa[2])break;ua=ua.previousSibling}}else xe=Qe,(parseInt(ee(ue=Ie).getComputedStyle(ue).zIndex,10)||0)>=(parseInt(ee(xe).getComputedStyle(xe).zIndex,10)||0)&&(fe=it);else fe=it}else fe=it}return fe}(c);return r.activeDrops[K]||null}function et(n,t,a){var r=n.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return a.type==="dragstart"&&(o.activate=new Me(r,a,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),a.type==="dragend"&&(o.deactivate=new Me(r,a,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new Me(r,a,"dragleave"),a.dragLeave=o.leave.target=r.prev.element,a.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new Me(r,a,"dragenter"),a.dragEnter=r.cur.element,a.dropzone=r.cur.dropzone)),a.type==="dragend"&&r.cur.dropzone&&(o.drop=new Me(r,a,"drop"),a.dropzone=r.cur.dropzone,a.relatedTarget=r.cur.element),a.type==="dragmove"&&r.cur.dropzone&&(o.move=new Me(r,a,"dropmove"),a.dropzone=r.cur.dropzone)),o}function Dt(n,t){var a=n.dropState,r=a.activeDrops,o=a.cur,u=a.prev;t.leave&&u.dropzone.fire(t.leave),t.enter&&o.dropzone.fire(t.enter),t.move&&o.dropzone.fire(t.move),t.drop&&o.dropzone.fire(t.drop),t.deactivate&&je(r,t.deactivate),a.prev.dropzone=o.dropzone,a.prev.element=o.element}function E(n,t){var a=n.interaction,r=n.iEvent,o=n.event;if(r.type==="dragmove"||r.type==="dragend"){var u=a.dropState;t.dynamicDrop&&(u.activeDrops=Ge(t,a.element));var c=r,f=rt(a,c,o);u.rejected=u.rejected&&!!f&&f.dropzone===u.cur.dropzone&&f.element===u.cur.element,u.cur.dropzone=f&&f.dropzone,u.cur.element=f&&f.element,u.events=et(a,0,c)}}var G={id:"actions/drop",install:function(n){var t=n.actions,a=n.interactStatic,r=n.Interactable,o=n.defaults;n.usePlugin(ae),r.prototype.dropzone=function(u){return function(c,f){if(O.object(f)){if(c.options.drop.enabled=f.enabled!==!1,f.listeners){var v=$e(f.listeners),w=Object.keys(v).reduce(function(x,q){return x[/^(enter|leave)/.test(q)?"drag".concat(q):/^(activate|deactivate|move)/.test(q)?"drop".concat(q):q]=v[q],x},{}),g=c.options.drop.listeners;g&&c.off(g),c.on(w),c.options.drop.listeners=w}return O.func(f.ondrop)&&c.on("drop",f.ondrop),O.func(f.ondropactivate)&&c.on("dropactivate",f.ondropactivate),O.func(f.ondropdeactivate)&&c.on("dropdeactivate",f.ondropdeactivate),O.func(f.ondragenter)&&c.on("dragenter",f.ondragenter),O.func(f.ondragleave)&&c.on("dragleave",f.ondragleave),O.func(f.ondropmove)&&c.on("dropmove",f.ondropmove),/^(pointer|center)$/.test(f.overlap)?c.options.drop.overlap=f.overlap:O.number(f.overlap)&&(c.options.drop.overlap=Math.max(Math.min(1,f.overlap),0)),"accept"in f&&(c.options.drop.accept=f.accept),"checker"in f&&(c.options.drop.checker=f.checker),c}return O.bool(f)?(c.options.drop.enabled=f,c):c.options.drop}(this,u)},r.prototype.dropCheck=function(u,c,f,v,w,g){return function(x,q,U,K,$,fe,ue){var xe=!1;if(!(ue=ue||x.getRect(fe)))return!!x.options.drop.checker&&x.options.drop.checker(q,U,xe,x,fe,K,$);var Ke=x.options.drop.overlap;if(Ke==="pointer"){var it=Te(K,$,"drag"),Ie=qe(q);Ie.x+=it.x,Ie.y+=it.y;var Qe=Ie.x>ue.left&&Ie.x<ue.right,Yt=Ie.y>ue.top&&Ie.y<ue.bottom;xe=Qe&&Yt}var Ot=K.getRect($);if(Ot&&Ke==="center"){var Qt=Ot.left+Ot.width/2,an=Ot.top+Ot.height/2;xe=Qt>=ue.left&&Qt<=ue.right&&an>=ue.top&&an<=ue.bottom}return Ot&&O.number(Ke)&&(xe=Math.max(0,Math.min(ue.right,Ot.right)-Math.max(ue.left,Ot.left))*Math.max(0,Math.min(ue.bottom,Ot.bottom)-Math.max(ue.top,Ot.top))/(Ot.width*Ot.height)>=Ke),x.options.drop.checker&&(xe=x.options.drop.checker(q,U,xe,x,fe,K,$)),xe}(this,u,c,f,v,w,g)},a.dynamicDrop=function(u){return O.bool(u)?(n.dynamicDrop=u,a):n.dynamicDrop},C(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",n.dynamicDrop=!1,o.actions.drop=G.defaults},listeners:{"interactions:before-action-start":function(n){var t=n.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(n,t){var a=n.interaction,r=(n.event,n.iEvent);if(a.prepared.name==="drag"){var o=a.dropState;o.activeDrops=[],o.events={},o.activeDrops=Ge(t,a.element),o.events=et(a,0,r),o.events.activate&&(je(o.activeDrops,o.events.activate),t.fire("actions/drop:start",{interaction:a,dragEvent:r}))}},"interactions:action-move":E,"interactions:after-action-move":function(n,t){var a=n.interaction,r=n.iEvent;if(a.prepared.name==="drag"){var o=a.dropState;Dt(a,o.events),t.fire("actions/drop:move",{interaction:a,dragEvent:r}),o.events={}}},"interactions:action-end":function(n,t){if(n.interaction.prepared.name==="drag"){var a=n.interaction,r=n.iEvent;E(n,t),Dt(a,a.dropState.events),t.fire("actions/drop:end",{interaction:a,dragEvent:r})}},"interactions:stop":function(n){var t=n.interaction;if(t.prepared.name==="drag"){var a=t.dropState;a&&(a.activeDrops=null,a.events=null,a.cur.dropzone=null,a.cur.element=null,a.prev.dropzone=null,a.prev.element=null,a.rejected=!1)}}},getActiveDrops:Ge,getDrop:rt,getDropEvents:et,fireDropEvents:Dt,filterEventType:function(n){return n.search("drag")===0||n.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},_=G;function W(n){var t=n.interaction,a=n.iEvent,r=n.phase;if(t.prepared.name==="gesture"){var o=t.pointers.map(function(w){return w.pointer}),u=r==="start",c=r==="end",f=t.interactable.options.deltaSource;if(a.touches=[o[0],o[1]],u)a.distance=kt(o,f),a.box=mt(o),a.scale=1,a.ds=0,a.angle=At(o,f),a.da=0,t.gesture.startDistance=a.distance,t.gesture.startAngle=a.angle;else if(c||t.pointers.length<2){var v=t.prevEvent;a.distance=v.distance,a.box=v.box,a.scale=v.scale,a.ds=0,a.angle=v.angle,a.da=0}else a.distance=kt(o,f),a.box=mt(o),a.scale=a.distance/t.gesture.startDistance,a.angle=At(o,f),a.ds=a.scale-t.gesture.scale,a.da=a.angle-t.gesture.angle;t.gesture.distance=a.distance,t.gesture.angle=a.angle,O.number(a.scale)&&a.scale!==1/0&&!isNaN(a.scale)&&(t.gesture.scale=a.scale)}}var p={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(n){var t=n.actions,a=n.Interactable,r=n.defaults;a.prototype.gesturable=function(o){return O.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):O.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},t.map.gesture=p,t.methodDict.gesture="gesturable",r.actions.gesture=p.defaults},listeners:{"interactions:action-start":W,"interactions:action-move":W,"interactions:action-end":W,"interactions:new":function(n){n.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(n){if(!(n.interaction.pointers.length<2)){var t=n.interactable.options.gesture;if(t&&t.enabled)return n.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(n){return n.search("gesture")===0}},k=p;function z(n,t,a,r,o,u,c){if(!t)return!1;if(t===!0){var f=O.number(u.width)?u.width:u.right-u.left,v=O.number(u.height)?u.height:u.bottom-u.top;if(c=Math.min(c,Math.abs((n==="left"||n==="right"?f:v)/2)),f<0&&(n==="left"?n="right":n==="right"&&(n="left")),v<0&&(n==="top"?n="bottom":n==="bottom"&&(n="top")),n==="left"){var w=f>=0?u.left:u.right;return a.x<w+c}if(n==="top"){var g=v>=0?u.top:u.bottom;return a.y<g+c}if(n==="right")return a.x>(f>=0?u.right:u.left)-c;if(n==="bottom")return a.y>(v>=0?u.bottom:u.top)-c}return!!O.element(r)&&(O.element(t)?t===r:vt(r,t,o))}function j(n){var t=n.iEvent,a=n.interaction;if(a.prepared.name==="resize"&&a.resizeAxes){var r=t;a.interactable.options.resize.square?(a.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=a.resizeAxes,a.resizeAxes==="x"?r.delta.y=0:a.resizeAxes==="y"&&(r.delta.x=0))}}var y,I,B={id:"actions/resize",before:["actions/drag"],install:function(n){var t=n.actions,a=n.browser,r=n.Interactable,o=n.defaults;B.cursors=function(u){return u.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(a),B.defaultMargin=a.supportsTouch||a.supportsPointerEvent?20:10,r.prototype.resizable=function(u){return function(c,f,v){return O.object(f)?(c.options.resize.enabled=f.enabled!==!1,c.setPerAction("resize",f),c.setOnEvents("resize",f),O.string(f.axis)&&/^x$|^y$|^xy$/.test(f.axis)?c.options.resize.axis=f.axis:f.axis===null&&(c.options.resize.axis=v.defaults.actions.resize.axis),O.bool(f.preserveAspectRatio)?c.options.resize.preserveAspectRatio=f.preserveAspectRatio:O.bool(f.square)&&(c.options.resize.square=f.square),c):O.bool(f)?(c.options.resize.enabled=f,c):c.options.resize}(this,u,n)},t.map.resize=B,t.methodDict.resize="resizable",o.actions.resize=B.defaults},listeners:{"interactions:new":function(n){n.interaction.resizeAxes="xy"},"interactions:action-start":function(n){(function(t){var a=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=a,u=r.rect;r._rects={start:C({},u),corrected:C({},u),previous:C({},u),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=r.prepared.edges,o.rect=r._rects.corrected,o.deltaRect=r._rects.delta}})(n),j(n)},"interactions:action-move":function(n){(function(t){var a=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=a,u=r.interactable.options.resize.invert,c=u==="reposition"||u==="negate",f=r.rect,v=r._rects,w=v.start,g=v.corrected,x=v.delta,q=v.previous;if(C(q,g),c){if(C(g,f),u==="reposition"){if(g.top>g.bottom){var U=g.top;g.top=g.bottom,g.bottom=U}if(g.left>g.right){var K=g.left;g.left=g.right,g.right=K}}}else g.top=Math.min(f.top,w.bottom),g.bottom=Math.max(f.bottom,w.top),g.left=Math.min(f.left,w.right),g.right=Math.max(f.right,w.left);for(var $ in g.width=g.right-g.left,g.height=g.bottom-g.top,g)x[$]=g[$]-q[$];o.edges=r.prepared.edges,o.rect=g,o.deltaRect=x}})(n),j(n)},"interactions:action-end":function(n){var t=n.iEvent,a=n.interaction;if(a.prepared.name==="resize"&&a.prepared.edges){var r=t;r.edges=a.prepared.edges,r.rect=a._rects.corrected,r.deltaRect=a._rects.delta}},"auto-start:check":function(n){var t=n.interaction,a=n.interactable,r=n.element,o=n.rect,u=n.buttons;if(o){var c=C({},t.coords.cur.page),f=a.options.resize;if(f&&f.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(u&f.mouseButtons)!=0)){if(O.object(f.edges)){var v={left:!1,right:!1,top:!1,bottom:!1};for(var w in v)v[w]=z(w,f.edges[w],c,t._latestPointer.eventTarget,r,o,f.margin||B.defaultMargin);v.left=v.left&&!v.right,v.top=v.top&&!v.bottom,(v.left||v.right||v.top||v.bottom)&&(n.action={name:"resize",edges:v})}else{var g=f.axis!=="y"&&c.x>o.right-B.defaultMargin,x=f.axis!=="x"&&c.y>o.bottom-B.defaultMargin;(g||x)&&(n.action={name:"resize",axes:(g?"x":"")+(x?"y":"")})}return!n.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(n){var t=n.edges,a=n.axis,r=n.name,o=B.cursors,u=null;if(a)u=o[r+a];else if(t){for(var c="",f=0,v=["top","bottom","left","right"];f<v.length;f++){var w=v[f];t[w]&&(c+=w)}u=o[c]}return u},filterEventType:function(n){return n.search("resize")===0},defaultMargin:null},Q=B,oe={id:"actions",install:function(n){n.usePlugin(k),n.usePlugin(Q),n.usePlugin(ae),n.usePlugin(_)}},ne=0,Ae={request:function(n){return y(n)},cancel:function(n){return I(n)},init:function(n){if(y=n.requestAnimationFrame,I=n.cancelAnimationFrame,!y)for(var t=["ms","moz","webkit","o"],a=0;a<t.length;a++){var r=t[a];y=n["".concat(r,"RequestAnimationFrame")],I=n["".concat(r,"CancelAnimationFrame")]||n["".concat(r,"CancelRequestAnimationFrame")]}y=y&&y.bind(n),I=I&&I.bind(n),y||(y=function(o){var u=Date.now(),c=Math.max(0,16-(u-ne)),f=n.setTimeout(function(){o(u+c)},c);return ne=u+c,f},I=function(o){return clearTimeout(o)})}},Y={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(n){Y.isScrolling=!0,Ae.cancel(Y.i),n.autoScroll=Y,Y.interaction=n,Y.prevTime=Y.now(),Y.i=Ae.request(Y.scroll)},stop:function(){Y.isScrolling=!1,Y.interaction&&(Y.interaction.autoScroll=null),Ae.cancel(Y.i)},scroll:function(){var n=Y.interaction,t=n.interactable,a=n.element,r=n.prepared.name,o=t.options[r].autoScroll,u=Lt(o.container,t,a),c=Y.now(),f=(c-Y.prevTime)/1e3,v=o.speed*f;if(v>=1){var w={x:Y.x*v,y:Y.y*v};if(w.x||w.y){var g=T(u);O.window(u)?u.scrollBy(w.x,w.y):u&&(u.scrollLeft+=w.x,u.scrollTop+=w.y);var x=T(u),q={x:x.x-g.x,y:x.y-g.y};(q.x||q.y)&&t.fire({type:"autoscroll",target:a,interactable:t,delta:q,interaction:n,container:u})}Y.prevTime=c}Y.isScrolling&&(Ae.cancel(Y.i),Y.i=Ae.request(Y.scroll))},check:function(n,t){var a;return(a=n.options[t].autoScroll)==null?void 0:a.enabled},onInteractionMove:function(n){var t=n.interaction,a=n.pointer;if(t.interacting()&&Y.check(t.interactable,t.prepared.name))if(t.simulation)Y.x=Y.y=0;else{var r,o,u,c,f=t.interactable,v=t.element,w=t.prepared.name,g=f.options[w].autoScroll,x=Lt(g.container,f,v);if(O.window(x))c=a.clientX<Y.margin,r=a.clientY<Y.margin,o=a.clientX>x.innerWidth-Y.margin,u=a.clientY>x.innerHeight-Y.margin;else{var q=Ct(x);c=a.clientX<q.left+Y.margin,r=a.clientY<q.top+Y.margin,o=a.clientX>q.right-Y.margin,u=a.clientY>q.bottom-Y.margin}Y.x=o?1:c?-1:0,Y.y=u?1:r?-1:0,Y.isScrolling||(Y.margin=g.margin,Y.speed=g.speed,Y.start(t))}}};function Lt(n,t,a){return(O.string(n)?ke(n,t,a):n)||ee(a)}function T(n){return O.window(n)&&(n=window.document.body),{x:n.scrollLeft,y:n.scrollTop}}var se={id:"auto-scroll",install:function(n){var t=n.defaults,a=n.actions;n.autoScroll=Y,Y.now=function(){return n.now()},a.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Y.defaults},listeners:{"interactions:new":function(n){n.interaction.autoScroll=null},"interactions:destroy":function(n){n.interaction.autoScroll=null,Y.stop(),Y.interaction&&(Y.interaction=null)},"interactions:stop":Y.stop,"interactions:action-move":function(n){return Y.onInteractionMove(n)}}},ye=se;function me(n,t){var a=!1;return function(){return a||(R.console.warn(t),a=!0),n.apply(this,arguments)}}function He(n,t){return n.name=t.name,n.axis=t.axis,n.edges=t.edges,n}function Xe(n){return O.bool(n)?(this.options.styleCursor=n,this):n===null?(delete this.options.styleCursor,this):this.options.styleCursor}function It(n){return O.func(n)?(this.options.actionChecker=n,this):n===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ut={id:"auto-start/interactableMethods",install:function(n){var t=n.Interactable;t.prototype.getAction=function(a,r,o,u){var c=function(f,v,w,g,x){var q=f.getRect(g),U=v.buttons||{0:1,1:4,3:8,4:16}[v.button],K={action:null,interactable:f,interaction:w,element:g,rect:q,buttons:U};return x.fire("auto-start:check",K),K.action}(this,r,o,u,n);return this.options.actionChecker?this.options.actionChecker(a,r,c,this,u,o):c},t.prototype.ignoreFrom=me(function(a){return this._backCompatOption("ignoreFrom",a)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=me(function(a){return this._backCompatOption("allowFrom",a)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=It,t.prototype.styleCursor=Xe}};function ln(n,t,a,r,o){return t.testIgnoreAllow(t.options[n.name],a,r)&&t.options[n.name].enabled&&sn(t,a,n,o)?n:null}function In(n,t,a,r,o,u,c){for(var f=0,v=r.length;f<v;f++){var w=r[f],g=o[f],x=w.getAction(t,a,n,g);if(x){var q=ln(x,w,g,u,c);if(q)return{action:q,interactable:w,element:g}}}return{action:null,interactable:null,element:null}}function gn(n,t,a,r,o){var u=[],c=[],f=r;function v(g){u.push(g),c.push(f)}for(;O.element(f);){u=[],c=[],o.interactables.forEachMatch(f,v);var w=In(n,t,a,u,c,r,o);if(w.action&&!w.interactable.options[w.action.name].manualStart)return w;f=Ze(f)}return{action:null,interactable:null,element:null}}function Tt(n,t,a){var r=t.action,o=t.interactable,u=t.element;r=r||{name:null},n.interactable=o,n.element=u,He(n.prepared,r),n.rect=o&&r.name?o.getRect(u):null,Fr(n,a),a.fire("autoStart:prepared",{interaction:n})}function sn(n,t,a,r){var o=n.options,u=o[a.name].max,c=o[a.name].maxPerElement,f=r.autoStart.maxInteractions,v=0,w=0,g=0;if(!(u&&c&&f))return!1;for(var x=0,q=r.interactions.list;x<q.length;x++){var U=q[x],K=U.prepared.name;if(U.interacting()&&(++v>=f||U.interactable===n&&((w+=K===a.name?1:0)>=u||U.element===t&&(g++,K===a.name&&g>=c))))return!1}return f>0}function Wt(n,t){return O.number(n)?(t.autoStart.maxInteractions=n,this):t.autoStart.maxInteractions}function Xa(n,t,a){var r=a.autoStart.cursorElement;r&&r!==n&&(r.style.cursor=""),n.ownerDocument.documentElement.style.cursor=t,n.style.cursor=t,a.autoStart.cursorElement=t?n:null}function Fr(n,t){var a=n.interactable,r=n.element,o=n.prepared;if(n.pointerType==="mouse"&&a&&a.options.styleCursor){var u="";if(o.name){var c=a.options[o.name].cursorChecker;u=O.func(c)?c(o,a,r,n._interacting):t.actions.map[o.name].getCursor(o)}Xa(n.element,u||"",t)}else t.autoStart.cursorElement&&Xa(t.autoStart.cursorElement,"",t)}var po={id:"auto-start/base",before:["actions"],install:function(n){var t=n.interactStatic,a=n.defaults;n.usePlugin(ut),a.base.actionChecker=null,a.base.styleCursor=!0,C(a.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(r){return Wt(r,n)},n.autoStart={maxInteractions:1/0,withinInteractionLimit:sn,cursorElement:null}},listeners:{"interactions:down":function(n,t){var a=n.interaction,r=n.pointer,o=n.event,u=n.eventTarget;a.interacting()||Tt(a,gn(a,r,o,u,t),t)},"interactions:move":function(n,t){(function(a,r){var o=a.interaction,u=a.pointer,c=a.event,f=a.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||Tt(o,gn(o,u,c,f,r),r)})(n,t),function(a,r){var o=a.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){r.fire("autoStart:before-start",a);var u=o.interactable,c=o.prepared.name;c&&u&&(u.options[c].manualStart||!sn(u,o.element,o.prepared,r)?o.stop():(o.start(o.prepared,u,o.element),Fr(o,r)))}}(n,t)},"interactions:stop":function(n,t){var a=n.interaction,r=a.interactable;r&&r.options.styleCursor&&Xa(a.element,"",t)}},maxInteractions:Wt,withinInteractionLimit:sn,validateAction:ln},Ya=po,bo={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(n,t){var a=n.interaction,r=n.eventTarget,o=n.dx,u=n.dy;if(a.prepared.name==="drag"){var c=Math.abs(o),f=Math.abs(u),v=a.interactable.options.drag,w=v.startAxis,g=c>f?"x":c<f?"y":"xy";if(a.prepared.axis=v.lockAxis==="start"?g[0]:v.lockAxis,g!=="xy"&&w!=="xy"&&w!==g){a.prepared.name=null;for(var x=r,q=function(K){if(K!==a.interactable){var $=a.interactable.options.drag;if(!$.manualStart&&K.testIgnoreAllow($,x,r)){var fe=K.getAction(a.downPointer,a.downEvent,a,x);if(fe&&fe.name==="drag"&&function(ue,xe){if(!xe)return!1;var Ke=xe.options.drag.startAxis;return ue==="xy"||Ke==="xy"||Ke===ue}(g,K)&&Ya.validateAction(fe,K,x,r,t))return K}}};O.element(x);){var U=t.interactables.forEachMatch(x,q);if(U){a.prepared.name="drag",a.interactable=U,a.element=x;break}x=Ze(x)}}}}}};function Ka(n){var t=n.prepared&&n.prepared.name;if(!t)return null;var a=n.interactable.options;return a[t].hold||a[t].delay}var wo={id:"auto-start/hold",install:function(n){var t=n.defaults;n.usePlugin(Ya),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(n){n.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(n){var t=n.interaction,a=Ka(t);a>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},a))},"interactions:move":function(n){var t=n.interaction,a=n.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!a&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(n){var t=n.interaction;Ka(t)>0&&(t.prepared.name=null)}},getHoldDuration:Ka},_o=wo,ko={id:"auto-start",install:function(n){n.usePlugin(Ya),n.usePlugin(_o),n.usePlugin(bo)}},xo=function(n){return/^(always|never|auto)$/.test(n)?(this.options.preventDefault=n,this):O.bool(n)?(this.options.preventDefault=n?"always":"never",this):this.options.preventDefault};function Do(n){var t=n.interaction,a=n.event;t.interactable&&t.interactable.checkAndPreventDefault(a)}var qr={id:"core/interactablePreventDefault",install:function(n){var t=n.Interactable;t.prototype.preventDefault=xo,t.prototype.checkAndPreventDefault=function(a){return function(r,o,u){var c=r.options.preventDefault;if(c!=="never")if(c!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(u.type)){var f=ee(u.target).document,v=o.getDocOptions(f);if(!v||!v.events||v.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(u.type)||O.element(u.target)&&_e(u.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||u.preventDefault()}else u.preventDefault()}(this,n,a)},n.interactions.docEvents.push({type:"dragstart",listener:function(a){for(var r=0,o=n.interactions.list;r<o.length;r++){var u=o[r];if(u.element&&(u.element===a.target||lt(u.element,a.target)))return void u.interactable.checkAndPreventDefault(a)}}})},listeners:["down","move","up","cancel"].reduce(function(n,t){return n["interactions:".concat(t)]=Do,n},{})};function Da(n,t){if(t.phaselessTypes[n])return!0;for(var a in t.map)if(n.indexOf(a)===0&&n.substr(a.length)in t.phases)return!0;return!1}function Hn(n){var t={};for(var a in n){var r=n[a];O.plainObject(r)?t[a]=Hn(r):O.array(r)?t[a]=Et(r):t[a]=r}return t}var Ua=function(){function n(t){b(this,n),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Sa(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return h(n,[{key:"start",value:function(t,a){var r,o,u=t.phase,c=this.interaction,f=function(w){var g=w.interactable.options[w.prepared.name],x=g.modifiers;return x&&x.length?x:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(q){var U=g[q];return U&&U.enabled&&{options:U,methods:U._methods}}).filter(function(q){return!!q})}(c);this.prepareStates(f),this.startEdges=C({},c.edges),this.edges=C({},this.startEdges),this.startOffset=(r=c.rect,o=a,r?{left:o.x-r.left,top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var v=this.fillArg({phase:u,pageCoords:a,preEnd:!1});return this.result=Sa(),this.startAll(v),this.result=this.setAll(v)}},{key:"fillArg",value:function(t){var a=this.interaction;return t.interaction=a,t.interactable=a.interactable,t.element=a.element,t.rect||(t.rect=a.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var a=0,r=this.states;a<r.length;a++){var o=r[a];o.methods.start&&(t.state=o,o.methods.start(t))}}},{key:"setAll",value:function(t){var a=t.phase,r=t.preEnd,o=t.skipModifiers,u=t.rect,c=t.edges;t.coords=C({},t.pageCoords),t.rect=C({},u),t.edges=C({},c);for(var f=o?this.states.slice(o):this.states,v=Sa(t.coords,t.rect),w=0;w<f.length;w++){var g,x=f[w],q=x.options,U=C({},t.coords),K=null;(g=x.methods)!=null&&g.set&&this.shouldDo(q,r,a)&&(t.state=x,K=x.methods.set(t),Ne(t.edges,t.rect,{x:t.coords.x-U.x,y:t.coords.y-U.y})),v.eventProps.push(K)}C(this.edges,t.edges),v.delta.x=t.coords.x-t.pageCoords.x,v.delta.y=t.coords.y-t.pageCoords.y,v.rectDelta.left=t.rect.left-u.left,v.rectDelta.right=t.rect.right-u.right,v.rectDelta.top=t.rect.top-u.top,v.rectDelta.bottom=t.rect.bottom-u.bottom;var $=this.result.coords,fe=this.result.rect;if($&&fe){var ue=v.rect.left!==fe.left||v.rect.right!==fe.right||v.rect.top!==fe.top||v.rect.bottom!==fe.bottom;v.changed=ue||$.x!==v.coords.x||$.y!==v.coords.y}return v}},{key:"applyToInteraction",value:function(t){var a=this.interaction,r=t.phase,o=a.coords.cur,u=a.coords.start,c=this.result,f=this.startDelta,v=c.delta;r==="start"&&C(this.startDelta,c.delta);for(var w=0,g=[[u,f],[o,v]];w<g.length;w++){var x=g[w],q=x[0],U=x[1];q.page.x+=U.x,q.page.y+=U.y,q.client.x+=U.x,q.client.y+=U.y}var K=this.result.rectDelta,$=t.rect||a.rect;$.left+=K.left,$.right+=K.right,$.top+=K.top,$.bottom+=K.bottom,$.width=$.right-$.left,$.height=$.bottom-$.top}},{key:"setAndApply",value:function(t){var a=this.interaction,r=t.phase,o=t.preEnd,u=t.skipModifiers,c=this.setAll(this.fillArg({preEnd:o,phase:r,pageCoords:t.modifiedCoords||a.coords.cur.page}));if(this.result=c,!c.changed&&(!u||u<this.states.length)&&a.interacting())return!1;if(t.modifiedCoords){var f=a.coords.cur.page,v={x:t.modifiedCoords.x-f.x,y:t.modifiedCoords.y-f.y};c.coords.x+=v.x,c.coords.y+=v.y,c.delta.x+=v.x,c.delta.y+=v.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var a=t.interaction,r=t.event,o=this.states;if(o&&o.length){for(var u=!1,c=0;c<o.length;c++){var f=o[c];t.state=f;var v=f.options,w=f.methods,g=w.beforeEnd&&w.beforeEnd(t);if(g)return this.endResult=g,!1;u=u||!u&&this.shouldDo(v,!0,t.phase,!0)}u&&a.move({event:r,preEnd:!0})}}},{key:"stop",value:function(t){var a=t.interaction;if(this.states&&this.states.length){var r=C({states:this.states,interactable:a.interactable,element:a.element,rect:null},t);this.fillArg(r);for(var o=0,u=this.states;o<u.length;o++){var c=u[o];r.state=c,c.methods.stop&&c.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var a=0;a<t.length;a++){var r=t[a],o=r.options,u=r.methods,c=r.name;this.states.push({options:o,methods:u,index:a,name:c})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var a=t.interaction,r=a.coords,o=a.rect,u=a.modification;if(u.result){for(var c=u.startDelta,f=u.result,v=f.delta,w=f.rectDelta,g=0,x=[[r.start,c],[r.cur,v]];g<x.length;g++){var q=x[g],U=q[0],K=q[1];U.page.x-=K.x,U.page.y-=K.y,U.client.x-=K.x,U.client.y-=K.y}o.left-=w.left,o.right-=w.right,o.top-=w.top,o.bottom-=w.bottom}}},{key:"shouldDo",value:function(t,a,r,o){return!(!t||t.enabled===!1||o&&!t.endOnly||t.endOnly&&!a||r==="start"&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(function(a){return Hn(a)}),this.result=Sa(C({},t.result.coords),C({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}]),n}();function Sa(n,t){return{rect:t,coords:n,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function yn(n,t){var a=n.defaults,r={start:n.start,set:n.set,beforeEnd:n.beforeEnd,stop:n.stop},o=function(u){var c=u||{};for(var f in c.enabled=c.enabled!==!1,a)f in c||(c[f]=a[f]);var v={options:c,methods:r,name:t,enable:function(){return c.enabled=!0,v},disable:function(){return c.enabled=!1,v}};return v};return t&&typeof t=="string"&&(o._defaults=a,o._methods=r),o}function ia(n){var t=n.iEvent,a=n.interaction.modification.result;a&&(t.modifiers=a.eventProps)}var So={id:"modifiers/base",before:["actions"],install:function(n){n.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(n){var t=n.interaction;t.modification=new Ua(t)},"interactions:before-action-start":function(n){var t=n.interaction,a=n.interaction.modification;a.start(n,t.coords.start.page),t.edges=a.edges,a.applyToInteraction(n)},"interactions:before-action-move":function(n){var t=n.interaction,a=t.modification,r=a.setAndApply(n);return t.edges=a.edges,r},"interactions:before-action-end":function(n){var t=n.interaction,a=t.modification,r=a.beforeEnd(n);return t.edges=a.startEdges,r},"interactions:action-start":ia,"interactions:action-move":ia,"interactions:action-end":ia,"interactions:after-action-start":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-move":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:stop":function(n){return n.interaction.modification.stop(n)}}},zr=So,Mr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Ga=function(n){X(a,n);var t=ie(a);function a(r,o,u,c,f,v,w){var g;b(this,a),(g=t.call(this,r)).relatedTarget=null,g.screenX=void 0,g.screenY=void 0,g.button=void 0,g.buttons=void 0,g.ctrlKey=void 0,g.shiftKey=void 0,g.altKey=void 0,g.metaKey=void 0,g.page=void 0,g.client=void 0,g.delta=void 0,g.rect=void 0,g.x0=void 0,g.y0=void 0,g.t0=void 0,g.dt=void 0,g.duration=void 0,g.clientX0=void 0,g.clientY0=void 0,g.velocity=void 0,g.speed=void 0,g.swipe=void 0,g.axes=void 0,g.preEnd=void 0,f=f||r.element;var x=r.interactable,q=(x&&x.options||Mr).deltaSource,U=Te(x,f,u),K=c==="start",$=c==="end",fe=K?te(g):r.prevEvent,ue=K?r.coords.start:$?{page:fe.page,client:fe.client,timeStamp:r.coords.cur.timeStamp}:r.coords.cur;return g.page=C({},ue.page),g.client=C({},ue.client),g.rect=C({},r.rect),g.timeStamp=ue.timeStamp,$||(g.page.x-=U.x,g.page.y-=U.y,g.client.x-=U.x,g.client.y-=U.y),g.ctrlKey=o.ctrlKey,g.altKey=o.altKey,g.shiftKey=o.shiftKey,g.metaKey=o.metaKey,g.button=o.button,g.buttons=o.buttons,g.target=f,g.currentTarget=f,g.preEnd=v,g.type=w||u+(c||""),g.interactable=x,g.t0=K?r.pointers[r.pointers.length-1].downTime:fe.t0,g.x0=r.coords.start.page.x-U.x,g.y0=r.coords.start.page.y-U.y,g.clientX0=r.coords.start.client.x-U.x,g.clientY0=r.coords.start.client.y-U.y,g.delta=K||$?{x:0,y:0}:{x:g[q].x-fe[q].x,y:g[q].y-fe[q].y},g.dt=r.coords.delta.timeStamp,g.duration=g.timeStamp-g.t0,g.velocity=C({},r.coords.velocity[q]),g.speed=wt(g.velocity.x,g.velocity.y),g.swipe=$||c==="inertiastart"?g.getSwipe():null,g}return h(a,[{key:"getSwipe",value:function(){var r=this._interaction;if(r.prevEvent.speed<600||this.timeStamp-r.prevEvent.timeStamp>150)return null;var o=180*Math.atan2(r.prevEvent.velocityY,r.prevEvent.velocityX)/Math.PI;o<0&&(o+=360);var u=112.5<=o&&o<247.5,c=202.5<=o&&o<337.5;return{up:c,down:!c&&22.5<=o&&o<157.5,left:u,right:!u&&(292.5<=o||o<67.5),angle:o,speed:r.prevEvent.speed,velocity:{x:r.prevEvent.velocityX,y:r.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),a}(pt);Object.defineProperties(Ga.prototype,{pageX:{get:function(){return this.page.x},set:function(n){this.page.x=n}},pageY:{get:function(){return this.page.y},set:function(n){this.page.y=n}},clientX:{get:function(){return this.client.x},set:function(n){this.client.x=n}},clientY:{get:function(){return this.client.y},set:function(n){this.client.y=n}},dx:{get:function(){return this.delta.x},set:function(n){this.delta.x=n}},dy:{get:function(){return this.delta.y},set:function(n){this.delta.y=n}},velocityX:{get:function(){return this.velocity.x},set:function(n){this.velocity.x=n}},velocityY:{get:function(){return this.velocity.y},set:function(n){this.velocity.y=n}}});var Co=h(function n(t,a,r,o,u){b(this,n),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=a,this.event=r,this.downTime=o,this.downTarget=u}),Eo=function(n){return n.interactable="",n.element="",n.prepared="",n.pointerIsDown="",n.pointerWasMoved="",n._proxy="",n}({}),Ir=function(n){return n.start="",n.move="",n.end="",n.stop="",n.interacting="",n}({}),To=0,Oo=function(){function n(t){var a=this,r=t.pointerType,o=t.scopeFire;b(this,n),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=me(function(g){this.move(g)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=To++,this._scopeFire=o,this.pointerType=r;var u=this;this._proxy={};var c=function(g){Object.defineProperty(a._proxy,g,{get:function(){return u[g]}})};for(var f in Eo)c(f);var v=function(g){Object.defineProperty(a._proxy,g,{value:function(){return u[g].apply(u,arguments)}})};for(var w in Ir)v(w);this._scopeFire("interactions:new",{interaction:this})}return h(n,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,a,r){var o=this.updatePointer(t,a,r,!0),u=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:a,eventTarget:r,pointerIndex:o,pointerInfo:u,type:"down",interaction:this})}},{key:"start",value:function(t,a,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!a.options[t.name].enabled)&&(He(this.prepared,t),this.interactable=a,this.element=r,this.rect=a.getRect(r),this.edges=this.prepared.edges?C({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,a,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,a,r,!1);var o,u,c=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(o=this.coords.cur.client.x-this.coords.start.client.x,u=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=wt(o,u)>this.pointerMoveTolerance);var f,v,w,g=this.getPointerIndex(t),x={pointer:t,pointerIndex:g,pointerInfo:this.pointers[g],event:a,type:"move",eventTarget:r,dx:o,dy:u,duplicate:c,interaction:this};c||(f=this.coords.velocity,v=this.coords.delta,w=Math.max(v.timeStamp/1e3,.001),f.page.x=v.page.x/w,f.page.y=v.page.y/w,f.client.x=v.client.x/w,f.client.y=v.client.y/w,f.timeStamp=w),this._scopeFire("interactions:move",x),c||this.simulation||(this.interacting()&&(x.type=null,this.move(x)),this.pointerWasMoved&&_t(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||P(this.coords.delta),(t=C({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,a,r,o){var u=this.getPointerIndex(t);u===-1&&(u=this.updatePointer(t,a,r,!1));var c=/cancel$/i.test(a.type)?"cancel":"up";this._scopeFire("interactions:".concat(c),{pointer:t,pointerIndex:u,pointerInfo:this.pointers[u],event:a,eventTarget:r,type:c,curEventTarget:o,interaction:this}),this.simulation||this.end(a),this.removePointer(t,a)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var a;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(a=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,a===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var a=nt(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Mt(this.pointers,function(r){return r.id===a})}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,a,r,o){var u,c,f,v=nt(t),w=this.getPointerIndex(t),g=this.pointers[w];return o=o!==!1&&(o||/(down|start)$/i.test(a.type)),g?g.pointer=t:(g=new Co(v,t,a,null,null),w=this.pointers.length,this.pointers.push(g)),ze(this.coords.cur,this.pointers.map(function(x){return x.pointer}),this._now()),u=this.coords.delta,c=this.coords.prev,f=this.coords.cur,u.page.x=f.page.x-c.page.x,u.page.y=f.page.y-c.page.y,u.client.x=f.client.x-c.client.x,u.client.y=f.client.y-c.client.y,u.timeStamp=f.timeStamp-c.timeStamp,o&&(this.pointerIsDown=!0,g.downTime=this.coords.cur.timeStamp,g.downTarget=r,st(this.downPointer,t),this.interacting()||(_t(this.coords.start,this.coords.cur),_t(this.coords.prev,this.coords.cur),this.downEvent=a,this.pointerWasMoved=!1)),this._updateLatestPointer(t,a,r),this._scopeFire("interactions:update-pointer",{pointer:t,event:a,eventTarget:r,down:o,pointerInfo:g,pointerIndex:w,interaction:this}),w}},{key:"removePointer",value:function(t,a){var r=this.getPointerIndex(t);if(r!==-1){var o=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:t,event:a,eventTarget:null,pointerIndex:r,pointerInfo:o,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,a,r){this._latestPointer.pointer=t,this._latestPointer.event=a,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,a,r,o){return new Ga(this,t,this.prepared.name,a,this.element,r,o)}},{key:"_fireEvent",value:function(t){var a;(a=this.interactable)==null||a.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var a=t.event,r=t.phase,o=t.preEnd,u=t.type,c=this.rect;if(c&&r==="move"&&(Ne(this.edges,c,this.coords.delta[this.interactable.options.deltaSource]),c.width=c.right-c.left,c.height=c.bottom-c.top),this._scopeFire("interactions:before-action-".concat(r),t)===!1)return!1;var f=t.iEvent=this._createPreparedEvent(a,r,o,u);return this._scopeFire("interactions:action-".concat(r),t),r==="start"&&(this.prevEvent=f),this._fireEvent(f),this._scopeFire("interactions:after-action-".concat(r),t),!0}},{key:"_now",value:function(){return Date.now()}}]),n}();function Hr(n){Ar(n.interaction)}function Ar(n){if(!function(a){return!(!a.offset.pending.x&&!a.offset.pending.y)}(n))return!1;var t=n.offset.pending;return Qa(n.coords.cur,t),Qa(n.coords.delta,t),Ne(n.edges,n.rect,t),t.x=0,t.y=0,!0}function Fo(n){var t=n.x,a=n.y;this.offset.pending.x+=t,this.offset.pending.y+=a,this.offset.total.x+=t,this.offset.total.y+=a}function Qa(n,t){var a=n.page,r=n.client,o=t.x,u=t.y;a.x+=o,a.y+=u,r.x+=o,r.y+=u}Ir.offsetBy="";var qo={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(n){n.Interaction.prototype.offsetBy=Fo},listeners:{"interactions:new":function(n){n.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(n){return function(t){t.pointerIsDown&&(Qa(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}(n.interaction)},"interactions:before-action-start":Hr,"interactions:before-action-move":Hr,"interactions:before-action-end":function(n){var t=n.interaction;if(Ar(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(n){var t=n.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Wr=qo,zo=function(){function n(t){b(this,n),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return h(n,[{key:"start",value:function(t){var a=this.interaction,r=Ca(a);if(!r||!r.enabled)return!1;var o=a.coords.velocity.client,u=wt(o.x,o.y),c=this.modification||(this.modification=new Ua(a));if(c.copyFrom(a.modification),this.t0=a._now(),this.allowResume=r.allowResume,this.v0=u,this.currentOffset={x:0,y:0},this.startCoords=a.coords.cur.page,this.modifierArg=c.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-a.coords.cur.timeStamp<50&&u>r.minSpeed&&u>r.endSpeed)this.startInertia();else{if(c.result=c.setAll(this.modifierArg),!c.result.changed)return!1;this.startSmoothEnd()}return a.modification.result.rect=null,a.offsetBy(this.targetOffset),a._doPhase({interaction:a,event:t,phase:"inertiastart"}),a.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),a.modification.result.rect=null,this.active=!0,a.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,a=this.interaction.coords.velocity.client,r=Ca(this.interaction),o=r.resistance,u=-Math.log(r.endSpeed/this.v0)/o;this.targetOffset={x:(a.x-u)/o,y:(a.y-u)/o},this.te=u,this.lambda_v0=o/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var c=this.modification,f=this.modifierArg;f.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},c.result=c.setAll(f),c.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+c.result.delta.x,y:this.targetOffset.y+c.result.delta.y}),this.onNextFrame(function(){return t.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return t.smoothEndTick()})}},{key:"onNextFrame",value:function(t){var a=this;this.timeout=Ae.request(function(){a.active&&t()})}},{key:"inertiaTick",value:function(){var t,a,r,o,u,c,f,v=this,w=this.interaction,g=Ca(w).resistance,x=(w._now()-this.t0)/1e3;if(x<this.te){var q,U=1-(Math.exp(-g*x)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=0,a=0,r=this.targetOffset.x,o=this.targetOffset.y,u=this.modifiedOffset.x,c=this.modifiedOffset.y,q={x:Pr(f=U,t,r,u),y:Pr(f,a,o,c)}):q={x:this.targetOffset.x*U,y:this.targetOffset.y*U};var K={x:q.x-this.currentOffset.x,y:q.y-this.currentOffset.y};this.currentOffset.x+=K.x,this.currentOffset.y+=K.y,w.offsetBy(K),w.move(),this.onNextFrame(function(){return v.inertiaTick()})}else w.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,a=this.interaction,r=a._now()-this.t0,o=Ca(a).smoothEndDuration;if(r<o){var u={x:Rr(r,0,this.targetOffset.x,o),y:Rr(r,0,this.targetOffset.y,o)},c={x:u.x-this.currentOffset.x,y:u.y-this.currentOffset.y};this.currentOffset.x+=c.x,this.currentOffset.y+=c.y,a.offsetBy(c),a.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return t.smoothEndTick()})}else a.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var a=t.pointer,r=t.event,o=t.eventTarget,u=this.interaction;u.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),u.updatePointer(a,r,o,!0),u._doPhase({interaction:u,event:r,phase:"resume"}),_t(u.coords.prev,u.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ae.cancel(this.timeout)}}]),n}();function Ca(n){var t=n.interactable,a=n.prepared;return t&&t.options&&a.name&&t.options[a.name].inertia}var Mo={id:"inertia",before:["modifiers","actions"],install:function(n){var t=n.defaults;n.usePlugin(Wr),n.usePlugin(zr),n.actions.phases.inertiastart=!0,n.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(n){var t=n.interaction;t.inertia=new zo(t)},"interactions:before-action-end":function(n){var t=n.interaction,a=n.event;return(!t._interacting||t.simulation||!t.inertia.start(a))&&null},"interactions:down":function(n){var t=n.interaction,a=n.eventTarget,r=t.inertia;if(r.active)for(var o=a;O.element(o);){if(o===t.element){r.resume(n);break}o=Ze(o)}},"interactions:stop":function(n){var t=n.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(n){var t=n.interaction.modification;t.stop(n),t.start(n,n.interaction.coords.cur.page),t.applyToInteraction(n)},"interactions:before-action-inertiastart":function(n){return n.interaction.modification.setAndApply(n)},"interactions:action-resume":ia,"interactions:action-inertiastart":ia,"interactions:after-action-inertiastart":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-resume":function(n){return n.interaction.modification.restoreInteractionCoords(n)}}};function Pr(n,t,a,r){var o=1-n;return o*o*t+2*o*n*a+n*n*r}function Rr(n,t,a,r){return-a*(n/=r)*(n-2)+t}var Io=Mo;function Br(n,t){for(var a=0;a<t.length;a++){var r=t[a];if(n.immediatePropagationStopped)break;r(n)}}var Lr=function(){function n(t){b(this,n),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=C({},t||{})}return h(n,[{key:"fire",value:function(t){var a,r=this.global;(a=this.types[t.type])&&Br(t,a),!t.propagationStopped&&r&&(a=r[t.type])&&Br(t,a)}},{key:"on",value:function(t,a){var r=$e(t,a);for(t in r)this.types[t]=ft(this.types[t]||[],r[t])}},{key:"off",value:function(t,a){var r=$e(t,a);for(t in r){var o=this.types[t];if(o&&o.length)for(var u=0,c=r[t];u<c.length;u++){var f=c[u],v=o.indexOf(f);v!==-1&&o.splice(v,1)}}}},{key:"getRect",value:function(t){return null}}]),n}(),Ho=function(){function n(t){b(this,n),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,st(this,t)}return h(n,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),n}();function oa(n){return O.object(n)?{capture:!!n.capture,passive:!!n.passive}:{capture:!!n,passive:!1}}function Ea(n,t){return n===t||(typeof n=="boolean"?!!t.capture===n&&!t.passive:!!n.capture==!!t.capture&&!!n.passive==!!t.passive)}var Ao={id:"events",install:function(n){var t,a=[],r={},o=[],u={add:c,remove:f,addDelegate:function(g,x,q,U,K){var $=oa(K);if(!r[q]){r[q]=[];for(var fe=0;fe<o.length;fe++){var ue=o[fe];c(ue,q,v),c(ue,q,w,!0)}}var xe=r[q],Ke=Z(xe,function(it){return it.selector===g&&it.context===x});Ke||(Ke={selector:g,context:x,listeners:[]},xe.push(Ke)),Ke.listeners.push({func:U,options:$})},removeDelegate:function(g,x,q,U,K){var $,fe=oa(K),ue=r[q],xe=!1;if(!!ue)for($=ue.length-1;$>=0;$--){var Ke=ue[$];if(Ke.selector===g&&Ke.context===x){for(var it=Ke.listeners,Ie=it.length-1;Ie>=0;Ie--){var Qe=it[Ie];if(Qe.func===U&&Ea(Qe.options,fe)){it.splice(Ie,1),it.length||(ue.splice($,1),f(x,q,v),f(x,q,w,!0)),xe=!0;break}}if(xe)break}}},delegateListener:v,delegateUseCapture:w,delegatedEvents:r,documents:o,targets:a,supportsOptions:!1,supportsPassive:!1};function c(g,x,q,U){if(g.addEventListener){var K=oa(U),$=Z(a,function(fe){return fe.eventTarget===g});$||($={eventTarget:g,events:{}},a.push($)),$.events[x]||($.events[x]=[]),Z($.events[x],function(fe){return fe.func===q&&Ea(fe.options,K)})||(g.addEventListener(x,q,u.supportsOptions?K:K.capture),$.events[x].push({func:q,options:K}))}}function f(g,x,q,U){if(g.addEventListener&&g.removeEventListener){var K=Mt(a,function(Yt){return Yt.eventTarget===g}),$=a[K];if($&&$.events)if(x!=="all"){var fe=!1,ue=$.events[x];if(ue){if(q==="all"){for(var xe=ue.length-1;xe>=0;xe--){var Ke=ue[xe];f(g,x,Ke.func,Ke.options)}return}for(var it=oa(U),Ie=0;Ie<ue.length;Ie++){var Qe=ue[Ie];if(Qe.func===q&&Ea(Qe.options,it)){g.removeEventListener(x,q,u.supportsOptions?it:it.capture),ue.splice(Ie,1),ue.length===0&&(delete $.events[x],fe=!0);break}}}fe&&!Object.keys($.events).length&&a.splice(K,1)}else for(x in $.events)$.events.hasOwnProperty(x)&&f(g,x,"all")}}function v(g,x){for(var q=oa(x),U=new Ho(g),K=r[g.type],$=xt(g)[0],fe=$;O.element(fe);){for(var ue=0;ue<K.length;ue++){var xe=K[ue],Ke=xe.selector,it=xe.context;if(_e(fe,Ke)&&lt(it,$)&&lt(it,fe)){var Ie=xe.listeners;U.currentTarget=fe;for(var Qe=0;Qe<Ie.length;Qe++){var Yt=Ie[Qe];Ea(Yt.options,q)&&Yt.func(U)}}}fe=Ze(fe)}}function w(g){return v(g,!0)}return(t=n.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return u.supportsOptions=!0},get passive(){return u.supportsPassive=!0}}),n.events=u,u}},$a={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(n){for(var t=0,a=$a.methodOrder;t<a.length;t++){var r=a[t],o=$a[r](n);if(o)return o}return null},simulationResume:function(n){var t=n.pointerType,a=n.eventType,r=n.eventTarget,o=n.scope;if(!/down|start/i.test(a))return null;for(var u=0,c=o.interactions.list;u<c.length;u++){var f=c[u],v=r;if(f.simulation&&f.simulation.allowResume&&f.pointerType===t)for(;v;){if(v===f.element)return f;v=Ze(v)}}return null},mouseOrPen:function(n){var t,a=n.pointerId,r=n.pointerType,o=n.eventType,u=n.scope;if(r!=="mouse"&&r!=="pen")return null;for(var c=0,f=u.interactions.list;c<f.length;c++){var v=f[c];if(v.pointerType===r){if(v.simulation&&!Nr(v,a))continue;if(v.interacting())return v;t||(t=v)}}if(t)return t;for(var w=0,g=u.interactions.list;w<g.length;w++){var x=g[w];if(!(x.pointerType!==r||/down/i.test(o)&&x.simulation))return x}return null},hasPointer:function(n){for(var t=n.pointerId,a=0,r=n.scope.interactions.list;a<r.length;a++){var o=r[a];if(Nr(o,t))return o}return null},idle:function(n){for(var t=n.pointerType,a=0,r=n.scope.interactions.list;a<r.length;a++){var o=r[a];if(o.pointers.length===1){var u=o.interactable;if(u&&(!u.options.gesture||!u.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&t===o.pointerType)return o}return null}};function Nr(n,t){return n.pointers.some(function(a){return a.id===t})}var Wo=$a,Za=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Vr(n,t){return function(a){var r=t.interactions.list,o=zt(a),u=xt(a),c=u[0],f=u[1],v=[];if(/^touch/.test(a.type)){t.prevTouchTime=t.now();for(var w=0,g=a.changedTouches;w<g.length;w++){var x=g[w],q={pointer:x,pointerId:nt(x),pointerType:o,eventType:a.type,eventTarget:c,curEventTarget:f,scope:t},U=jr(q);v.push([q.pointer,q.eventTarget,q.curEventTarget,U])}}else{var K=!1;if(!pe.supportsPointerEvent&&/mouse/.test(a.type)){for(var $=0;$<r.length&&!K;$++)K=r[$].pointerType!=="mouse"&&r[$].pointerIsDown;K=K||t.now()-t.prevTouchTime<500||a.timeStamp===0}if(!K){var fe={pointer:a,pointerId:nt(a),pointerType:o,eventType:a.type,curEventTarget:f,eventTarget:c,scope:t},ue=jr(fe);v.push([fe.pointer,fe.eventTarget,fe.curEventTarget,ue])}}for(var xe=0;xe<v.length;xe++){var Ke=v[xe],it=Ke[0],Ie=Ke[1],Qe=Ke[2];Ke[3][n](it,a,Ie,Qe)}}}function jr(n){var t=n.pointerType,a=n.scope,r={interaction:Wo.search(n),searchDetails:n};return a.fire("interactions:find",r),r.interaction||a.interactions.new({pointerType:t})}function Ja(n,t){var a=n.doc,r=n.scope,o=n.options,u=r.interactions.docEvents,c=r.events,f=c[t];for(var v in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),c.delegatedEvents)f(a,v,c.delegateListener),f(a,v,c.delegateUseCapture,!0);for(var w=o&&o.events,g=0;g<u.length;g++){var x=u[g];f(a,x.type,x.listener,w)}}var Po={id:"core/interactions",install:function(n){for(var t={},a=0;a<Za.length;a++){var r=Za[a];t[r]=Vr(r,n)}var o,u=pe.pEventTypes;function c(){for(var f=0,v=n.interactions.list;f<v.length;f++){var w=v[f];if(w.pointerIsDown&&w.pointerType==="touch"&&!w._interacting)for(var g=function(){var U=q[x];n.documents.some(function(K){return lt(K.doc,U.downTarget)})||w.removePointer(U.pointer,U.event)},x=0,q=w.pointers;x<q.length;x++)g()}}(o=De.PointerEvent?[{type:u.down,listener:c},{type:u.down,listener:t.pointerDown},{type:u.move,listener:t.pointerMove},{type:u.up,listener:t.pointerUp},{type:u.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(f){for(var v=0,w=n.interactions.list;v<w.length;v++)w[v].documentBlur(f)}}),n.prevTouchTime=0,n.Interaction=function(f){X(w,f);var v=ie(w);function w(){return b(this,w),v.apply(this,arguments)}return h(w,[{key:"pointerMoveTolerance",get:function(){return n.interactions.pointerMoveTolerance},set:function(g){n.interactions.pointerMoveTolerance=g}},{key:"_now",value:function(){return n.now()}}]),w}(Oo),n.interactions={list:[],new:function(f){f.scopeFire=function(w,g){return n.fire(w,g)};var v=new n.Interaction(f);return n.interactions.list.push(v),v},listeners:t,docEvents:o,pointerMoveTolerance:1},n.usePlugin(qr)},listeners:{"scope:add-document":function(n){return Ja(n,"add")},"scope:remove-document":function(n){return Ja(n,"remove")},"interactable:unset":function(n,t){for(var a=n.interactable,r=t.interactions.list.length-1;r>=0;r--){var o=t.interactions.list[r];o.interactable===a&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Ja,doOnInteractions:Vr,methodNames:Za},Ro=Po,mn=function(n){return n[n.On=0]="On",n[n.Off=1]="Off",n}(mn||{}),Bo=function(){function n(t,a,r,o){b(this,n),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Lr,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=a.actions,this.target=t,this._context=a.context||r,this._win=ee(Ce(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(a)}return h(n,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,a){return O.func(a.onstart)&&this.on("".concat(t,"start"),a.onstart),O.func(a.onmove)&&this.on("".concat(t,"move"),a.onmove),O.func(a.onend)&&this.on("".concat(t,"end"),a.onend),O.func(a.oninertiastart)&&this.on("".concat(t,"inertiastart"),a.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,a,r){var o,u=this,c=(o=this._actions.map[t])==null?void 0:o.filterEventType,f=function(v){return(c==null||c(v))&&Da(v,u._actions)};(O.array(a)||O.object(a))&&this._onOff(mn.Off,t,a,void 0,f),(O.array(r)||O.object(r))&&this._onOff(mn.On,t,r,void 0,f)}},{key:"setPerAction",value:function(t,a){var r=this._defaults;for(var o in a){var u=o,c=this.options[t],f=a[u];u==="listeners"&&this.updatePerActionListeners(t,c.listeners,f),O.array(f)?c[u]=Et(f):O.plainObject(f)?(c[u]=C(c[u]||{},Hn(f)),O.object(r.perAction[u])&&"enabled"in r.perAction[u]&&(c[u].enabled=f.enabled!==!1)):O.bool(f)&&O.object(r.perAction[u])?c[u].enabled=f:c[u]=f}}},{key:"getRect",value:function(t){return t=t||(O.element(this.target)?this.target:null),O.string(this.target)&&(t=t||this._context.querySelector(this.target)),Ue(t)}},{key:"rectChecker",value:function(t){var a=this;return O.func(t)?(this.getRect=function(r){var o=C({},t.apply(a,r));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):t===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(t,a){if(Ce(a)||O.object(a)){for(var r in this.options[t]=a,this._actions.map)this.options[r][t]=a;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var t=this.target;return O.string(t)?Array.from(this._context.querySelectorAll(t)):O.func(t)&&t.getAllElements?t.getAllElements():O.element(t)?[t]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||lt(this._context,t)}},{key:"testIgnoreAllow",value:function(t,a,r){return!this.testIgnore(t.ignoreFrom,a,r)&&this.testAllow(t.allowFrom,a,r)}},{key:"testAllow",value:function(t,a,r){return!t||!!O.element(r)&&(O.string(t)?vt(r,t,a):!!O.element(t)&&lt(t,r))}},{key:"testIgnore",value:function(t,a,r){return!(!t||!O.element(r))&&(O.string(t)?vt(r,t,a):!!O.element(t)&&lt(t,r))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,a,r,o,u){O.object(a)&&!O.array(a)&&(o=r,r=null);var c=$e(a,r,u);for(var f in c){f==="wheel"&&(f=pe.wheelEvent);for(var v=0,w=c[f];v<w.length;v++){var g=w[v];Da(f,this._actions)?this.events[t===mn.On?"on":"off"](f,g):O.string(this.target)?this._scopeEvents[t===mn.On?"addDelegate":"removeDelegate"](this.target,this._context,f,g,o):this._scopeEvents[t===mn.On?"add":"remove"](this.target,f,g,o)}}return this}},{key:"on",value:function(t,a,r){return this._onOff(mn.On,t,a,r)}},{key:"off",value:function(t,a,r){return this._onOff(mn.Off,t,a,r)}},{key:"set",value:function(t){var a=this._defaults;for(var r in O.object(t)||(t={}),this.options=Hn(a.base),this._actions.methodDict){var o=r,u=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,C(C({},a.perAction),a.actions[o])),this[u](t[o])}for(var c in t)c!=="getRect"?O.func(this[c])&&this[c](t[c]):this.rectChecker(t.getRect);return this}},{key:"unset",value:function(){if(O.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var a=this._scopeEvents.delegatedEvents[t],r=a.length-1;r>=0;r--){var o=a[r],u=o.selector,c=o.context,f=o.listeners;u===this.target&&c===this._context&&a.splice(r,1);for(var v=f.length-1;v>=0;v--)this._scopeEvents.removeDelegate(this.target,this._context,t,f[v][0],f[v][1])}else this._scopeEvents.remove(this.target,"all")}}]),n}(),Lo=function(){function n(t){var a=this;b(this,n),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(r){var o=r.interactable,u=o.target,c=O.string(u)?a.selectorMap[u]:u[a.scope.id],f=Mt(c,function(v){return v===o});c.splice(f,1)}})}return h(n,[{key:"new",value:function(t,a){a=C(a||{},{actions:this.scope.actions});var r=new this.scope.Interactable(t,a,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),O.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(r.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:a,interactable:r,win:this.scope._win}),r}},{key:"getExisting",value:function(t,a){var r=a&&a.context||this.scope.document,o=O.string(t),u=o?this.selectorMap[t]:t[this.scope.id];if(u)return Z(u,function(c){return c._context===r&&(o||c.inContext(t))})}},{key:"forEachMatch",value:function(t,a){for(var r=0,o=this.list;r<o.length;r++){var u=o[r],c=void 0;if((O.string(u.target)?O.element(t)&&_e(t,u.target):t===u.target)&&u.inContext(t)&&(c=a(u)),c!==void 0)return c}}}]),n}(),No=function(){function n(){var t=this;b(this,n),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=pe,this.defaults=Hn(Mr),this.Eventable=Lr,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(r){var o=function u(c,f){var v=r.interactables.getExisting(c,f);return v||((v=r.interactables.new(c,f)).events.global=u.globalEvents),v};return o.getPointerAverage=ct,o.getTouchBBox=mt,o.getTouchDistance=kt,o.getTouchAngle=At,o.getElementRect=Ue,o.getElementClientRect=Ct,o.matchesSelector=_e,o.closest=gt,o.globalEvents={},o.version="1.10.27",o.scope=r,o.use=function(u,c){return this.scope.usePlugin(u,c),this},o.isSet=function(u,c){return!!this.scope.interactables.get(u,c&&c.context)},o.on=me(function(u,c,f){if(O.string(u)&&u.search(" ")!==-1&&(u=u.trim().split(/ +/)),O.array(u)){for(var v=0,w=u;v<w.length;v++){var g=w[v];this.on(g,c,f)}return this}if(O.object(u)){for(var x in u)this.on(x,u[x],c);return this}return Da(u,this.scope.actions)?this.globalEvents[u]?this.globalEvents[u].push(c):this.globalEvents[u]=[c]:this.scope.events.add(this.scope.document,u,c,{options:f}),this},"The interact.on() method is being deprecated"),o.off=me(function(u,c,f){if(O.string(u)&&u.search(" ")!==-1&&(u=u.trim().split(/ +/)),O.array(u)){for(var v=0,w=u;v<w.length;v++){var g=w[v];this.off(g,c,f)}return this}if(O.object(u)){for(var x in u)this.off(x,u[x],c);return this}var q;return Da(u,this.scope.actions)?u in this.globalEvents&&(q=this.globalEvents[u].indexOf(c))!==-1&&this.globalEvents[u].splice(q,1):this.scope.events.remove(this.scope.document,u,c,f),this},"The interact.off() method is being deprecated"),o.debug=function(){return this.scope},o.supportsTouch=function(){return pe.supportsTouch},o.supportsPointerEvent=function(){return pe.supportsPointerEvent},o.stop=function(){for(var u=0,c=this.scope.interactions.list;u<c.length;u++)c[u].stop();return this},o.pointerMoveTolerance=function(u){return O.number(u)?(this.scope.interactions.pointerMoveTolerance=u,this):this.scope.interactions.pointerMoveTolerance},o.addDocument=function(u,c){this.scope.addDocument(u,c)},o.removeDocument=function(u){this.scope.removeDocument(u)},o}(this),this.InteractEvent=Ga,this.Interactable=void 0,this.interactables=new Lo(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(r){return t.removeDocument(r.target)};var a=this;this.Interactable=function(r){X(u,r);var o=ie(u);function u(){return b(this,u),o.apply(this,arguments)}return h(u,[{key:"_defaults",get:function(){return a.defaults}},{key:"set",value:function(c){return be(D(u.prototype),"set",this).call(this,c),a.fire("interactable:set",{options:c,interactable:this}),this}},{key:"unset",value:function(){be(D(u.prototype),"unset",this).call(this);var c=a.interactables.list.indexOf(this);c<0||(a.interactables.list.splice(c,1),a.fire("interactable:unset",{interactable:this}))}}]),u}(Bo)}return h(n,[{key:"addListeners",value:function(t,a){this.listenerMaps.push({id:a,map:t})}},{key:"fire",value:function(t,a){for(var r=0,o=this.listenerMaps;r<o.length;r++){var u=o[r].map[t];if(u&&u(a,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:function(a,r){return a.isInitialized=!0,O.window(r)&&V(r),De.init(r),pe.init(r),Ae.init(r),a.window=r,a.document=r.document,a.usePlugin(Ro),a.usePlugin(Ao),a}(this,t)}},{key:"pluginIsInstalled",value:function(t){var a=t.id;return a?!!this._plugins.map[a]:this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,a){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,a),t.listeners&&t.before){for(var r=0,o=this.listenerMaps.length,u=t.before.reduce(function(f,v){return f[v]=!0,f[Xr(v)]=!0,f},{});r<o;r++){var c=this.listenerMaps[r].id;if(c&&(u[c]||u[Xr(c)]))break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,a){if(this.getDocIndex(t)!==-1)return!1;var r=ee(t);a=a?C({},a):{},this.documents.push({doc:t,options:a}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:a})}},{key:"removeDocument",value:function(t){var a=this.getDocIndex(t),r=ee(t),o=this.documents[a].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(a,1),this.events.documents.splice(a,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:o})}},{key:"getDocIndex",value:function(t){for(var a=0;a<this.documents.length;a++)if(this.documents[a].doc===t)return a;return-1}},{key:"getDocOptions",value:function(t){var a=this.getDocIndex(t);return a===-1?null:this.documents[a].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),n}();function Xr(n){return n&&n.replace(/\/.*$/,"")}var Yr=new No,Xt=Yr.interactStatic,Vo=typeof globalThis!="undefined"?globalThis:window;Yr.init(Vo);var jo=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(n){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var o=r[0],u=r[1];return o in n||u in n}),a=function(r,o){for(var u=n.range,c=n.limits,f=c===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:c,v=n.offset,w=v===void 0?{x:0,y:0}:v,g={range:u,grid:n,x:null,y:null},x=0;x<t.length;x++){var q=t[x],U=q[0],K=q[1],$=Math.round((r-w.x)/n[U]),fe=Math.round((o-w.y)/n[K]);g[U]=Math.max(f.left,Math.min(f.right,$*n[U]+w.x)),g[K]=Math.max(f.top,Math.min(f.bottom,fe*n[K]+w.y))}return g};return a.grid=n,a.coordFields=t,a}}),Xo={id:"snappers",install:function(n){var t=n.interactStatic;t.snappers=C(t.snappers||{},jo),t.createSnapGrid=t.snappers.grid}},Yo=Xo,Ko={start:function(n){var t=n.state,a=n.rect,r=n.edges,o=n.pageCoords,u=t.options,c=u.ratio,f=u.enabled,v=t.options,w=v.equalDelta,g=v.modifiers;c==="preserve"&&(c=a.width/a.height),t.startCoords=C({},o),t.startRect=C({},a),t.ratio=c,t.equalDelta=w;var x=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta){var q=(x.left?1:-1)*(x.top?1:-1);t.edgeSign={x:q,y:q}}else t.edgeSign={x:x.left?-1:1,y:x.top?-1:1};if(f!==!1&&C(r,x),g!=null&&g.length){var U=new Ua(n.interaction);U.copyFrom(n.interaction.modification),U.prepareStates(g),t.subModification=U,U.startAll(s({},n))}},set:function(n){var t=n.state,a=n.rect,r=n.coords,o=t.linkedEdges,u=C({},r),c=t.equalDelta?Uo:Go;if(C(n.edges,o),c(t,t.xIsPrimaryAxis,r,a),!t.subModification)return null;var f=C({},a);Ne(o,f,{x:r.x-u.x,y:r.y-u.y});var v=t.subModification.setAll(s(s({},n),{},{rect:f,edges:o,pageCoords:r,prevCoords:r,prevRect:f})),w=v.delta;return v.changed&&(c(t,Math.abs(w.x)>Math.abs(w.y),v.coords,v.rect),C(r,v.coords)),v.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Uo(n,t,a){var r=n.startCoords,o=n.edgeSign;t?a.y=r.y+(a.x-r.x)*o.y:a.x=r.x+(a.y-r.y)*o.x}function Go(n,t,a,r){var o=n.startRect,u=n.startCoords,c=n.ratio,f=n.edgeSign;if(t){var v=r.width/c;a.y=u.y+(v-o.height)*f.y}else{var w=r.height*c;a.x=u.x+(w-o.width)*f.x}}var Qo=yn(Ko,"aspectRatio"),Kr=function(){};Kr._defaults={};var Ta=Kr;function kn(n,t,a){return O.func(n)?de(n,t.interactable,t.element,[a.x,a.y,t]):de(n,t.interactable,t.element)}var Oa={start:function(n){var t=n.rect,a=n.startOffset,r=n.state,o=n.interaction,u=n.pageCoords,c=r.options,f=c.elementRect,v=C({left:0,top:0,right:0,bottom:0},c.offset||{});if(t&&f){var w=kn(c.restriction,o,u);if(w){var g=w.right-w.left-t.width,x=w.bottom-w.top-t.height;g<0&&(v.left+=g,v.right+=g),x<0&&(v.top+=x,v.bottom+=x)}v.left+=a.left-t.width*f.left,v.top+=a.top-t.height*f.top,v.right+=a.right-t.width*(1-f.right),v.bottom+=a.bottom-t.height*(1-f.bottom)}r.offset=v},set:function(n){var t=n.coords,a=n.interaction,r=n.state,o=r.options,u=r.offset,c=kn(o.restriction,a,t);if(c){var f=function(v){return!v||"left"in v&&"top"in v||((v=C({},v)).left=v.x||0,v.top=v.y||0,v.right=v.right||v.left+v.width,v.bottom=v.bottom||v.top+v.height),v}(c);t.x=Math.max(Math.min(f.right-u.right,t.x),f.left+u.left),t.y=Math.max(Math.min(f.bottom-u.bottom,t.y),f.top+u.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},$o=yn(Oa,"restrict"),Ur={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Gr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Qr(n,t){for(var a=0,r=["top","left","bottom","right"];a<r.length;a++){var o=r[a];o in n||(n[o]=t[o])}return n}var la={noInner:Ur,noOuter:Gr,start:function(n){var t,a=n.interaction,r=n.startOffset,o=n.state,u=o.options;u&&(t=Ee(kn(u.offset,a,a.coords.start.page))),t=t||{x:0,y:0},o.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(n){var t=n.coords,a=n.edges,r=n.interaction,o=n.state,u=o.offset,c=o.options;if(a){var f=C({},t),v=kn(c.inner,r,f)||{},w=kn(c.outer,r,f)||{};Qr(v,Ur),Qr(w,Gr),a.top?t.y=Math.min(Math.max(w.top+u.top,f.y),v.top+u.top):a.bottom&&(t.y=Math.max(Math.min(w.bottom+u.bottom,f.y),v.bottom+u.bottom)),a.left?t.x=Math.min(Math.max(w.left+u.left,f.x),v.left+u.left):a.right&&(t.x=Math.max(Math.min(w.right+u.right,f.x),v.right+u.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Zo=yn(la,"restrictEdges"),Jo=C({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(n){}},Oa.defaults),el=yn({start:Oa.start,set:Oa.set,defaults:Jo},"restrictRect"),tl={width:-1/0,height:-1/0},nl={width:1/0,height:1/0},al=yn({start:function(n){return la.start(n)},set:function(n){var t=n.interaction,a=n.state,r=n.rect,o=n.edges,u=a.options;if(o){var c=Re(kn(u.min,t,n.coords))||tl,f=Re(kn(u.max,t,n.coords))||nl;a.options={endOnly:u.endOnly,inner:C({},la.noInner),outer:C({},la.noOuter)},o.top?(a.options.inner.top=r.bottom-c.height,a.options.outer.top=r.bottom-f.height):o.bottom&&(a.options.inner.bottom=r.top+c.height,a.options.outer.bottom=r.top+f.height),o.left?(a.options.inner.left=r.right-c.width,a.options.outer.left=r.right-f.width):o.right&&(a.options.inner.right=r.left+c.width,a.options.outer.right=r.left+f.width),la.set(n),a.options=u}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),er={start:function(n){var t,a=n.interaction,r=n.interactable,o=n.element,u=n.rect,c=n.state,f=n.startOffset,v=c.options,w=v.offsetWithOrigin?function(q){var U=q.interaction.element,K=Ee(de(q.state.options.origin,null,null,[U])),$=K||Te(q.interactable,U,q.interaction.prepared.name);return $}(n):{x:0,y:0};if(v.offset==="startCoords")t={x:a.coords.start.page.x,y:a.coords.start.page.y};else{var g=de(v.offset,r,o,[a]);(t=Ee(g)||{x:0,y:0}).x+=w.x,t.y+=w.y}var x=v.relativePoints;c.offsets=u&&x&&x.length?x.map(function(q,U){return{index:U,relativePoint:q,x:f.left-u.width*q.x+t.x,y:f.top-u.height*q.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(n){var t=n.interaction,a=n.coords,r=n.state,o=r.options,u=r.offsets,c=Te(t.interactable,t.element,t.prepared.name),f=C({},a),v=[];o.offsetWithOrigin||(f.x-=c.x,f.y-=c.y);for(var w=0,g=u;w<g.length;w++)for(var x=g[w],q=f.x-x.x,U=f.y-x.y,K=0,$=o.targets.length;K<$;K++){var fe=o.targets[K],ue=void 0;(ue=O.func(fe)?fe(q,U,t._proxy,x,K):fe)&&v.push({x:(O.number(ue.x)?ue.x:q)+x.x,y:(O.number(ue.y)?ue.y:U)+x.y,range:O.number(ue.range)?ue.range:o.range,source:fe,index:K,offset:x})}for(var xe={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ke=0;Ke<v.length;Ke++){var it=v[Ke],Ie=it.range,Qe=it.x-f.x,Yt=it.y-f.y,Ot=wt(Qe,Yt),Qt=Ot<=Ie;Ie===1/0&&xe.inRange&&xe.range!==1/0&&(Qt=!1),xe.target&&!(Qt?xe.inRange&&Ie!==1/0?Ot/Ie<xe.distance/xe.range:Ie===1/0&&xe.range!==1/0||Ot<xe.distance:!xe.inRange&&Ot<xe.distance)||(xe.target=it,xe.distance=Ot,xe.range=Ie,xe.inRange=Qt,xe.delta.x=Qe,xe.delta.y=Yt)}return xe.inRange&&(a.x=xe.target.x,a.y=xe.target.y),r.closest=xe,xe},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},rl=yn(er,"snap"),Fa={start:function(n){var t=n.state,a=n.edges,r=t.options;if(!a)return null;n.state={options:{targets:null,relativePoints:[{x:a.left?0:1,y:a.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],er.start(n),t.offsets=n.state.offsets,n.state=t},set:function(n){var t=n.interaction,a=n.state,r=n.coords,o=a.options,u=a.offsets,c={x:r.x-u[0].x,y:r.y-u[0].y};a.options=C({},o),a.options.targets=[];for(var f=0,v=o.targets||[];f<v.length;f++){var w=v[f],g=void 0;if(g=O.func(w)?w(c.x,c.y,t):w){for(var x=0,q=a.targetFields;x<q.length;x++){var U=q[x],K=U[0],$=U[1];if(K in g||$ in g){g.x=g[K],g.y=g[$];break}}a.options.targets.push(g)}}var fe=er.set(n);return a.options=o,fe},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},il=yn(Fa,"snapSize"),tr={aspectRatio:Qo,restrictEdges:Zo,restrict:$o,restrictRect:el,restrictSize:al,snapEdges:yn({start:function(n){var t=n.edges;return t?(n.state.targetFields=n.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Fa.start(n)):null},set:Fa.set,defaults:C(Hn(Fa.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:rl,snapSize:il,spring:Ta,avoid:Ta,transform:Ta,rubberband:Ta},ol={id:"modifiers",install:function(n){var t=n.interactStatic;for(var a in n.usePlugin(zr),n.usePlugin(Yo),t.modifiers=tr,tr){var r=tr[a],o=r._defaults,u=r._methods;o._methods=u,n.defaults.perAction[a]=o}}},ll=ol,$r=function(n){X(a,n);var t=ie(a);function a(r,o,u,c,f,v){var w;if(b(this,a),st(te(w=t.call(this,f)),u),u!==o&&st(te(w),o),w.timeStamp=v,w.originalEvent=u,w.type=r,w.pointerId=nt(o),w.pointerType=zt(o),w.target=c,w.currentTarget=null,r==="tap"){var g=f.getPointerIndex(o);w.dt=w.timeStamp-f.pointers[g].downTime;var x=w.timeStamp-f.tapTime;w.double=!!f.prevTap&&f.prevTap.type!=="doubletap"&&f.prevTap.target===w.target&&x<500}else r==="doubletap"&&(w.dt=o.timeStamp-f.tapTime,w.double=!0);return w}return h(a,[{key:"_subtractOrigin",value:function(r){var o=r.x,u=r.y;return this.pageX-=o,this.pageY-=u,this.clientX-=o,this.clientY-=u,this}},{key:"_addOrigin",value:function(r){var o=r.x,u=r.y;return this.pageX+=o,this.pageY+=u,this.clientX+=o,this.clientY+=u,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),a}(pt),sa={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(n){n.pointerEvents=sa,n.defaults.actions.pointerEvents=sa.defaults,C(n.actions.phaselessTypes,sa.types)},listeners:{"interactions:new":function(n){var t=n.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(n){var t=n.down,a=n.pointerInfo;!t&&a.hold||(a.hold={duration:1/0,timeout:null})},"interactions:move":function(n,t){var a=n.interaction,r=n.pointer,o=n.event,u=n.eventTarget;n.duplicate||a.pointerIsDown&&!a.pointerWasMoved||(a.pointerIsDown&&nr(n),pn({interaction:a,pointer:r,event:o,eventTarget:u,type:"move"},t))},"interactions:down":function(n,t){(function(a,r){for(var o=a.interaction,u=a.pointer,c=a.event,f=a.eventTarget,v=a.pointerIndex,w=o.pointers[v].hold,g=Pe(f),x={interaction:o,pointer:u,event:c,eventTarget:f,type:"hold",targets:[],path:g,node:null},q=0;q<g.length;q++){var U=g[q];x.node=U,r.fire("pointerEvents:collect-targets",x)}if(!!x.targets.length){for(var K=1/0,$=0,fe=x.targets;$<fe.length;$++){var ue=fe[$].eventable.options.holdDuration;ue<K&&(K=ue)}w.duration=K,w.timeout=setTimeout(function(){pn({interaction:o,eventTarget:f,pointer:u,event:c,type:"hold"},r)},K)}})(n,t),pn(n,t)},"interactions:up":function(n,t){nr(n),pn(n,t),function(a,r){var o=a.interaction,u=a.pointer,c=a.event,f=a.eventTarget;o.pointerWasMoved||pn({interaction:o,eventTarget:f,pointer:u,event:c,type:"tap"},r)}(n,t)},"interactions:cancel":function(n,t){nr(n),pn(n,t)}},PointerEvent:$r,fire:pn,collectEventTargets:Zr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function pn(n,t){var a=n.interaction,r=n.pointer,o=n.event,u=n.eventTarget,c=n.type,f=n.targets,v=f===void 0?Zr(n,t):f,w=new $r(c,r,o,u,a,t.now());t.fire("pointerEvents:new",{pointerEvent:w});for(var g={interaction:a,pointer:r,event:o,eventTarget:u,targets:v,type:c,pointerEvent:w},x=0;x<v.length;x++){var q=v[x];for(var U in q.props||{})w[U]=q.props[U];var K=Te(q.eventable,q.node);if(w._subtractOrigin(K),w.eventable=q.eventable,w.currentTarget=q.node,q.eventable.fire(w),w._addOrigin(K),w.immediatePropagationStopped||w.propagationStopped&&x+1<v.length&&v[x+1].node!==w.currentTarget)break}if(t.fire("pointerEvents:fired",g),c==="tap"){var $=w.double?pn({interaction:a,pointer:r,event:o,eventTarget:u,type:"doubletap"},t):w;a.prevTap=$,a.tapTime=$.timeStamp}return w}function Zr(n,t){var a=n.interaction,r=n.pointer,o=n.event,u=n.eventTarget,c=n.type,f=a.getPointerIndex(r),v=a.pointers[f];if(c==="tap"&&(a.pointerWasMoved||!v||v.downTarget!==u))return[];for(var w=Pe(u),g={interaction:a,pointer:r,event:o,eventTarget:u,type:c,path:w,targets:[],node:null},x=0;x<w.length;x++){var q=w[x];g.node=q,t.fire("pointerEvents:collect-targets",g)}return c==="hold"&&(g.targets=g.targets.filter(function(U){var K,$;return U.eventable.options.holdDuration===((K=a.pointers[f])==null||($=K.hold)==null?void 0:$.duration)})),g.targets}function nr(n){var t=n.interaction,a=n.pointerIndex,r=t.pointers[a].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var sl=Object.freeze({__proto__:null,default:sa});function ul(n){var t=n.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var dl={id:"pointer-events/holdRepeat",install:function(n){n.usePlugin(sa);var t=n.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=n.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(n,t){return n["pointerEvents:".concat(t)]=ul,n},{"pointerEvents:new":function(n){var t=n.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(n,t){var a=n.interaction,r=n.pointerEvent,o=n.eventTarget,u=n.targets;if(r.type==="hold"&&u.length){var c=u[0].eventable.options.holdRepeatInterval;c<=0||(a.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:a,eventTarget:o,type:"hold",pointer:r,event:r},t)},c))}}})},cl=dl,fl={id:"pointer-events/interactableTargets",install:function(n){var t=n.Interactable;t.prototype.pointerEvents=function(r){return C(this.events.options,r),this};var a=t.prototype._backCompatOption;t.prototype._backCompatOption=function(r,o){var u=a.call(this,r,o);return u===this&&(this.events.options[r]=o),u}},listeners:{"pointerEvents:collect-targets":function(n,t){var a=n.targets,r=n.node,o=n.type,u=n.eventTarget;t.interactables.forEachMatch(r,function(c){var f=c.events,v=f.options;f.types[o]&&f.types[o].length&&c.testIgnoreAllow(v,r,u)&&a.push({node:r,eventable:f,props:{interactable:c}})})},"interactable:new":function(n){var t=n.interactable;t.events.getRect=function(a){return t.getRect(a)}},"interactable:set":function(n,t){var a=n.interactable,r=n.options;C(a.events.options,t.pointerEvents.defaults),C(a.events.options,r.pointerEvents||{})}}},hl=fl,vl={id:"pointer-events",install:function(n){n.usePlugin(sl),n.usePlugin(cl),n.usePlugin(hl)}},gl=vl,yl={id:"reflow",install:function(n){var t=n.Interactable;n.actions.phases.reflow=!0,t.prototype.reflow=function(a){return function(r,o,u){for(var c=r.getAllElements(),f=u.window.Promise,v=f?[]:null,w=function(){var x=c[g],q=r.getRect(x);if(!q)return 1;var U,K=Z(u.interactions.list,function(ue){return ue.interacting()&&ue.interactable===r&&ue.element===x&&ue.prepared.name===o.name});if(K)K.move(),v&&(U=K._reflowPromise||new f(function(ue){K._reflowResolve=ue}));else{var $=Re(q),fe=function(ue){return{coords:ue,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:$.x,y:$.y},client:{x:$.x,y:$.y},timeStamp:u.now()});U=function(ue,xe,Ke,it,Ie){var Qe=ue.interactions.new({pointerType:"reflow"}),Yt={interaction:Qe,event:Ie,pointer:Ie,eventTarget:Ke,phase:"reflow"};Qe.interactable=xe,Qe.element=Ke,Qe.prevEvent=Ie,Qe.updatePointer(Ie,Ie,Ke,!0),P(Qe.coords.delta),He(Qe.prepared,it),Qe._doPhase(Yt);var Ot=ue.window,Qt=Ot.Promise,an=Qt?new Qt(function(dn){Qe._reflowResolve=dn}):void 0;return Qe._reflowPromise=an,Qe.start(it,xe,Ke),Qe._interacting?(Qe.move(Yt),Qe.end(Ie)):(Qe.stop(),Qe._reflowResolve()),Qe.removePointer(Ie,Ie),an}(u,r,x,o,fe)}v&&v.push(U)},g=0;g<c.length&&!w();g++);return v&&f.all(v).then(function(){return r})}(this,a,n)}},listeners:{"interactions:stop":function(n,t){var a=n.interaction;a.pointerType==="reflow"&&(a._reflowResolve&&a._reflowResolve(),function(r,o){r.splice(r.indexOf(o),1)}(t.interactions.list,a))}}},ml=yl;if(Xt.use(qr),Xt.use(Wr),Xt.use(gl),Xt.use(Io),Xt.use(ll),Xt.use(ko),Xt.use(oe),Xt.use(ye),Xt.use(ml),Xt.default=Xt,d(e)==="object"&&e)try{e.exports=Xt}catch{}return Xt.default=Xt,Xt})})(Yi);var hi=Yi.exports;const mr=vn({__name:"grid-item",props:{isDraggable:{type:Boolean,default:null},isResizable:{type:Boolean,default:null},isBounded:{type:Boolean,default:null},static:{type:Boolean,default:!1},minH:{type:Number,default:1},minW:{type:Number,default:1},maxH:{type:Number,default:1/0},maxW:{type:Number,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{type:[Number,String],required:!0},dragIgnoreFrom:{type:String,default:"a, button"},dragAllowFrom:{type:String,default:null},resizeIgnoreFrom:{type:String,default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{type:Object,default:()=>({})},resizeOption:{type:Object,default:()=>({})}},emits:["container-resized","resize","resized","move","moved"],setup(e,{expose:i,emit:l}){const s=e,d=ti(Ri),b=ti(Bi);if(!d)throw new Error("[grid-layout-plus]: missing layout store, GridItem must under a GridLayout.");const m=L(null),h=Jt({cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:null,resizable:null,bounded:null,transformScale:1,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:{top:-1,left:-1},isResizing:!1,resizing:{width:-1,height:-1},style:{},rtl:!1});let H=!1,X=!1,D=NaN,M=NaN,te=NaN,ie=NaN,be=-1,he=-1,N=-1,re=-1,R=s.x,V=s.y,ee=s.w,Se=s.h;const Ve=L(),O=Jt({i:xl(s,"i"),state:h,wrapper:Ve,calcXY:ke});function we(P){Te(P)}function le(){$e()}function A(P){Zt(s.isDraggable)&&(h.draggable=P)}function ae(P){Zt(s.isResizable)&&(h.resizable=P)}function F(P){Zt(s.isBounded)&&(h.bounded=P)}function We(P){h.transformScale=P}function De(P){h.rowHeight=P}function Oe(P){h.maxRows=P}function pe(){h.rtl=fi()==="rtl",$e()}function lt(P){h.cols=Math.floor(P)}d.increaseItem(O),Hi(()=>{h.rtl=fi()==="rtl"}),wn(()=>{d.responsive&&d.lastBreakpoint?h.cols=yr(d.lastBreakpoint,d.cols):h.cols=d.colNum,h.rowHeight=d.rowHeight,h.containerWidth=d.width!==null?d.width:100,h.margin=d.margin!==void 0?d.margin.map(Number):[10,10],h.maxRows=d.maxRows,Zt(s.isDraggable)?h.draggable=d.isDraggable:h.draggable=s.isDraggable,Zt(s.isResizable)?h.resizable=d.isResizable:h.resizable=s.isResizable,Zt(s.isBounded)?h.bounded=d.isBounded:h.bounded=s.isBounded,h.transformScale=d.transformScale,h.useCssTransforms=d.useCssTransforms,h.useStyleCursor=d.useStyleCursor,Dl(()=>{R=s.x,V=s.y,Se=s.h,ee=s.w,Ut(Ct)}),b.on("updateWidth",we),b.on("compact",le),b.on("setDraggable",A),b.on("setResizable",ae),b.on("setBounded",F),b.on("setTransformScale",We),b.on("setRowHeight",De),b.on("setMaxRows",Oe),b.on("directionchange",pe),b.on("setColNum",lt)}),wr(()=>{b.off("updateWidth",we),b.off("compact",le),b.off("setDraggable",A),b.off("setResizable",ae),b.off("setBounded",F),b.off("setTransformScale",We),b.off("setRowHeight",De),b.off("setMaxRows",Oe),b.off("directionchange",pe),b.off("setColNum",lt),m.value&&(m.value.unset(),m.value=null),d.decreaseItem(O)}),i({state:h,wrapper:Ve});const gt=navigator.userAgent.toLowerCase().includes("android"),Ze=J(()=>h.resizable&&!s.static),_e=J(()=>d.isMirrored?!h.rtl:h.rtl),Je=J(()=>(h.draggable||h.resizable)&&!s.static),tt=Ul("item"),vt=J(()=>({[tt.b()]:!0,[tt.bm("resizable")]:Ze.value,[tt.bm("static")]:s.static,[tt.bm("resizing")]:h.isResizing,[tt.bm("dragging")]:h.isDragging,[tt.bm("transform")]:h.useCssTransforms,[tt.bm("rtl")]:_e.value,[tt.bm("no-touch")]:gt&&Je.value})),at=J(()=>[tt.be("resizer"),_e.value&&tt.bem("resizer","rtl")].filter(Boolean));ve(()=>s.isDraggable,P=>{h.draggable=P}),ve(()=>s.static,()=>{Ut(yt),Ut(_t)}),ve(()=>h.draggable,()=>{Ut(yt)}),ve(()=>s.isResizable,P=>{h.resizable=P}),ve(()=>s.isBounded,P=>{h.bounded=P}),ve(()=>h.resizable,()=>{Ut(_t)}),ve(()=>h.rowHeight,()=>{Ut(Ct),Ut(Ue)}),ve([()=>h.cols,()=>h.containerWidth],()=>{Ut(_t),Ut(Ct),Ut(Ue)}),ve([()=>s.minH,()=>s.maxH,()=>s.minW,()=>s.maxW],()=>{Ut(_t)}),ve(_e,()=>{Ut(_t),Ut(Ct)}),ve([()=>d.margin,()=>d.margin[0],()=>d.margin[1]],()=>{const P=d.margin;!P||P[0]===h.margin[0]&&P[1]===h.margin[1]||(h.margin=P.map(Number),Ut(Ct),Ut(Ue))});function Ct(){s.x+s.w>h.cols?(R=0,ee=s.w>h.cols?h.cols:s.w):(R=s.x,ee=s.w);const P=C(R,V,ee,Se);h.isDragging&&(P.top=h.dragging.top,_e.value?P.right=h.dragging.left:P.left=h.dragging.left),h.isResizing&&(P.width=h.resizing.width,P.height=h.resizing.height);let ce;h.useCssTransforms?_e.value?ce=jl(P.top,P.right,P.width,P.height):ce=Vl(P.top,P.left,P.width,P.height):_e.value?ce=Yl(P.top,P.right,P.width,P.height):ce=Xl(P.top,P.left,P.width,P.height),h.style=ce}function Ue(){const P={};for(const ce of["width","height"]){const Be=h.style[ce].match(/^(\d+)px$/);if(!Be)return;P[ce]=Be[1]}l("container-resized",s.i,s.h,s.w,P.height,P.width)}function Pe(P){if(s.static)return;const ce=P.type;if(ce==="resizestart"&&h.isResizing||ce!=="resizestart"&&!h.isResizing)return;const Be=di(P);if(Zt(Be))return;const{x:qe,y:nt}=Be,ze={width:0,height:0};let ge;switch(ce){case"resizestart":{_t(),be=ee,he=Se,ge=C(R,V,ee,Se),ze.width=ge.width,ze.height=ge.height,h.resizing=ze,h.isResizing=!0;break}case"resizemove":{const ct=ci(te,ie,qe,nt);_e.value?ze.width=h.resizing.width-ct.deltaX/h.transformScale:ze.width=h.resizing.width+ct.deltaX/h.transformScale,ze.height=h.resizing.height+ct.deltaY/h.transformScale,h.resizing=ze;break}case"resizeend":{ge=C(R,V,ee,Se),ze.width=ge.width,ze.height=ge.height,h.resizing={width:-1,height:-1},h.isResizing=!1;break}}ge=Ne(ze.height,ze.width),ge.w<s.minW&&(ge.w=s.minW),ge.w>s.maxW&&(ge.w=s.maxW),ge.h<s.minH&&(ge.h=s.minH),ge.h>s.maxH&&(ge.h=s.maxH),ge.h<1&&(ge.h=1),ge.w<1&&(ge.w=1),te=qe,ie=nt,(ee!==ge.w||Se!==ge.h)&&l("resize",s.i,ge.h,ge.w,ze.height,ze.width),P.type==="resizeend"&&(be!==ee||he!==Se)&&l("resized",s.i,ge.h,ge.w,ze.height,ze.width),b.emit("resizeEvent",P.type,s.i,R,V,ge.h,ge.w)}function Ce(P){if(s.static||h.isResizing)return;const ce=P.type;if(ce==="dragstart"&&h.isDragging||ce!=="dragstart"&&!h.isDragging)return;const Be=di(P);if(Zt(Be))return;const{x:qe,y:nt}=Be,ze=P.target;if(!ze.offsetParent)return;const ge={top:0,left:0};switch(ce){case"dragstart":{N=R,re=V;const mt=ze.offsetParent.getBoundingClientRect(),kt=ze.getBoundingClientRect(),At=kt.left/h.transformScale,zt=mt.left/h.transformScale,xt=kt.right/h.transformScale,pt=mt.right/h.transformScale,ft=kt.top/h.transformScale,Et=mt.top/h.transformScale;_e.value?ge.left=(xt-pt)*-1:ge.left=At-zt,ge.top=ft-Et,h.dragging=ge,h.isDragging=!0;break}case"dragmove":{const mt=ci(D,M,qe,nt);if(_e.value?ge.left=h.dragging.left-mt.deltaX/h.transformScale:ge.left=h.dragging.left+mt.deltaX/h.transformScale,ge.top=h.dragging.top+mt.deltaY/h.transformScale,h.bounded){const kt=ze.offsetParent.clientHeight-Ee(s.h,h.rowHeight,h.margin[1]);ge.top=Re(ge.top,0,kt);const At=de(),zt=h.containerWidth-Ee(s.w,At,h.margin[0]);ge.left=Re(ge.left,0,zt)}h.dragging=ge;break}case"dragend":{const mt=ze.offsetParent.getBoundingClientRect(),kt=ze.getBoundingClientRect(),At=kt.left/h.transformScale,zt=mt.left/h.transformScale,xt=kt.right/h.transformScale,pt=mt.right/h.transformScale,ft=kt.top/h.transformScale,Et=mt.top/h.transformScale;_e.value?ge.left=(xt-pt)*-1:ge.left=At-zt,ge.top=ft-Et,h.dragging={top:-1,left:-1},h.isDragging=!1;break}}let ct;_e.value,ct=ke(ge.top,ge.left),D=qe,M=nt,(R!==ct.x||V!==ct.y)&&l("move",s.i,ct.x,ct.y),P.type==="dragend"&&(N!==R||re!==V)&&l("moved",s.i,ct.x,ct.y),b.emit("dragEvent",P.type,s.i,ct.x,ct.y,Se,ee)}function C(P,ce,Be,qe){const nt=de();let ze;return _e.value?ze={right:Math.round(nt*P+(P+1)*h.margin[0]),top:Math.round(h.rowHeight*ce+(ce+1)*h.margin[1]),width:Be===1/0?Be:Math.round(nt*Be+Math.max(0,Be-1)*h.margin[0]),height:qe===1/0?qe:Math.round(h.rowHeight*qe+Math.max(0,qe-1)*h.margin[1])}:ze={left:Math.round(nt*P+(P+1)*h.margin[0]),top:Math.round(h.rowHeight*ce+(ce+1)*h.margin[1]),width:Be===1/0?Be:Math.round(nt*Be+Math.max(0,Be-1)*h.margin[0]),height:qe===1/0?qe:Math.round(h.rowHeight*qe+Math.max(0,qe-1)*h.margin[1])},ze}function ke(P,ce){const Be=de();let qe=Math.round((ce-h.margin[0])/(Be+h.margin[0])),nt=Math.round((P-h.margin[1])/(h.rowHeight+h.margin[1]));return qe=Math.max(Math.min(qe,h.cols-ee),0),nt=Math.max(Math.min(nt,h.maxRows-Se),0),{x:qe,y:nt}}function de(){return(h.containerWidth-h.margin[0]*(h.cols+1))/h.cols}function Ee(P,ce,Be){return Number.isFinite(P)?Math.round(ce*P+Math.max(0,P-1)*Be):P}function Re(P,ce,Be){return Math.max(Math.min(P,Be),ce)}function Ne(P,ce,Be=!1){const qe=de();let nt=Math.round((ce+h.margin[0])/(qe+h.margin[0])),ze=0;return Be?ze=Math.ceil((P+h.margin[1])/(h.rowHeight+h.margin[1])):ze=Math.round((P+h.margin[1])/(h.rowHeight+h.margin[1])),nt=Math.max(Math.min(nt,h.cols-R),0),ze=Math.max(Math.min(ze,h.maxRows-V),0),{w:nt,h:ze}}function Te(P,ce){h.containerWidth=P,ce!=null&&(h.cols=ce)}function $e(){Ct()}function Fe(){!m.value&&Ve.value&&(m.value=hi(Ve.value),h.useStyleCursor||m.value.styleCursor(!1))}const wt=li(Ce);function yt(){if(Fe(),!!m.value)if(h.draggable&&!s.static){const P={ignoreFrom:s.dragIgnoreFrom,allowFrom:s.dragAllowFrom,...s.dragOption};m.value.draggable(P),H||(H=!0,m.value.on("dragstart dragmove dragend",ce=>{ce.type==="dragmove"?wt(ce):Ce(ce)}))}else m.value.draggable({enabled:!1})}const st=li(Pe);function _t(){if(Fe(),!!m.value)if(h.resizable&&!s.static){const P=C(0,0,s.maxW,s.maxH),ce=C(0,0,s.minW,s.minH),Be={edges:{left:!1,right:`.${at.value[0]}`,bottom:`.${at.value[0]}`,top:!1},ignoreFrom:s.resizeIgnoreFrom,restrictSize:{min:{height:ce.height*h.transformScale,width:ce.width*h.transformScale},max:{height:P.height*h.transformScale,width:P.width*h.transformScale}},...s.resizeOption};s.preserveAspectRatio&&(Be.modifiers=[hi.modifiers.aspectRatio({ratio:"preserve"})]),m.value.resizable(Be),X||(X=!0,m.value.on("resizestart resizemove resizeend",qe=>{qe.type==="resizemove"?st(qe):Pe(qe)}))}else m.value.resizable({enabled:!1})}return(P,ce)=>(dt(),jt("section",{ref_key:"wrapper",ref:Ve,class:Dn(ar(vt)),style:_r(h.style)},[cr(P.$slots,"default"),ar(Ze)?(dt(),jt("span",{key:0,class:Dn(ar(at))},null,2)):cn("",!0)],6))}}),On=typeof window<"u";var vi;On&&(vi=window==null?void 0:window.navigator)!=null&&vi.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gi(e){return e!=null}function or(){}const ns=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(ns)));const as=On&&("ontouchstart"in window||is()>0),rs=as?"pointerdown":"click";function is(){return typeof navigator<"u"&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)||0}function os(e,i,l=window.Event){const{type:s,bubbles:d=!1,cancelable:b=!1,...m}=i;if(!gi(s)||s==="")return!1;let h;return gi(l)?h=new l(s,{bubbles:d,cancelable:b}):(h=document.createEvent("HTMLEvents"),h.initEvent(s,d,b)),Object.assign(h,m),e.dispatchEvent(h)}const ls="clickoutside",ss=new Set;On&&document.addEventListener(rs,e=>{const i=e.target,l=e.composedPath&&e.composedPath();ss.forEach(s=>{s!==i&&(l?!l.includes(s):!s.contains(i))&&(!s.__transferElement||s.__transferElement!==i&&!s.__transferElement.contains(i))&&os(s,{type:ls})})},!0);const us=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];let ga;if(On){for(const e of us)if(e[1]in document){ga=e;break}}const ds=!!ga;J(()=>!1);const cs=new Set,fs=new WeakMap;if(On&&ga){const e=ga[2],i=ga[4];document.addEventListener(i,()=>{if(cs.forEach(l=>{l.value=!1}),document[e]){const l=fs.get(document[e]);l&&(l.value=!0)}},!1)}const Ki=new Map;Ki.set("x",0);Ki.set("y",0);var Sn=[],hs=function(){return Sn.some(function(e){return e.activeTargets.length>0})},vs=function(){return Sn.some(function(e){return e.skippedTargets.length>0})},yi="ResizeObserver loop completed with undelivered notifications.",gs=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:yi}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=yi),window.dispatchEvent(e)},pa;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(pa||(pa={}));var Cn=function(e){return Object.freeze(e)},ys=function(){function e(i,l){this.inlineSize=i,this.blockSize=l,Cn(this)}return e}(),Ui=function(){function e(i,l,s,d){return this.x=i,this.y=l,this.width=s,this.height=d,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Cn(this)}return e.prototype.toJSON=function(){var i=this,l=i.x,s=i.y,d=i.top,b=i.right,m=i.bottom,h=i.left,H=i.width,X=i.height;return{x:l,y:s,top:d,right:b,bottom:m,left:h,width:H,height:X}},e.fromRect=function(i){return new e(i.x,i.y,i.width,i.height)},e}(),kr=function(e){return e instanceof SVGElement&&"getBBox"in e},Gi=function(e){if(kr(e)){var i=e.getBBox(),l=i.width,s=i.height;return!l&&!s}var d=e,b=d.offsetWidth,m=d.offsetHeight;return!(b||m||e.getClientRects().length)},mi=function(e){var i;if(e instanceof Element)return!0;var l=(i=e==null?void 0:e.ownerDocument)===null||i===void 0?void 0:i.defaultView;return!!(l&&e instanceof l.Element)},ms=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ya=typeof window<"u"?window:{},Ha=new WeakMap,pi=/auto|scroll/,ps=/^tb|vertical/,bs=/msie|trident/i.test(ya.navigator&&ya.navigator.userAgent),un=function(e){return parseFloat(e||"0")},Pn=function(e,i,l){return e===void 0&&(e=0),i===void 0&&(i=0),l===void 0&&(l=!1),new ys((l?i:e)||0,(l?e:i)||0)},bi=Cn({devicePixelContentBoxSize:Pn(),borderBoxSize:Pn(),contentBoxSize:Pn(),contentRect:new Ui(0,0,0,0)}),Qi=function(e,i){if(i===void 0&&(i=!1),Ha.has(e)&&!i)return Ha.get(e);if(Gi(e))return Ha.set(e,bi),bi;var l=getComputedStyle(e),s=kr(e)&&e.ownerSVGElement&&e.getBBox(),d=!bs&&l.boxSizing==="border-box",b=ps.test(l.writingMode||""),m=!s&&pi.test(l.overflowY||""),h=!s&&pi.test(l.overflowX||""),H=s?0:un(l.paddingTop),X=s?0:un(l.paddingRight),D=s?0:un(l.paddingBottom),M=s?0:un(l.paddingLeft),te=s?0:un(l.borderTopWidth),ie=s?0:un(l.borderRightWidth),be=s?0:un(l.borderBottomWidth),he=s?0:un(l.borderLeftWidth),N=M+X,re=H+D,R=he+ie,V=te+be,ee=h?e.offsetHeight-V-e.clientHeight:0,Se=m?e.offsetWidth-R-e.clientWidth:0,Ve=d?N+R:0,O=d?re+V:0,we=s?s.width:un(l.width)-Ve-Se,le=s?s.height:un(l.height)-O-ee,A=we+N+Se+R,ae=le+re+ee+V,F=Cn({devicePixelContentBoxSize:Pn(Math.round(we*devicePixelRatio),Math.round(le*devicePixelRatio),b),borderBoxSize:Pn(A,ae,b),contentBoxSize:Pn(we,le,b),contentRect:new Ui(M,H,we,le)});return Ha.set(e,F),F},$i=function(e,i,l){var s=Qi(e,l),d=s.borderBoxSize,b=s.contentBoxSize,m=s.devicePixelContentBoxSize;switch(i){case pa.DEVICE_PIXEL_CONTENT_BOX:return m;case pa.BORDER_BOX:return d;default:return b}},ws=function(){function e(i){var l=Qi(i);this.target=i,this.contentRect=l.contentRect,this.borderBoxSize=Cn([l.borderBoxSize]),this.contentBoxSize=Cn([l.contentBoxSize]),this.devicePixelContentBoxSize=Cn([l.devicePixelContentBoxSize])}return e}(),Zi=function(e){if(Gi(e))return 1/0;for(var i=0,l=e.parentNode;l;)i+=1,l=l.parentNode;return i},_s=function(){var e=1/0,i=[];Sn.forEach(function(b){if(b.activeTargets.length!==0){var m=[];b.activeTargets.forEach(function(h){var H=new ws(h.target),X=Zi(h.target);m.push(H),h.lastReportedSize=$i(h.target,h.observedBox),X<e&&(e=X)}),i.push(function(){b.callback.call(b.observer,m,b.observer)}),b.activeTargets.splice(0,b.activeTargets.length)}});for(var l=0,s=i;l<s.length;l++){var d=s[l];d()}return e},wi=function(e){Sn.forEach(function(i){i.activeTargets.splice(0,i.activeTargets.length),i.skippedTargets.splice(0,i.skippedTargets.length),i.observationTargets.forEach(function(l){l.isActive()&&(Zi(l.target)>e?i.activeTargets.push(l):i.skippedTargets.push(l))})})},ks=function(){var e=0;for(wi(e);hs();)e=_s(),wi(e);return vs()&&gs(),e>0},lr,Ji=[],xs=function(){return Ji.splice(0).forEach(function(e){return e()})},Ds=function(e){if(!lr){var i=0,l=document.createTextNode(""),s={characterData:!0};new MutationObserver(function(){return xs()}).observe(l,s),lr=function(){l.textContent="".concat(i?i--:i++)}}Ji.push(e),lr()},Ss=function(e){Ds(function(){requestAnimationFrame(e)})},Pa=0,Cs=function(){return!!Pa},Es=250,Ts={attributes:!0,characterData:!0,childList:!0,subtree:!0},_i=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ki=function(e){return e===void 0&&(e=0),Date.now()+e},sr=!1,Os=function(){function e(){var i=this;this.stopped=!0,this.listener=function(){return i.schedule()}}return e.prototype.run=function(i){var l=this;if(i===void 0&&(i=Es),!sr){sr=!0;var s=ki(i);Ss(function(){var d=!1;try{d=ks()}finally{if(sr=!1,i=s-ki(),!Cs())return;d?l.run(1e3):i>0?l.run(i):l.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var i=this,l=function(){return i.observer&&i.observer.observe(document.body,Ts)};document.body?l():ya.addEventListener("DOMContentLoaded",l)},e.prototype.start=function(){var i=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_i.forEach(function(l){return ya.addEventListener(l,i.listener,!0)}))},e.prototype.stop=function(){var i=this;this.stopped||(this.observer&&this.observer.disconnect(),_i.forEach(function(l){return ya.removeEventListener(l,i.listener,!0)}),this.stopped=!0)},e}(),pr=new Os,xi=function(e){!Pa&&e>0&&pr.start(),Pa+=e,!Pa&&pr.stop()},Fs=function(e){return!kr(e)&&!ms(e)&&getComputedStyle(e).display==="inline"},qs=function(){function e(i,l){this.target=i,this.observedBox=l||pa.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var i=$i(this.target,this.observedBox,!0);return Fs(this.target)&&(this.lastReportedSize=i),this.lastReportedSize.inlineSize!==i.inlineSize||this.lastReportedSize.blockSize!==i.blockSize},e}(),zs=function(){function e(i,l){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=i,this.callback=l}return e}(),Aa=new WeakMap,Di=function(e,i){for(var l=0;l<e.length;l+=1)if(e[l].target===i)return l;return-1},Wa=function(){function e(){}return e.connect=function(i,l){var s=new zs(i,l);Aa.set(i,s)},e.observe=function(i,l,s){var d=Aa.get(i),b=d.observationTargets.length===0;Di(d.observationTargets,l)<0&&(b&&Sn.push(d),d.observationTargets.push(new qs(l,s&&s.box)),xi(1),pr.schedule())},e.unobserve=function(i,l){var s=Aa.get(i),d=Di(s.observationTargets,l),b=s.observationTargets.length===1;d>=0&&(b&&Sn.splice(Sn.indexOf(s),1),s.observationTargets.splice(d,1),xi(-1))},e.disconnect=function(i){var l=this,s=Aa.get(i);s.observationTargets.slice().forEach(function(d){return l.unobserve(i,d.target)}),s.activeTargets.splice(0,s.activeTargets.length)},e}(),Ms=function(){function e(i){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof i!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Wa.connect(this,i)}return e.prototype.observe=function(i,l){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mi(i))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Wa.observe(this,i,l)},e.prototype.unobserve=function(i){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mi(i))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Wa.unobserve(this,i)},e.prototype.disconnect=function(){Wa.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Ra=new WeakMap;function Is(e){for(let i=0,l=e.length;i<l;++i){const s=e[i],d=Ra.get(s.target);typeof d=="function"&&d(s)}}const eo=new(On&&window.ResizeObserver||Ms)(Is);function Hs(e,i){Ra.set(e,i),eo.observe(e)}function As(e){Ra.has(e)&&(eo.unobserve(e),Ra.delete(e))}function Ws(){return{observeResize:Hs,unobserveResize:As}}const Ps=L(!1);J(()=>Ps.value);Object.freeze(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]);const Si="__theme_style__",ur="__theme_observer__",Ci=Jt(new Map),Ei=new Map;ve(Ci,()=>{if(!On)return;Ei.clear();const e=document.head.querySelector(`#${Si}`);e&&document.head.removeChild(e);const i=document.createElement("style");let l=`.${ur} { width: 1px }`,s=1;for(const[d,[b,m]]of Ci.entries())l+=` html.${b} .${ur}, .${m} .${ur} { width: ${++s}px }`,Ei.set(s,d);i.textContent=l,i.id=Si,document.head.appendChild(i)});const Rs=vn({__name:"grid-layout",props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default:()=>({})},transformScale:{type:Number,default:1},breakpoints:{type:Object,default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{type:Object,default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-before-mount","layout-mounted","layout-updated","breakpoint-changed","update:layout","layout-ready"],setup(e,{expose:i,emit:l}){const s=e,d=Jt({width:-1,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:""},layouts:{},lastBreakpoint:null,originalLayout:null}),b=new Map,m=L(s.layout),h=L(),{observeResize:H,unobserveResize:X}=Ws(),D=Al();D.on("resizeEvent",M),D.on("dragEvent",te),Hi(()=>{l("layout-before-mount",m.value)}),wn(()=>{l("layout-mounted",m.value),en(()=>{Kl(m.value),d.originalLayout=m.value,en(()=>{we(),h.value&&H(h.value,Wl(R,16)),An(m.value,s.verticalCompact),l("layout-updated",m.value),re(),R()})})}),wr(()=>{D.clearAll(),h.value&&X(h.value)});function M(A,ae,F,We,De,Oe){Ve(A,ae,F,We,De,Oe)}function te(A,ae,F,We,De,Oe){Se(A,ae,F,We,De,Oe)}ve(()=>d.width,(A,ae)=>{en(()=>{D.emit("updateWidth",A),ae===-1&&en(()=>{l("layout-ready",m.value)}),re()})}),ve(()=>[s.layout,s.layout.length],()=>{m.value=s.layout,N()}),ve(()=>s.colNum,A=>{D.emit("setColNum",A)}),ve(()=>s.rowHeight,A=>{D.emit("setRowHeight",A)}),ve(()=>s.isDraggable,A=>{D.emit("setDraggable",A)}),ve(()=>s.isResizable,A=>{D.emit("setResizable",A)}),ve(()=>s.isBounded,A=>{D.emit("setBounded",A)}),ve(()=>s.transformScale,A=>{D.emit("setTransformScale",A)}),ve(()=>s.responsive,A=>{A||(l("update:layout",d.originalLayout),D.emit("setColNum",s.colNum)),R()}),ve(()=>s.maxRows,A=>{D.emit("setMaxRows",A)}),ve([()=>s.margin,()=>s.margin[1]],re),ni(Ri,Jt({...ai(s),...ai(d),increaseItem:ie,decreaseItem:be})),ni(Bi,D),i({state:d,getItem:he,resizeEvent:Ve,dragEvent:Se});function ie(A){b.set(A.i,A)}function be(A){b.delete(A.i)}function he(A){return b.get(A)}function N(){if(!Zt(m.value)&&!Zt(d.originalLayout)){if(m.value.length!==d.originalLayout.length){const A=le(m.value,d.originalLayout);if(A.length>0)if(m.value.length>d.originalLayout.length)d.originalLayout=d.originalLayout.concat(A);else{const ae=new Set(A.map(F=>F.i));d.originalLayout=d.originalLayout.filter(F=>!ae.has(F.i))}d.lastLayoutLength=m.value.length,we()}An(m.value,s.verticalCompact),D.emit("updateWidth",d.width),re(),l("layout-updated",m.value)}}function re(){d.mergedStyle={height:V()}}function R(){h.value&&(d.width=h.value.offsetWidth),D.emit("resizeEvent")}function V(){if(!s.autoSize)return;const A=parseFloat(s.margin[1]);return Rl(m.value)*(s.rowHeight+A)+A+"px"}let ee;function Se(A,ae,F,We,De,Oe){let pe=si(m.value,ae);Zt(pe)&&(pe={h:0,w:0,x:0,y:0,i:""}),A==="dragstart"&&!s.verticalCompact&&(ee=m.value.reduce((lt,{i:gt,x:Ze,y:_e})=>({...lt,[gt]:{x:Ze,y:_e}}),{})),A==="dragmove"||A==="dragstart"?(d.placeholder.i=ae,d.placeholder.x=pe.x,d.placeholder.y=pe.y,d.placeholder.w=Oe,d.placeholder.h=De,en(()=>{d.isDragging=!0}),D.emit("updateWidth",d.width)):en(()=>{d.isDragging=!1}),m.value=gr(m.value,pe,F,We,!0,s.preventCollision),s.restoreOnDrag?(pe.static=!0,An(m.value,s.verticalCompact,ee),pe.static=!1):An(m.value,s.verticalCompact),D.emit("compact"),re(),A==="dragend"&&(ee=void 0,l("layout-updated",m.value))}function Ve(A,ae,F,We,De,Oe){let pe=si(m.value,ae);Zt(pe)&&(pe={h:0,w:0,x:0,y:0,i:""});let lt;if(s.preventCollision){const gt=Ni(m.value,{...pe,w:Oe,h:De}).filter(Ze=>Ze.i!==pe.i);if(lt=gt.length>0,lt){let Ze=1/0,_e=1/0;gt.forEach(Je=>{Je.x>pe.x&&(Ze=Math.min(Ze,Je.x)),Je.y>pe.y&&(_e=Math.min(_e,Je.y))}),Number.isFinite(Ze)&&(pe.w=Ze-pe.x),Number.isFinite(_e)&&(pe.h=_e-pe.y)}}lt||(pe.w=Oe,pe.h=De),A==="resizestart"||A==="resizemove"?(d.placeholder.i=ae,d.placeholder.x=F,d.placeholder.y=We,d.placeholder.w=pe.w,d.placeholder.h=pe.h,en(()=>{d.isDragging=!0}),D.emit("updateWidth",d.width)):en(()=>{d.isDragging=!1}),s.responsive&&O(),An(m.value,s.verticalCompact),D.emit("compact"),re(),A==="resizeend"&&l("layout-updated",m.value)}function O(){const A=$l(s.breakpoints,d.width),ae=yr(A,s.cols);!Zt(d.lastBreakpoint)&&!d.layouts[d.lastBreakpoint]&&(d.layouts[d.lastBreakpoint]=vr(m.value));const F=Zl(d.originalLayout,d.layouts,s.breakpoints,A,d.lastBreakpoint,ae,s.verticalCompact);d.layouts[A]=F,d.lastBreakpoint!==A&&l("breakpoint-changed",A,F),l("update:layout",F),d.lastBreakpoint=A,D.emit("setColNum",yr(A,s.cols))}function we(){d.layouts=Object.assign({},s.responsiveLayouts)}function le(A,ae){const F=new Set(ae.map(pe=>pe.i)),We=new Set(A.map(pe=>pe.i)),De=A.filter(pe=>!F.has(pe.i)),Oe=ae.filter(pe=>!We.has(pe.i));return De.concat(Oe)}return(A,ae)=>(dt(),jt("div",{ref_key:"wrapper",ref:h,class:"vgl-layout",style:_r(d.mergedStyle)},[A.$slots.default?cr(A.$slots,"default",{key:0}):(dt(!0),jt(fr,{key:1},hr(m.value,F=>(dt(),Vt(mr,Cl({key:F.i},F),{default:Pt(()=>[cr(A.$slots,"item",{item:F})]),_:2},1040))),128)),_n(ht(mr,{class:"vgl-item--placeholder",x:d.placeholder.x,y:d.placeholder.y,w:d.placeholder.w,h:d.placeholder.h,i:d.placeholder.i},null,8,["x","y","w","h","i"]),[[Sl,d.isDragging]])],4))}});(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.vgl-layout{--vgl-placeholder-bg: red;--vgl-placeholder-opacity: 20%;--vgl-placeholder-z-index: 2;--vgl-item-resizing-z-index: 3;--vgl-item-resizing-opacity: 60%;--vgl-item-dragging-z-index: 3;--vgl-item-dragging-opacity: 100%;--vgl-resizer-size: 10px;--vgl-resizer-border-color: #444;--vgl-resizer-border-width: 2px;position:relative;box-sizing:border-box;transition:height .2s ease}.vgl-item{position:absolute;box-sizing:border-box;transition:.2s ease;transition-property:left,top,right}.vgl-item--placeholder{z-index:var(--vgl-placeholder-z-index, 2);-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:var(--vgl-placeholder-bg, red);opacity:var(--vgl-placeholder-opacity, 20%);transition-duration:.1s}.vgl-item--no-touch{touch-action:none}.vgl-item--transform{right:auto;left:0;transition-property:transform}.vgl-item--transform.vgl-item--rtl{right:0;left:auto}.vgl-item--resizing{z-index:var(--vgl-item-resizing-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-resizing-opacity, 60%)}.vgl-item--dragging{z-index:var(--vgl-item-dragging-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-dragging-opacity, 100%);transition:none}.vgl-item__resizer{position:absolute;right:0;bottom:0;box-sizing:border-box;width:var(--vgl-resizer-size);height:var(--vgl-resizer-size);cursor:se-resize}.vgl-item__resizer:before{position:absolute;inset:0 3px 3px 0;content:"";border:0 solid var(--vgl-resizer-border-color);border-right-width:var(--vgl-resizer-border-width);border-bottom-width:var(--vgl-resizer-border-width)}.vgl-item__resizer--rtl{right:auto;left:0;cursor:sw-resize}.vgl-item__resizer--rtl:before{inset:0 0 3px 3px;border-right-width:0;border-bottom-width:var(--vgl-resizer-border-width);border-left-width:var(--vgl-resizer-border-width)}')),document.head.appendChild(e)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();class fa{static async getBoards(){return await da.get("/boards/",{headers:ca("access_token")}).then(i=>Promise.resolve(i))}static addBoard(i){return da.post("/boards/",i,{headers:ca("access_token")}).then(l=>Promise.resolve(l))}static updateBoard(i,l){return da.put(`/boards/${i}`,l,{headers:ca("access_token")}).then(s=>Promise.resolve(s))}static addWidget(i,l){return da.post("/boards/add_widget",l,{headers:ca("access_token"),params:{board_id:i}}).then(s=>Promise.resolve(s))}static removeWidget(i,l){return da.delete(`/boards/${i}/${l}`,{headers:ca("access_token")}).then(s=>Promise.resolve(s))}}const to=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,Bs=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,Ls=[0,31,28,31,30,31,30,31,31,30,31,30,31],Ns=[0,31,29,31,30,31,30,31,31,30,31,30,31],Vs=28,js=31,fn=12,xr=1,La=1,Rn=7,ma=60,dr=24,Xs=6048e5;function Nt(){const e=new Date,i=""+(e.getMonth()+1),l=""+e.getDate();return[e.getFullYear(),Gt(i,2),Gt(l,2)].join("-")}function Yn(e,i,l){let s=St(e);if(s.day===1||s.weekday===0)for(;!i.includes(s.weekday);)s=on(s);return s=io(s,i[0],Er),s=tn(s),l&&(s=hn(s,l,s.hasTime)),s}function En(e,i,l){let s=St(e);if(rn(s.year,s.month)===s.day||s.weekday===6)for(;!i.includes(s.weekday);)s=Er(s);return s=io(s,i[i.length-1],on),s=tn(s),l&&(s=hn(s,l,s.hasTime)),s}function ba(e){const i=St(e);return i.day=La,tn(i),i}function Vn(e){const i=St(e);return i.day=rn(i.year,i.month),tn(i),i}function Ti(e){switch(Object.prototype.toString.call(e)){case"[object Number]":return e;case"[object String]":{const l=Bs.exec(e);return l?parseInt(l[1],10)*60+parseInt(l[3]||0,10):!1}case"[object Object]":return typeof e.hour!="number"||typeof e.minute!="number"?!1:e.hour*60+e.minute}return!1}function Dr(e){return!!to.exec(e)}function ot(e){const i=to.exec(e);return i?{date:e,time:Gt(parseInt(i[6],10)||0,2)+":"+Gt(parseInt(i[8],10)||0,2),year:parseInt(i[1],10),month:parseInt(i[2],10),day:parseInt(i[4],10)||1,hour:isNaN(parseInt(i[6],10))?0:parseInt(i[6],10),minute:isNaN(parseInt(i[8],10))?0:parseInt(i[8],10),weekday:0,doy:0,workweek:0,hasDay:!!i[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function qt(e,i){let l=ot(e);return l===null?null:(l=tn(l),i&&hn(l,i,l.hasTime),l)}function Ys(e,i=!1){const l=i?"UTC":"";return tn({date:Gt(e[`get${l}FullYear`](),4)+"-"+Gt(e[`get${l}Month`]()+1,2)+"-"+Gt(e[`get${l}Date`](),2),time:Gt(e[`get${l}Hours`]()||0,2)+":"+Gt(e[`get${l}Minutes`]()||0,2),year:e[`get${l}FullYear`](),month:e[`get${l}Month`]()+1,day:e[`get${l}Date`](),hour:e[`get${l}Hours`](),minute:e[`get${l}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function Ye(e){return e.year*1e8+e.month*1e6+e.day*1e4}function Bn(e){return e.hour*100+e.minute}function bn(e){return Ye(e)+Bn(e)}function hn(e,i,l=!1){let s=Ye(i),d=Ye(e),b=s===d;return e.hasTime&&l&&b&&(s=Bn(i),d=Bn(e),b=s===d),e.past=d<s,e.current=b,e.future=d>s,e.currentWeekday=e.weekday===i.weekday,e}function Ks(e,i,l){return e.hasTime=!0,e.hour=Math.floor(i/ma),e.minute=i%ma,e.time=Sr(e),l&&hn(e,l,!0),e}function Oi(e){return e.weekday=ao(e),e}function Us(e){return e.doy=no(e),e}function Gs(e,i,l,s,d){const b=Ye(e);if(i!==void 0){const m=Ye(ot(i));b<=m&&(e.disabled=!0)}if(e.disabled!==!0&&l!==void 0){const m=Ye(ot(l));b>=m&&(e.disabled=!0)}if(e.disabled!==!0&&Array.isArray(s)&&s.length>0){for(const m in s)if(s[m]===e.weekday){e.disabled=!0;break}}if(e.disabled!==!0&&Array.isArray(d)&&d.length>0){for(const m in d)if(Array.isArray(d[m])&&d[m].length===2){const h=ot(d[m][0]),H=ot(d[m][1]);if(nu(e,h,H)){e.disabled=!0;break}}else if(Ye(qt(d[m]+" 00:00"))===b){e.disabled=!0;break}}return e}function tn(e){return e.hasTime=!0,e.time=Sr(e),e.date=ro(e),e.weekday=ao(e),e.doy=no(e),e.workweek=Qs(e),e}function no(e){if(e.year!==0)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function Qs(e){e.year===0&&(e=qt(Nt()));const i=eu(e);if(isNaN(i))return 0;const l=new Date(i.getFullYear(),i.getMonth(),i.getDate());l.setDate(l.getDate()-(l.getDay()+6)%7+3);const s=new Date(l.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);const d=l.getTimezoneOffset()-s.getTimezoneOffset();l.setHours(l.getHours()-d);const b=(l-s)/Xs;return 1+Math.floor(b)}function ao(e){let i=e.weekday;if(e.hasDay){const l=Math.floor,s=e.day,d=(e.month+9)%fn+1,b=l(e.year/100),m=e.year%100-(e.month<=2?1:0);i=((s+l(2.6*d-.2)-2*b+m+l(m/4)+l(b/4))%7+7)%7}return i}function $s(e){return(e%4===0^e%100===0^e%400===0)===1}function rn(e,i){return $s(e)?Ns[i]:Ls[i]}function St(e){return{...e}}function Gt(e,i){let l=String(e);for(;l.length<i;)l="0"+l;return l}function ro(e){let i=`${Gt(e.year,4)}-${Gt(e.month,2)}`;return e.hasDay&&(i+=`-${Gt(e.day,2)}`),i}function Sr(e){return e.hasTime?`${Gt(e.hour,2)}:${Gt(e.minute,2)}`:""}function Cr(e){return ro(e)+" "+(e.hasTime?Sr(e):"00:00")}function on(e){return++e.day,e.weekday=(e.weekday+1)%Rn,e.day>Vs&&e.day>rn(e.year,e.month)&&(e.day=La,++e.month,e.month>fn&&(e.month=xr,++e.year)),e}function Er(e){return e.day--,e.weekday=(e.weekday+6)%Rn,e.day<La&&(e.month--,e.month<xr&&(e.year--,e.month=fn),e.day=rn(e.year,e.month)),e}function Fi(e,i=on,l=1,s=[0,1,2,3,4,5,6]){return Ln(e,i,l,s)}function Ln(e,i=on,l=1,s=[0,1,2,3,4,5,6]){for(!s.includes(e.weekday)&&e.weekday===0&&i===on&&++l;--l>=0;)e=i(e),s.length<7&&!s.includes(e.weekday)&&++l;return e}function io(e,i,l=on,s=6){for(;e.weekday!==i&&--s>=0;)e=l(e);return e}function Zs(e){const i=[1,1,1,1,1,1,1],l=[0,0,0,0,0,0,0];for(let s=0;s<e.length;++s)l[e[s]]=1;for(let s=0;s<Rn;++s){let d=1;for(let b=1;b<Rn;++b){const m=(s+b)%Rn;if(l[m])break;++d}i[s]=l[s]*d}return i}function Ba(e,i,l,s,d,b,m=[],h=[],H=42,X=0){const D=Ye(i),M=[];let te=St(e),ie=0,be=ie===D;if(D<Ye(e))return M;for(;(!be||M.length<X)&&M.length<H&&(ie=Ye(te),be=be||ie>D&&M.length>=X,!be);){if(s[te.weekday]===0){te=Ln(te,on);continue}const he=St(te);tn(he),hn(he,l),Gs(he,d,b,m,h),M.push(he),te=Ln(te,on)}return M}function Js(e,i,l,s,d){const b=[];for(let m=0;m<s;++m){const h=(i+m)*l,H=St(e);b.push(Ks(H,h,d))}return b}function Nn(e,i){const l=(s,d)=>"";return typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined"?l:(s,d)=>{try{return new Intl.DateTimeFormat(e||void 0,i(s,d)).format(tu(s))}catch(b){return console.error(`Intl.DateTimeFormat: ${b.message} -> ${Cr(s)}`),l}}}function eu(e,i=!0){return i?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function tu(e,i=!0){return i?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function Rt(e){return isFinite(parseInt(e,10))}function nu(e,i,l,s){const d=Ye(e)+(s===!0?Bn(e):0),b=Ye(i)+(s===!0?Bn(i):0),m=Ye(l)+(s===!0?Bn(l):0);return d>=b&&d<=m}function Ht(e,i){const l=St(e);let s;return au(i,(d,b)=>{if(l[b]!==void 0){l[b]+=parseInt(d,10);const m=qi.indexOf(b);m!==-1&&(s===void 0?s=m:s=Math.min(m,s))}}),s!==void 0&&iu(l,qi[s]),tn(l),l}const qi=["minute","hour","day","month"];function au(e,i){Object.keys(e).forEach(l=>i(e[l],l))}function ru(e){if(e.minute>=ma||e.minute<0){const i=Math.floor(e.minute/ma);e.minute-=i*ma,e.hour+=i,oo(e)}return e}function oo(e){if(e.hour>=dr||e.hour<0){const i=Math.floor(e.hour/dr);e.hour-=i*dr,e.day+=i,lo(e)}return e}function lo(e){Wn(e);let i=rn(e.year,e.month);if(e.day>i){++e.month,e.month>fn&&Wn(e);let l=e.day-i;i=rn(e.year,e.month);do l>i&&(++e.month,e.month>fn&&Wn(e),l-=i,i=rn(e.year,e.month));while(l>i);e.day=l}else if(e.day<=0){let l=-1*e.day;--e.month,e.month<=0&&Wn(e),i=rn(e.year,e.month);do l>i&&(l-=i,--e.month,e.month<=0&&Wn(e),i=rn(e.year,e.month));while(l>i);e.day=i-l}return e}function Wn(e){if(e.month>fn){const i=Math.floor(e.month/fn);e.month=e.month%fn,e.year+=i}else e.month<xr&&(e.month+=fn,--e.year);return e}function iu(e,i){switch(i){case"minute":return ru(e);case"hour":return oo(e);case"day":return lo(e);case"month":return Wn(e)}}function Le(e,i="px"){if(!(e==null||e===""))return isNaN(e)?String(e):e==="auto"?e:`${Number(e)}${i}`}function wa(e,i){return i===0?e:e.slice(0,i)}var nn={name:"ResizeObserver",mounted(e,{modifiers:i,value:l}){if(!l)return;const s={};s.callback=l,s.size={width:0,height:0},s.observer=new ResizeObserver(d=>{const b=d[0].contentRect;(b.width!==s.size.width||b.height!==s.size.height)&&(s.size.width=b.width,s.size.height=b.height,s.callback(s.size))}),s.observer.observe(e),e.__onResizeObserver=s},beforeUnmount(e){if(!e.__onResizeObserver)return;const{observer:i}=e.__onResizeObserver;i.unobserve(e),delete e.__onResizeObserver}};function Kn(e,i,{scrollArea:l,pane:s}){if(!i){const D="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(D),new Error(D)}const d=Jt({width:0,height:0}),b=L(null);function m({width:D,height:M}){d.width=D,d.height=M}const h=J(()=>e.noScroll!==!0&&l.value&&s.value&&d.height?l.value.offsetWidth-s.value.offsetWidth:0);function H(){}function X(){const D={ref:b,role:"complementary",lang:e.locale,class:`q-calendar ${e.dark?"q-calendar--dark":""} ${e.bordered?"q-calendar__bordered":""}`};return _n(S("div",{...D},[i()]),[[nn,m]])}return{rootRef:b,scrollWidth:h,__initCalendar:H,__renderCalendar:X}}const Un={modelValue:{type:String,default:Nt(),validator:e=>e===""||Dr(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let i=!0;return e.forEach(l=>{["day","date","weekday","interval","time","resource","task"].includes(l)!==!0&&(i=!1)}),i}}};function Gn(e,{startDate:i,endDate:l,times:s}){const d=J(()=>Zs(e.weekdays)),b=J(()=>qt(i.value)),m=J(()=>l.value==="0000-00-00"?be(b.value):qt(l.value)),h=J(()=>{const N={timeZone:"UTC",day:"numeric"};return Nn(e.locale,(re,R)=>N)}),H=J(()=>{const N={timeZone:"UTC",weekday:"long"},re={timeZone:"UTC",weekday:"short"};return Nn(e.locale,(R,V)=>V?re:N)}),X=J(()=>{const N={timeZone:"UTC",dateStyle:"full"};return Nn(e.locale,re=>N)});function D(N,re){return N&&N.length>0&&N.includes(re.date)}function M(N,re){const R={firstDay:!1,betweenDays:!1,lastDay:!1};if(N&&N.length===2){const V=Ye(re),ee=Ye(ot(N[0])),Se=Ye(ot(N[1]));R.firstDay=ee===V,R.lastDay=Se===V,R.betweenDays=ee<V&&Se>V}return R}function te(N,re=!1,R=[],V=[],ee=!1){const Se=D(R,N),{firstDay:Ve,lastDay:O,betweenDays:we}=M(V,N);return{"q-past-day":Ve!==!0&&we!==!0&&O!==!0&&Se!==!0&&re!==!0&&N.past,"q-future-day":Ve!==!0&&we!==!0&&O!==!0&&Se!==!0&&re!==!0&&N.future,"q-outside":re,"q-current-day":N.current,"q-selected":Se,"q-range-first":Ve===!0,"q-range":we===!0,"q-range-last":O===!0,"q-range-hover":ee===!0&&(Ve===!0||O===!0||we===!0),"q-disabled-day disabled":N.disabled===!0}}function ie(N){return Yn(N,e.weekdays,s.today)}function be(N){return En(N,e.weekdays,s.today)}function he(N){}return{weekdaySkips:d,parsedStart:b,parsedEnd:m,dayFormatter:h,weekdayFormatter:H,ariaDateFormatter:X,arrayHasDate:D,checkDays:M,getRelativeClasses:te,startOfWeek:ie,endOfWeek:be,dayStyleDefault:he}}function zi(e,i){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i);return}e.scrollTop=i}function ou(e,i){if(e===window){window.scrollTo(i,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=i}function lu(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function su(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function so(e,i,l=0){const s=arguments[3]===void 0?performance.now():arguments[3],d=lu(e);if(l<=0){d!==i&&zi(e,i);return}requestAnimationFrame(b=>{const m=b-s,h=d+(i-d)/Math.max(m,l)*m;zi(e,h),h!==i&&so(e,i,l-m,b)})}function uo(e,i,l=0){const s=arguments[3]===void 0?performance.now():arguments[3],d=su(e);if(l<=0){d!==i&&ou(e,i);return}requestAnimationFrame(b=>{const m=b-s,h=d+(i-d)/Math.max(m,l)*m;setHorizontalScroll(e,h),h!==i&&uo(e,i,l-m,b)})}const Tr={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:Rt},intervalMinutes:{type:[Number,String],default:60,validator:Rt},intervalStart:{type:[Number,String],default:0,validator:Rt},intervalCount:{type:[Number,String],default:24,validator:Rt},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},co={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Rt},resourceMinHeight:{type:[Number,String],default:70,validator:Rt},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},uu={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:Rt},dayMinHeight:{type:[Number,String],default:40,validator:Rt}},fo={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:Rt},resourceMinHeight:{type:[Number,String],default:70,validator:Rt},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:Rt},noSticky:Boolean};function Na(e,{weekdaySkips:i,times:l,scrollArea:s,parsedStart:d,parsedEnd:b,maxDays:m,size:h,headerColumnRef:H}){const X=J(()=>parseInt(e.intervalStart,10)),D=J(()=>parseInt(e.intervalMinutes,10)),M=J(()=>parseInt(e.intervalCount,10)),te=J(()=>parseFloat(e.intervalHeight)),ie=J(()=>{let C=0;return e.cellWidth?C=e.cellWidth:h.width>0&&H.value&&(C=H.value.offsetWidth/(e.columnCount>1?e.columnCount:m.value)),C}),be=J(()=>X.value*D.value),he=J(()=>M.value*te.value),N=J(()=>M.value*ie.value),re=J(()=>Se(d.value)),R=J(()=>Ve(b.value)),V=J(()=>Ba(d.value,b.value,l.today,i.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,m.value)),ee=J(()=>V.value.map(C=>Js(C,X.value,D.value,M.value,l.now)));function Se(C){return Yn(C,e.weekdays,l.today)}function Ve(C){return En(C,e.weekdays,l.today)}function O(C,ke){return C&&C.length>0&&C.includes(Cr(ke))}function we(C,ke){const de={firstDay:!1,betweenDays:!1,lastDay:!1};if(C&&C.length===2){const Ee=bn(ke),Re=bn(ot(C[0])),Ne=bn(ot(C[1]));de.firstDay=Re===Ee,de.lastDay=Ne===Ee,de.betweenDays=Re<Ee&&Ne>Ee}return de}function le(C,ke=[],de=[]){const Ee=O(ke,C),{firstDay:Re,lastDay:Ne,betweenDays:Te}=we(de,C);return{"q-selected":Ee,"q-range-first":Re===!0,"q-range":Te===!0,"q-range-last":Ne===!0,"q-disabled-interval disabled":C.disabled===!0}}function A(C,ke=[],de=[]){return[]}const ae=J(()=>{const C={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},ke={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},de={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return Nn(e.locale,(Ee,Re)=>Re?Ee.minute===0?de:ke:C)}),F=J(()=>{const C={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return Nn(e.locale,ke=>C)});function We(C){const ke=ee.value[0][0];return!(ke.hour===C.hour&&ke.minute===C.minute)&&C.minute===0}function De(C){}function Oe(C){}function pe(C,ke,de=!1,Ee=void 0){let Re=St(ke);const Ne=C.currentTarget.getBoundingClientRect(),Te=C,$e=C,Fe=Te.changedTouches||Te.touches,yt=((Fe&&Fe[0]?Fe[0].clientY:$e.clientY)-Ne.top)/te.value,st=Math.floor((de?Math.floor(yt):yt)*D.value);return st!==0&&(Re=Ht(Re,{minute:st})),Ee&&hn(Re,Ee,!0),Re}function lt(C,ke,de=!1,Ee=void 0){let Re=St(ke);const Ne=C.currentTarget.getBoundingClientRect(),Te=C,$e=C,Fe=Te.changedTouches||Te.touches,yt=((Fe&&Fe[0]?Fe[0].clientY:$e.clientY)-Ne.top)/te.value,st=Math.floor((de?Math.floor(yt):yt)*D.value);return st!==0&&(Re=Ht(Re,{minute:st})),Ee&&hn(Re,Ee,!0),Re}function gt(C,ke,de=!1,Ee=void 0){let Re=St(ke);const Ne=C.currentTarget.getBoundingClientRect(),Te=C,$e=C,Fe=Te.changedTouches||Te.touches,yt=((Fe&&Fe[0]?Fe[0].clientX:$e.clientX)-Ne.left)/ie.value,st=Math.floor((de?Math.floor(yt):yt)*D.value);return st!==0&&(Re=Ht(Re,{minute:st})),Ee&&hn(Re,Ee,!0),Re}function Ze(C,ke){const de={timestamp:C};return de.timeStartPos=Pe,de.timeDurationHeight=vt,ke!==void 0&&(de.columnIndex=ke),de}function _e(C,ke){const de={timestamp:St(C)};return de.timeStartPosX=Ce,de.timeDurationWidth=at,ke!==void 0&&(de.index=ke),de}function Je(C,ke=0){const de=Pe(C);return de===!1||!s.value?!1:(so(s.value,de,ke),!0)}function tt(C,ke=0){const de=Ce(C);return de===!1||!s.value?!1:(uo(s.value,de,ke),!0)}function vt(C){return C/D.value*te.value}function at(C){return C/D.value*ie.value}function Ct(C){return parseInt(C,10)*D.value/te.value}function Ue(C){return parseInt(C,10)*D.value/ie.value}function Pe(C,ke=!0){const de=Ti(C);if(de===!1)return!1;const Ee=be.value,Re=M.value*D.value;let Te=(de-Ee)/Re*he.value;return ke&&(Te<0&&(Te=0),Te>he.value&&(Te=he.value)),Te}function Ce(C,ke=!0){const de=Ti(C);if(de===!1)return!1;const Ee=be.value,Re=M.value*D.value;let Te=(de-Ee)/Re*N.value;return ke&&(Te<0&&(Te=0),Te>N.value&&(Te=N.value)),Te}return{parsedIntervalStart:X,parsedIntervalMinutes:D,parsedIntervalCount:M,parsedIntervalHeight:te,parsedCellWidth:ie,parsedStartMinute:be,bodyHeight:he,bodyWidth:N,parsedWeekStart:re,parsedWeekEnd:R,days:V,intervals:ee,intervalFormatter:ae,ariaDateTimeFormatter:F,arrayHasDateTime:O,checkIntervals:we,getIntervalClasses:le,getResourceClasses:A,showIntervalLabelDefault:We,showResourceLabelDefault:De,styleDefault:Oe,getTimestampAtEventInterval:pe,getTimestampAtEvent:lt,getTimestampAtEventX:gt,getScopeForSlot:Ze,getScopeForSlotX:_e,scrollToTime:Je,scrollToTimeX:tt,timeDurationHeight:vt,timeDurationWidth:at,heightToMinutes:Ct,widthToMinutes:Ue,timeStartPos:Pe,timeStartPosX:Ce}}const Va={columnCount:{type:[Number,String],default:0,validator:Rt},columnIndexStart:{type:[Number,String],default:0,validator:Rt}},_a={maxDays:{type:Number,default:1}},Fn={now:{type:String,validator:e=>e===""||Dr(e),default:""}};function Qn(e){const i=Jt({now:qt("0000-00-00 00:00"),today:qt("0000-00-00")}),l=J(()=>e.now?qt(e.now):b());ve(()=>l,H=>d());function s(){i.now.current=i.today.current=!0,i.now.past=i.today.past=!1,i.now.future=i.today.future=!1}function d(){const H=l.value||b();m(H,i.now),h(H,i.now),m(H,i.today)}function b(){return Ys(new Date)}function m(H,X){H.date!==X.date&&(X.year=H.year,X.month=H.month,X.day=H.day,X.weekday=H.weekday,X.date=H.date)}function h(H,X){H.time!==X.time&&(X.hour=H.hour,X.minute=H.minute,X.time=H.time)}return{times:i,parsedNow:l,setCurrent:s,updateCurrent:d,getNow:b,updateDay:m,updateTime:h}}function $n(e,{parsedView:i,parsedValue:l,times:s}){return{renderValues:J(()=>{const b=l.value;let m=e.maxDays,h=b,H=b;switch(i.value){case"month":h=ba(b),H=Vn(b),m=rn(h.year,h.month);break;case"week":case"week-agenda":case"week-scheduler":h=Yn(b,e.weekdays,s.today),H=En(h,e.weekdays,s.today),m=e.weekdays.length;break;case"day":case"scheduler":case"agenda":H=Fi(St(H),on,m>1?m-1:m,e.weekdays),tn(H);break;case"month-interval":case"month-scheduler":case"month-agenda":h=ba(b),H=Vn(b),tn(H),m=rn(h.year,h.month);break;case"resource":m=1,H=Fi(St(H),on,m,e.weekdays),tn(H);break}return{start:h,end:H,maxDays:m}})}}const du=e=>e.replace(/(-\w)/g,i=>i[1].toUpperCase());let br,ho;function vo(e,i){const l={};for(const s in e){const d=e[s],b=du("on-"+s);if(br===void 0){console.warn("$listeners has not been set up");return}if(br.value[b]===void 0)continue;const m="on"+d.event.charAt(0).toUpperCase()+d.event.slice(1),h=H=>{const X=H;return(d.button===void 0||X.buttons>0&&X.button===d.button)&&(d.prevent&&X.preventDefault(),d.stop&&X.stopPropagation(),ho(s,i(X,s))),d.result};m in l?Array.isArray(l[m])?l[m].push(h):l[m]=[l[m],h]:l[m]=h}return l}function cu(e,i){return vo(Or(e),i)}function Or(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function bt(e){return Object.keys(Or(e))}function Zn(e,i){return ho=e,br=i,{getMouseEventHandlers:vo,getDefaultMouseEventHandlers:cu,getMouseEventName:Or,getRawMouseEvents:bt}}const Jn=["moved"];function ea(e,{parsedView:i,parsedValue:l,weekdaySkips:s,direction:d,maxDays:b,times:m,emittedValue:h,emit:H}){function X(D=1){if(D===0){h.value=Nt();return}let M=St(l.value);const te=D>0,ie=te?on:Er,be=te?js:La;let he=te?D:-D;d.value=te?"next":"prev";const N=s.value.filter(re=>re!==0).length;for(;--he>=0;)switch(i.value){case"month":for(M.day=be,ie(M),Oi(M);s.value[M.weekday]===0;)M=Ht(M,{day:te===!0?1:-1});break;case"week":case"week-agenda":case"week-scheduler":Ln(M,ie,N,e.weekdays);break;case"day":case"scheduler":case"agenda":Ln(M,ie,b.value,e.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":M.day=be,ie(M);break;case"resource":Ln(M,ie,b.value,e.weekdays);break}Oi(M),tn(M),Us(M),hn(M,m.now),h.value=M.date,H("moved",M)}return{move:X}}const fu=/^on[A-Z]/;function ta(e=Tn()){return{emitListeners:J(()=>{const i={};return e.vnode&&e.vnode.props&&Object.keys(e.vnode.props).forEach(l=>{fu.test(l)&&(i[l]=!0)}),i})}}function Bt(){return[S("span",{"aria-hidden":"true",class:"q-calendar__focus-helper"})]}function ka({focusable:e,focusType:i},l,s){const d=e&&i.includes("date");return S("button",{...l,tabindex:d?0:-1},[s,d&&Bt()])}const xa={cellWidth:[Number,String]};function ja(e){return{isSticky:J(()=>e.cellWidth!==void 0)}}const na=["change"];function aa(e,{days:i,lastStart:l,lastEnd:s}){function d(){if(i.value&&i.value.length>0){const b=i.value[0].date,m=i.value[i.value.length-1].date;if(l.value===null||s.value===null||b!==l.value||m!==s.value)return l.value=b,s.value=m,e("change",{start:b,end:m,days:i.value}),!0}return!1}return{checkChange:d}}function qn(){function e(l,{bubbles:s=!1,cancelable:d=!1}={}){try{return new CustomEvent(l,{bubbles:s,cancelable:d})}catch{const m=document.createEvent("Event");return m.initEvent(l,s,d),m}}function i(l,s){return[].concat(s).includes(l.keyCode)}return{createEvent:e,isKeyCode:i}}const{isKeyCode:Mi}=qn(),zn={useNavigation:Boolean};function ra(e,{rootRef:i,focusRef:l,focusValue:s,datesRef:d,days:b,parsedView:m,parsedValue:h,emittedValue:H,weekdaySkips:X,direction:D,times:M}){let te=!1;wr(()=>{be()}),ve(()=>e.useNavigation,ae=>{ae===!0?ie():be()}),e.useNavigation===!0&&ie();function ie(){te!==!0&&document&&(te=!0,document.addEventListener("keyup",R),document.addEventListener("keydown",re))}function be(){document&&(document.removeEventListener("keyup",R),document.removeEventListener("keydown",re),te=!1)}function he(ae){if(ae===void 0)return!1;if(document){const F=document.activeElement;if(F!==document.body&&i.value.contains(F)===!0)return!0}return!1}function N(){let ae=0;const F=setInterval(()=>{d.value[l.value]?(d.value[l.value].focus(),(++ae===50||document.activeElement===d.value[l.value])&&clearInterval(F)):clearInterval(F)},250)}function re(ae){he(ae)&&Mi(ae,[33,34,35,36,37,38,39,40])&&(ae.stopPropagation(),ae.preventDefault())}function R(ae){if(he(ae)&&Mi(ae,[33,34,35,36,37,38,39,40]))switch(ae.keyCode){case 33:O();break;case 34:we();break;case 35:A();break;case 36:le();break;case 37:Se();break;case 38:V();break;case 39:Ve();break;case 40:ee();break}}function V(ae){let F=St(s.value);if(m.value==="month"){if(F=Ht(F,{day:-7}),s.value.month!==F.month){D.value="prev",H.value=F.date;return}}else(m.value==="day"||m.value==="week"||m.value==="month-interval")&&(F=Ht(F,{minute:parseInt(e.intervalMinutes)}));D.value="prev",l.value=F.date}function ee(ae){let F=St(s.value);if(m.value==="month"){if(F=Ht(F,{day:7}),s.value.month!==F.month){D.value="next",H.value=F.date;return}}else(m.value==="day"||m.value==="week"||m.value==="month-interval")&&(F=Ht(F,{minute:parseInt(e.intervalMinutes)}));D.value="next",l.value=F.date}function Se(ae){let F=St(s.value);D.value="prev";do F=Ht(F,{day:-1});while(X.value[F.weekday]===0);if(m.value==="month"||m.value==="month-interval"){if(s.value.month!==F.month){H.value=F.date;return}}else if(m.value==="week"){if(F.weekday>s.value.weekday){H.value=F.date;return}}else if(m.value==="day"){H.value=F.date;return}l.value=F.date}function Ve(ae){let F=St(s.value);D.value="next";do F=Ht(F,{day:1});while(X.value[F.weekday]===0);if(m.value==="month"||m.value==="month-interval"){if(s.value.month!==F.month){H.value=F.date;return}}else if(m.value==="week"){if(F.weekday<s.value.weekday){H.value=F.date;return}}else if(m.value==="day"){H.value=F.date;return}l.value=F.date}function O(ae){let F=St(s.value);if(m.value==="month"||m.value==="month-interval"){F=Ht(F,{month:-1});const We=F.day<=15?1:-1;for(;X.value[F.weekday]===0;)F=Ht(F,{day:We})}else m.value==="day"?F=Ht(F,{day:-1}):m.value==="week"&&(F=Ht(F,{day:-7}));D.value="prev",l.value=F.date}function we(ae){let F=St(s.value);if(m.value==="month"||m.value==="month-interval"){F=Ht(F,{month:1});const We=F.day<=15?1:-1;for(;X.value[F.weekday]===0;)F=Ht(F,{day:We})}else m.value==="day"?F=Ht(F,{day:1}):m.value==="week"&&(F=Ht(F,{day:7}));D.value="next",l.value=F.date}function le(ae){let F=St(s.value);for(m.value==="month"||m.value==="month-interval"?F=ba(F):m.value==="week"&&(F=Yn(F,e.weekdays,M.today));X.value[F.weekday]===0;)F=Ht(F,{day:-1});l.value=F.date}function A(ae){let F=St(s.value);for(m.value==="month"||m.value==="month-interval"?F=Vn(F):m.value==="week"&&(F=En(F,e.weekdays,M.today));X.value[F.weekday]===0;)F=Ht(F,{day:-1});l.value=F.date}return{startNavigation:ie,endNavigation:be,tryFocus:N}}var hu=vn({name:"QCalendarAgenda",directives:[nn],props:{...Un,...uu,...Va,..._a,...Fn,...xa,...zn},emits:["update:model-value",...na,...Jn,...bt("-date"),...bt("-head-day"),...bt("-time")],setup(e,{slots:i,emit:l,expose:s}){const d=L(null),b=L(null),m=L(null),h=L(null),H=L(null),X=L({}),D=L({}),M=L({}),te=L("next"),ie=L(Nt()),be=L("0000-00-00"),he=L(0),N=L(e.modelValue),re=Jt({width:0,height:0}),R=L(!1),V=L(null),ee=L(null);ve(()=>e.view,()=>{he.value=0});const Se=J(()=>e.view==="month"?"month-interval":e.view),Ve=Tn();if(Ve===null)throw new Error("current instance is null");const{emitListeners:O}=ta(Ve),{isSticky:we}=ja(e);ve(we,E=>{});const{times:le,setCurrent:A,updateCurrent:ae}=Qn(e);ae(),A();const{weekdaySkips:F,parsedStart:We,parsedEnd:De,dayFormatter:Oe,weekdayFormatter:pe,ariaDateFormatter:lt,dayStyleDefault:gt,getRelativeClasses:Ze}=Gn(e,{startDate:ie,endDate:be,times:le}),_e=J(()=>qt(e.modelValue,le.now)||We.value||le.today);H.value=_e.value,h.value=_e.value.date;const{renderValues:Je}=$n(e,{parsedView:Se,parsedValue:_e,times:le}),{rootRef:tt,scrollWidth:vt,__initCalendar:at,__renderCalendar:Ct}=Kn(e,Dt,{scrollArea:d,pane:b}),{days:Ue,parsedCellWidth:Pe,getScopeForSlot:Ce}=Na(e,{weekdaySkips:F,times:le,scrollArea:d,parsedStart:We,parsedEnd:De,maxDays:he,size:re,headerColumnRef:m}),{move:C}=ea(e,{parsedView:Se,parsedValue:_e,weekdaySkips:F,direction:te,maxDays:he,times:le,emittedValue:N,emit:l}),{getDefaultMouseEventHandlers:ke}=Zn(l,O),{checkChange:de}=aa(l,{days:Ue,lastStart:V,lastEnd:ee}),{isKeyCode:Ee}=qn(),{tryFocus:Re}=ra(e,{rootRef:tt,focusRef:h,focusValue:H,datesRef:X,days:Ue,parsedView:Se,parsedValue:_e,emittedValue:N,weekdaySkips:F,direction:te,times:le}),Ne=J(()=>Ue.value.length+(Te.value===!0?e.leftColumnOptions.length:0)+($e.value===!0?e.rightColumnOptions.length:0)+Ue.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),Te=J(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),$e=J(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),Fe=J(()=>{if(tt.value){const E=re.width||tt.value.getBoundingClientRect().width;if(E&&Ne.value)return(E-vt.value)/Ne.value+"px"}return 100/Ne.value+"%"});ve([Ue],de,{deep:!0,immediate:!0}),ve(()=>e.modelValue,(E,G)=>{if(N.value!==E){if(e.animated===!0){const _=Ye(ot(E)),W=Ye(ot(G));te.value=_>=W?"next":"prev"}N.value=E}h.value=E}),ve(N,(E,G)=>{if(N.value!==e.modelValue){if(e.animated===!0){const _=Ye(ot(E)),W=Ye(ot(G));te.value=_>=W?"next":"prev"}l("update:model-value",E)}}),ve(h,E=>{E&&(H.value=qt(E))}),ve(H,E=>{X.value[h.value]?X.value[h.value].focus():Re()}),ve(()=>e.maxDays,E=>{he.value=E}),jn(()=>{X.value={}}),wn(()=>{at()});function wt(){N.value=Nt()}function yt(E=1){C(E)}function st(E=1){C(-E)}function _t({width:E,height:G}){re.width=E,re.height=G}function P(E){return E.date===N.value}function ce(E,G){const _=i["head-column"],W={column:E,index:G,days:Ue.value},p=we.value===!0?e.cellWidth:Fe.value,k=e.focusable===!0&&e.focusType.includes("weekday"),z=e.columnOptionsId!==void 0?E[e.columnOptionsId]:void 0,j={maxWidth:p,width:p};return S("div",{key:z,tabindex:k===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":k===!0},style:j,onDragenter:y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(y,"head-column",W)===!0?R.value=z:R.value="")},onDragover:y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(y,"head-column",W)===!0?R.value=z:R.value="")},onDragleave:y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(y,"head-column",W)===!0?R.value=z:R.value="")},onDrop:y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(y,"head-column",W)===!0?R.value=z:R.value="")},...ke("-head-column",(y,I)=>({scope:{column:E,index:G},event:y}))},[e.noDefaultHeaderText!==!0&&Be(E),_&&_(W),Bt()])}function Be(E){const G=i["head-column-label"],_={column:E},W=e.columnOptionsLabel!==void 0?E[e.columnOptionsLabel]:E.label,p=S("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[G&&G({scope:_}),!G&&S("span",{class:"ellipsis"},W)]);return e.dateHeader==="stacked"?p:S("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[p])}function qe(){return S("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":we.value===!0},style:{marginRight:vt.value+"px"}},[nt()])}function nt(){return S("div",{ref:m,class:{"q-calendar-agenda__head--days__column":!0}},[ze(),ge()])}function ze(){return S("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ct()])}function ge(){const E=i["head-days-events"];return en(()=>{if(M.value&&e.columnCount===0&&window)try{const G=window.getComputedStyle(M.value);D.value.parentElement.style.height=G.height,D.value.style.height=G.height}catch{}}),S("div",{class:{"q-calendar-agenda__head--days__event":!0}},[E&&S("div",{ref:D,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[E({scope:{days:Ue.value,ref:M}})]),...mt()])}function ct(){return Ue.value.length===1&&parseInt(e.columnCount,10)>0?[Te.value===!0&&e.leftColumnOptions.map((E,G)=>ce(E,G)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((E,G)=>G+parseInt(e.columnIndexStart,10)).map(E=>kt(Ue.value[0],E)),$e.value===!0&&e.rightColumnOptions.map((E,G)=>ce(E,G))]:[Te.value===!0&&e.leftColumnOptions.map((E,G)=>ce(E,G)),Ue.value.map(E=>kt(E)),$e.value===!0&&e.rightColumnOptions.map((E,G)=>ce(E,G))]}function mt(){return Ue.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((E,G)=>G+parseInt(e.columnIndexStart,10)).map(E=>zt(Ue.value[0],E))]:Ue.value.map(E=>zt(E))}function kt(E,G){const _=i["head-day"],W=i["head-date"],p=e.noActiveDate!==!0&&P(E),k=Ce(E,G);k.activeDate=p,k.droppable=R.value===E.date,k.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(E.weekday):!1;const z=we.value===!0?e.cellWidth:Fe.value,j=e.weekdayStyle||gt,y={width:z,maxWidth:z,...j({scope:k})};we.value===!0&&(y.minWidth=z);const I=typeof e.weekdayClass=="function"?e.weekdayClass({scope:k}):{},B=e.focusable===!0&&e.focusType.includes("weekday"),Q={key:E.date+(G!==void 0?"-"+G:""),ref:oe=>{X.value[E.date]=oe},tabindex:B===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...I,...Ze(E),"q-active-date":p,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":B===!0},style:y,onDragenter:oe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(oe,"head-day",k)===!0?R.value=E.date:R.value="")},onDragover:oe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(oe,"head-day",k)===!0?R.value=E.date:R.value="")},onDragleave:oe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(oe,"head-day",k)===!0?R.value=E.date:R.value="")},onDrop:oe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(oe,"head-day",k)===!0?R.value=E.date:R.value="")},onFocus:oe=>{B===!0&&(h.value=E.date)},...ke("-head-day",oe=>({scope:k,event:oe}))};return S("div",Q,[_!==void 0&&_({scope:k}),_===void 0&&At(E),_===void 0&&W&&W({scope:k}),Bt()])}function At(E){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&xt(E),e.noDefaultHeaderBtn!==!0&&ft(E)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xt(E),e.noDefaultHeaderBtn!==!0&&ft(E)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xt(E),e.noDefaultHeaderBtn!==!0&&ft(E)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&xt(E),e.noDefaultHeaderBtn!==!0&&ft(E)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&ft(E),e.noDefaultHeaderText!==!0&&xt(E)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&ft(E),e.noDefaultHeaderText!==!0&&xt(E)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&ft(E),e.noDefaultHeaderText!==!0&&xt(E)])}function zt(E,G){const _=i["head-day-event"],W=e.noActiveDate!==!0&&P(E),p=Ce(E,G);p.activeDate=W,p.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(E.weekday):!1;const k=we.value===!0?e.cellWidth:Fe.value,z={width:k,maxWidth:k};return we.value===!0&&(z.minWidth=k),S("div",{key:"event-"+E.date+(G!==void 0?"-"+G:""),class:{"q-calendar-agenda__head--day__event":!0,...Ze(E),"q-active-date":W},style:z},[_&&_({scope:p})])}function xt(E){const G=i["head-weekday-label"],_=Ce(E);_.shortWeekdayLabel=e.shortWeekdayLabel;const W={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return S("div",W,G&&G({scope:_})||pt(E,e.shortWeekdayLabel))}function pt(E,G){const _=pe.value(E,G||e.weekdayBreakpoints[0]>0&&Pe.value<=e.weekdayBreakpoints[0]);return S("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&Pe.value<=e.weekdayBreakpoints[1]?wa(_,e.minWeekdayLabel):_)}function ft(E){const G={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return S("div",G,Et(E))}function Et(E){const G=e.noActiveDate!==!0&&P(E),_=Oe.value(E,!1),W=i["head-day-label"],p=i["head-day-button"],k={dayLabel:_,timestamp:E,activeDate:G,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(E.weekday):!1},z={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":E.current===!0,"q-calendar__focusable":!0},disabled:E.disabled,onKeydown:j=>{E.disabled!==!0&&Ee(j,[13,32])&&(j.stopPropagation(),j.preventDefault())},onKeyup:j=>{E.disabled!==!0&&Ee(j,[13,32])&&(N.value=E.date,O.value.onClickDate!==void 0&&l("click-date",{scope:k}))},...ke("-date",(j,y)=>((y==="click-date"||y==="contextmenu-date")&&(N.value=E.date,y==="click-date"&&j.preventDefault()),{scope:k,event:j}))};return e.noAria!==!0&&(z.ariaLabel=lt.value(E)),p?p({scope:k}):ka(e,z,W?W({scope:k}):_)}function Mt(){return S("div",{class:"q-calendar-agenda__body"},[Z()])}function Z(){return we.value===!0?S("div",{ref:d,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[je()]):e.noScroll===!0?Me():S("div",{ref:d,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[Me()])}function Me(){return S("div",{ref:b,class:"q-calendar-agenda__pane"},[je()])}function je(){const E=i["day-container"];return S("div",{class:"q-calendar-agenda__day-container"},[we.value===!0&&e.noHeader!==!0&&qe(),S("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...Ge()]),E&&E({scope:{days:Ue.value}})])}function Ge(){return Ue.value.length===1&&parseInt(e.columnCount,10)>0?[Te.value===!0&&e.leftColumnOptions.map((E,G)=>rt(E,G)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((E,G)=>G+parseInt(e.columnIndexStart,10)).map(E=>et(Ue.value[0],0,E)),$e.value===!0&&e.rightColumnOptions.map((E,G)=>rt(E,G))]:[Te.value===!0&&e.leftColumnOptions.map((E,G)=>rt(E,G)),Ue.value.map((E,G)=>et(E)),$e.value===!0&&e.rightColumnOptions.map((E,G)=>rt(E,G))]}function rt(E,G){const _=i.column,W={column:E,days:Ue.value,index:G},p=we.value===!0?e.cellWidth:Fe.value,k=e.focusable===!0&&e.focusType.includes("day"),z=e.columnOptionsId!==void 0?E[e.columnOptionsId]:void 0;return S("div",{key:z,tabindex:k===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":k===!0},style:{maxWidth:p,width:p},onDragenter:j=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(j,"column",W)===!0?R.value=z:R.value="")},onDragover:j=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(j,"column",W)===!0?R.value=z:R.value="")},onDragleave:j=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(j,"column",W)===!0?R.value=z:R.value="")},onDrop:j=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(j,"column",W)===!0?R.value=z:R.value="")},...ke("-column",(j,y)=>({scope:W,event:j}))},[_&&_({scope:W})])}function et(E,G,_){const W=i.day,p=Ce(E,_),k=we.value===!0?e.cellWidth:Fe.value,z={width:k,maxWidth:k};return we.value===!0&&(z.minWidth=k),z.height=parseInt(e.dayHeight,10)>0?Le(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(z.minHeight=Le(parseInt(e.dayMinHeight,10))),S("div",{key:E.date+(_!==void 0?":"+_:""),class:{"q-calendar-agenda__day":!0,...Ze(E)},style:z},[W&&W({scope:p})])}function Dt(){const{start:E,end:G,maxDays:_}=Je.value;(ie.value!==E.date||be.value!==G.date||he.value!==_)&&(ie.value=E.date,be.value=G.date,he.value=_);const W=re.width>0,p=_n(S("div",{class:"q-calendar-agenda",key:ie.value},[W===!0&&we.value!==!0&&e.noHeader!==!0&&qe(),W===!0&&Mt()]),[[nn,_t]]);if(e.animated===!0){const k="q-calendar--"+(te.value==="prev"?e.transitionPrev:e.transitionNext);return S(Xn,{name:k,appear:!0},()=>p)}return p}return s({prev:st,next:yt,move:C,moveToToday:wt,updateCurrent:ae}),()=>Ct()}}),Ii=vn({name:"QCalendarDay",directives:[nn],props:{...Un,...Tr,...Va,..._a,...Fn,...xa,...zn},emits:["update:model-value",...na,...Jn,...bt("-date"),...bt("-interval"),...bt("-head-intervals"),...bt("-head-day"),...bt("-time")],setup(e,{slots:i,emit:l,expose:s}){const d=L(null),b=L(null),m=L(null),h=L(null),H=L(null),X=L({}),D=L({}),M=L({}),te=L("next"),ie=L(e.modelValue||Nt()),be=L("0000-00-00"),he=L(0),N=L(e.modelValue),re=Jt({width:0,height:0}),R=L(!1),V=L(!1),ee=L(null),Se=L(null);ve(()=>e.view,()=>{he.value=0});const Ve=J(()=>e.view==="month"?"month-interval":e.view),O=Tn();if(O===null)throw new Error("current instance is null");const{emitListeners:we}=ta(O),{isSticky:le}=ja(e),{times:A,setCurrent:ae,updateCurrent:F}=Qn(e);F(),ae();const{weekdaySkips:We,parsedStart:De,parsedEnd:Oe,dayFormatter:pe,weekdayFormatter:lt,ariaDateFormatter:gt,dayStyleDefault:Ze,getRelativeClasses:_e}=Gn(e,{startDate:ie,endDate:be,times:A}),Je=J(()=>qt(e.modelValue,A.now)||De.value||A.today);H.value=Je.value,h.value=Je.value.date;const{renderValues:tt}=$n(e,{parsedView:Ve,parsedValue:Je,times:A}),{rootRef:vt,scrollWidth:at,__initCalendar:Ct,__renderCalendar:Ue}=Kn(e,Lt,{scrollArea:d,pane:b}),{days:Pe,intervals:Ce,intervalFormatter:C,ariaDateTimeFormatter:ke,parsedCellWidth:de,getIntervalClasses:Ee,showIntervalLabelDefault:Re,styleDefault:Ne,getTimestampAtEventInterval:Te,getTimestampAtEvent:$e,getScopeForSlot:Fe,scrollToTime:wt,heightToMinutes:yt,timeDurationHeight:st,timeStartPos:_t}=Na(e,{weekdaySkips:We,times:A,scrollArea:d,parsedStart:De,parsedEnd:Oe,maxDays:he,size:re,headerColumnRef:m}),{move:P}=ea(e,{parsedView:Ve,parsedValue:Je,weekdaySkips:We,direction:te,maxDays:he,times:A,emittedValue:N,emit:l}),{getDefaultMouseEventHandlers:ce}=Zn(l,we),{checkChange:Be}=aa(l,{days:Pe,lastStart:ee,lastEnd:Se}),{isKeyCode:qe}=qn(),{tryFocus:nt}=ra(e,{rootRef:vt,focusRef:h,focusValue:H,datesRef:X,days:Pe,parsedView:Ve,parsedValue:Je,emittedValue:N,weekdaySkips:We,direction:te,times:A}),ze=J(()=>Ve.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):Ve.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:Pe.value.length),ge=J(()=>vt.value?parseInt(getComputedStyle(vt.value).getPropertyValue("--calendar-intervals-width"),10):0),ct=J(()=>{if(vt.value){const T=re.width||vt.value.getBoundingClientRect().width;if(T&&ge.value&&ze.value)return(T-at.value-ge.value)/ze.value+"px"}return 100/ze.value+"%"});ve([Pe],Be,{deep:!0,immediate:!0}),ve(()=>e.modelValue,(T,se)=>{if(N.value!==e.modelValue){if(e.animated===!0){const ye=Ye(ot(T)),me=Ye(ot(se));te.value=ye>=me?"next":"prev"}N.value=T}h.value=T}),ve(N,(T,se)=>{if(N.value!==e.modelValue){if(e.animated===!0){const ye=Ye(ot(T)),me=Ye(ot(se));te.value=ye>=me?"next":"prev"}l("update:model-value",T)}}),ve(h,T=>{T&&(H.value=qt(T))}),ve(H,T=>{X.value[h.value]?X.value[h.value].focus():nt()}),ve(()=>e.maxDays,T=>{he.value=T}),jn(()=>{X.value={},D.value={},M.value={}}),wn(()=>{Ct()});function mt(){N.value=Nt()}function kt(T=1){P(T)}function At(T=1){P(-T)}function zt({width:T,height:se}){re.width=T,re.height=se}function xt(T){return T.date===N.value}function pt(){return S("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":le.value===!0},style:{marginRight:at.value+"px"}},[ft(),Et()])}function ft(){const T=i["head-intervals"],se={timestamps:Pe.value,days:Pe.value,date:e.modelValue};return S("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":le.value===!0},...ce("-head-intervals",ye=>({scope:se,event:ye}))},[T&&T({scope:se})])}function Et(){return S("div",{ref:m,class:{"q-calendar-day__head--days__column":!0}},[Mt(),Z()])}function Mt(){return S("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...Me()])}function Z(){const T=i["head-days-events"];return en(()=>{if(M.value&&parseInt(e.columnCount,10)===0&&window)try{const se=window.getComputedStyle(M.value);D.value.parentElement.style.height=se.height,D.value.style.height=se.height}catch{}}),S("div",{class:{"q-calendar-day__head--days__event":!0}},[T&&S("div",{ref:D,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[T({scope:{days:Pe.value,ref:M}})]),...je()])}function Me(){return Pe.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((T,se)=>se+parseInt(e.columnIndexStart,10)).map(T=>Ge(Pe.value[0],T)):Pe.value.map(T=>Ge(T))}function je(){return Pe.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((T,se)=>se+parseInt(e.columnIndexStart,10)).map(T=>et(Pe.value[0],T)):Pe.value.map(T=>et(T))}function Ge(T,se){const ye=i["head-day"],me=i["head-date"],He=e.noActiveDate!==!0&&xt(T),Xe=Fe(T,se);Xe.activeDate=He,Xe.droppable=R.value===T.date,Xe.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(T.weekday):!1;const It=le.value===!0?e.cellWidth:ct.value,ut=e.weekdayStyle||Ze,ln={width:It,maxWidth:It,minWidth:It,...ut({scope:Xe})};le.value===!0&&(ln.minWidth=It);const In=typeof e.weekdayClass=="function"?e.weekdayClass({scope:Xe}):{},gn=e.focusable===!0&&e.focusType.includes("weekday"),Tt=T.date+(se!==void 0?"-"+se:""),sn={key:Tt,ref:Wt=>{X.value[Tt]=Wt},tabindex:gn===!0?0:-1,class:{"q-calendar-day__head--day":!0,...In,..._e(T),"q-active-date":He,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":gn===!0},style:ln,onFocus:Wt=>{gn===!0&&(h.value=Tt)},onKeydown:Wt=>{T.disabled!==!0&&qe(Wt,[13,32])&&(Wt.stopPropagation(),Wt.preventDefault())},onKeyup:Wt=>{T.disabled!==!0&&qe(Wt,[13,32])&&(N.value=T.date)},...ce("-head-day",Wt=>({scope:Xe,event:Wt})),onDragenter:Wt=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Wt,"head-day",Xe)===!0?R.value=T.date:R.value="")},onDragover:Wt=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Wt,"head-day",Xe)===!0?R.value=T.date:R.value="")},onDragleave:Wt=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Wt,"head-day",Xe)===!0?R.value=T.date:R.value="")},onDrop:Wt=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Wt,"head-day",Xe)===!0?R.value=T.date:R.value="")}};return S("div",sn,[ye!==void 0&&ye({scope:Xe}),ye===void 0&&W(T,se),ye===void 0&&rt(T),ye===void 0&&me&&me({scope:Xe}),ye===void 0&&p(T,se),Bt()])}function rt(T){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Dt(T),e.noDefaultHeaderBtn!==!0&&G(T)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Dt(T),e.noDefaultHeaderBtn!==!0&&G(T)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Dt(T),e.noDefaultHeaderBtn!==!0&&G(T)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Dt(T),e.noDefaultHeaderBtn!==!0&&G(T)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&G(T),e.noDefaultHeaderText!==!0&&Dt(T)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&G(T),e.noDefaultHeaderText!==!0&&Dt(T)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&G(T),e.noDefaultHeaderText!==!0&&Dt(T)])}function et(T,se){const ye=i["head-day-event"],me=e.noActiveDate!==!0&&xt(T),He=Fe(T,se);He.activeDate=me,He.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(T.weekday):!1;const Xe=le.value===!0?Le(de.value):ct.value,It={width:Xe,maxWidth:Xe,minWidth:Xe};return le.value===!0&&(It.minWidth=Xe),S("div",{key:"event-"+T.date+(se!==void 0?"-"+se:""),class:{"q-calendar-day__head--day__event":!0,..._e(T),"q-active-date":me},style:It},[ye&&ye({scope:He})])}function Dt(T){const se=i["head-weekday-label"],ye=e.shortWeekdayLabel===!0,me=Fe(T);me.shortWeekdayLabel=e.shortWeekdayLabel,me.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(T.weekday):!1;const He={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return S("div",He,se&&se({scope:me})||E(T,ye))}function E(T,se){const ye=lt.value(T,se||e.weekdayBreakpoints[0]>0&&de.value<=e.weekdayBreakpoints[0]);return S("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&de.value<=e.weekdayBreakpoints[1]?wa(ye,e.minWeekdayLabel):ye)}function G(T){const se={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return S("div",se,_(T))}function _(T){const se=e.noActiveDate!==!0&&xt(T),ye=pe.value(T,!1),me=i["head-day-label"],He=i["head-day-button"],Xe={dayLabel:ye,timestamp:T,activeDate:se,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(T.weekday):!1},It={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":T.current===!0,"q-calendar__focusable":!0},disabled:T.disabled,onKeydown:ut=>{T.disabled!==!0&&qe(ut,[13,32])&&(ut.stopPropagation(),ut.preventDefault())},onKeyup:ut=>{T.disabled!==!0&&qe(ut,[13,32])&&(N.value=T.date,we.value.onClickDate!==void 0&&l("click-date",{scope:Xe}))},...ce("-date",(ut,ln)=>((ln==="click-date"||ln==="contextmenu-date")&&(N.value=T.date,ln==="click-date"&&ut.preventDefault()),{scope:Xe,event:ut}))};return e.noAria!==!0&&(It.ariaLabel=gt.value(T)),He?He({scope:Xe}):ka(e,It,me?me({scope:Xe}):ye)}function W(T,se){const ye=i["column-header-before"];if(ye)return S("div",{class:"q-calendar-day__column-header--before"},[ye({scope:{timestamp:T,columnIndex:se}})])}function p(T,se){const ye=i["column-header-after"];if(ye)return S("div",{class:"q-calendar-day__column-header--after"},[ye({scope:{timestamp:T,columnIndex:se}})])}function k(){return S("div",{class:"q-calendar-day__body"},[z()])}function z(){return le.value===!0?S("div",{ref:d,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[le.value!==!0&&ne(),y()]):e.noScroll===!0?j():S("div",{ref:d,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[j()])}function j(){return S("div",{ref:b,class:"q-calendar-day__pane"},[ne(),y()])}function y(){const T=i["day-container"];return S("div",{class:"q-calendar-day__day-container"},[le.value===!0&&e.noHeader!==!0&&pt(),S("div",{style:{display:"flex",flexDirection:"row"}},[le.value===!0&&ne(),...I()]),T&&T({scope:{days:Pe.value}})])}function I(){return Pe.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((T,se)=>se+parseInt(e.columnIndexStart,10)).map(T=>B(Pe.value[0],0,T)):Pe.value.map((T,se)=>B(T,se))}function B(T,se,ye){const me=i["day-body"],He=Fe(T,ye),Xe=le.value===!0?e.cellWidth:ct.value,It={width:Xe,maxWidth:Xe,minWidth:Xe};return le.value===!0&&(It.minWidth=Xe),S("div",{key:T.date+(ye!==void 0?":"+ye:""),class:{"q-calendar-day__day":!0,..._e(T)},style:It},[...Q(se,ye),me&&me({scope:He})])}function Q(T,se){return Ce.value[T].map(ye=>oe(ye,se))}function oe(T,se){const ye=Le(e.intervalHeight),me=e.intervalStyle||Ne,He=i["day-interval"],Xe=Fe(T,se);Xe.droppable=V.value===bn(T);const It=typeof e.intervalClass=="function"?e.intervalClass({scope:Xe}):{},ut=e.focusable===!0&&e.focusType.includes("interval"),In={key:Cr(T),tabindex:ut===!0?0:-1,class:{"q-calendar-day__day-interval":T.minute===0,"q-calendar-day__day-interval--section":T.minute!==0,...It,...Ee(T,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ut===!0},style:{height:ye,...me({scope:Xe})},onDragenter:Tt=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Tt,"interval",Xe)===!0?V.value=bn(T):V.value="")},onDragover:Tt=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Tt,"interval",Xe)===!0?V.value=bn(T):V.value="")},onDragleave:Tt=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Tt,"interval",Xe)===!0?V.value=bn(T):V.value="")},onDrop:Tt=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Tt,"interval",Xe)===!0?V.value=bn(T):V.value="")},onKeydown:Tt=>{qe(Tt,[13,32])&&(Tt.stopPropagation(),Tt.preventDefault())},onKeyup:Tt=>{if(qe(Tt,[13,32])){const sn=Fe(T,se);N.value=sn.timestamp.date,we.value.onClickTime!==void 0&&l("click-time",{scope:sn,event:Tt})}},...ce("-time",Tt=>({scope:Fe(Te(Tt,T,e.timeClicksClamped,A.now),se),event:Tt}))};e.noAria!==!0&&(In.ariaLabel=ke.value(T));const gn=He?He({scope:Xe}):void 0;return S("div",In,[gn,Bt()])}function ne(){const T={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":le.value===!0},...ce("-interval",se=>({scope:{timestamp:$e(se,De.value,e.timeClicksClamped,A.now)},event:se}))};return S("div",T,Ae())}function Ae(){return Ce.value[0].map(T=>Y(T))}function Y(T){const se=i["interval-label"],ye=Le(e.intervalHeight),me=e.shortIntervalLabel,It=(e.showIntervalLabel||Re)(T)?C.value(T,me):void 0;return S("div",{key:T.time,class:{"q-calendar-day__interval":T.minute===0,"q-calendar-day__interval--section":T.minute!==0},style:{height:ye}},[S("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[se?se({scope:{timestamp:T,label:It}}):It])])}function Lt(){const{start:T,end:se,maxDays:ye}=tt.value;(ie.value!==T.date||be.value!==se.date||he.value!==ye)&&(ie.value=T.date,be.value=se.date,he.value=ye);const me=re.width>0,He=_n(S("div",{key:ie.value,class:"q-calendar-day"},[me===!0&&le.value!==!0&&e.noHeader!==!0&&pt(),me&&k()]),[[nn,zt]]);if(e.animated===!0){const Xe="q-calendar--"+(te.value==="prev"?e.transitionPrev:e.transitionNext);return S(Xn,{name:Xe,appear:!0},()=>He)}return He}return s({prev:At,next:kt,move:P,moveToToday:mt,updateCurrent:F,timeStartPos:_t,timeDurationHeight:st,heightToMinutes:yt,scrollToTime:wt}),()=>Ue()}});const go={dayHeight:{type:[Number,String],default:0,validator:Rt},dayMinHeight:{type:[Number,String],default:0,validator:Rt},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:Rt,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||Rt(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function vu(e,i,{weekdaySkips:l,times:s,parsedStart:d,parsedEnd:b,size:m,headerColumnRef:h}){const H=J(()=>parseInt(e.minWeeks,10)),X=J(()=>H.value*e.weekdays.length),D=J(()=>ee(Ve(d.value))),M=J(()=>Se(O(b.value))),te=J(()=>{let le=0;return e.cellWidth?le=e.cellWidth:m.width>0&&h.value&&(le=h.value.offsetWidth/e.weekdays.length),le}),ie=J(()=>Ba(D.value,M.value,s.today,l.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,X.value)),be=J(()=>{const le=s.today,A=ee(le),ae=Se(le);return Ba(A,ae,le,l,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),he=J(()=>{const le={timeZone:"UTC",month:"long"},A={timeZone:"UTC",month:"short"};return Nn(e.locale,(ae,F)=>F?A:le)}),N=J(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),re=J(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let R=!0;const V=J(()=>{const le=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&m.width<N.value;return R===!0&&(R=!1,i("mini-mode",le)),le});ve(V,le=>{i("mini-mode",le)});function ee(le){return Yn(le,e.weekdays,s.today)}function Se(le){return En(le,e.weekdays,s.today)}function Ve(le){return ba(le)}function O(le){return Vn(le)}function we(le){const A=Ye(le);return A<Ye(d.value)||A>Ye(b.value)}return{parsedCellWidth:te,parsedMinWeeks:H,parsedMinDays:X,parsedMonthStart:D,parsedMonthEnd:M,parsedBreakpoint:N,parsedMonthLabelSize:re,days:ie,todayWeek:be,isMiniMode:V,monthFormatter:he,isOutside:we}}var yo=vn({name:"QCalendarMonth",directives:[nn],props:{...Un,...go,...Fn,...xa,...zn},emits:["update:model-value",...na,...Jn,"mini-mode",...bt("-date"),...bt("-day"),...bt("-head-workweek"),...bt("-head-day"),...bt("-workweek")],setup(e,{slots:i,emit:l,expose:s}){const d=L(null),b=L(null),m=L(null),h=L(null),H=L(null),X=L({}),D=L([]),M=L([]),te=L("next"),ie=L(e.modelValue||Nt()),be=L("0000-00-00"),he=L(0),N=L(e.modelValue),re=Jt({width:0,height:0}),R=L(!1),V=L(!1),ee=L(null),Se=L(null),Ve=J(()=>"month"),O=Tn();if(O===null)throw new Error("current instance is null");const{emitListeners:we}=ta(O),{isSticky:le}=ja(e);ve(le,_=>{});const{times:A,setCurrent:ae,updateCurrent:F}=Qn(e);F(),ae();const{weekdaySkips:We,parsedStart:De,parsedEnd:Oe,dayFormatter:pe,weekdayFormatter:lt,ariaDateFormatter:gt,dayStyleDefault:Ze,getRelativeClasses:_e}=Gn(e,{startDate:ie,endDate:be,times:A}),Je=J(()=>qt(e.modelValue,A.now)||De.value||A.today);H.value=Je.value,h.value=Je.value.date;const tt=J(()=>{const _={};return e.dayPadding!==void 0&&(_.padding=e.dayPadding),_.minWidth=_t.value,_.maxWidth=_t.value,_.width=_t.value,_}),{renderValues:vt}=$n(e,{parsedView:Ve,times:A,parsedValue:Je}),{rootRef:at,__initCalendar:Ct,__renderCalendar:Ue}=Kn(e,G,{scrollArea:d,pane:b}),{days:Pe,todayWeek:Ce,isMiniMode:C,parsedCellWidth:ke,parsedMonthLabelSize:de,isOutside:Ee,monthFormatter:Re}=vu(e,l,{weekdaySkips:We,times:A,parsedStart:De,parsedEnd:Oe,size:re,headerColumnRef:m}),{move:Ne}=ea(e,{parsedView:Ve,parsedValue:Je,weekdaySkips:We,direction:te,maxDays:he,times:A,emittedValue:N,emit:l}),{getDefaultMouseEventHandlers:Te}=Zn(l,we),{checkChange:$e}=aa(l,{days:Pe,lastStart:ee,lastEnd:Se}),{isKeyCode:Fe}=qn(),{tryFocus:wt}=ra(e,{rootRef:at,focusRef:h,focusValue:H,datesRef:X,days:Pe,parsedView:Ve,parsedValue:Je,emittedValue:N,weekdaySkips:We,direction:te,times:A}),yt=J(()=>at.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(at.value).getPropertyValue(C.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),st=J(()=>e.weekdays.length),_t=J(()=>{if(at.value){const _=re.width||at.value.getBoundingClientRect().width;if(_&&st.value)return(_-yt.value)/st.value+"px"}return 100/st.value+"%"}),P=J(()=>e.focusable===!0&&e.focusType.includes("day")&&C.value!==!0),ce=J(()=>e.focusable===!0&&e.focusType.includes("date")&&P.value!==!0);ve([Pe],$e,{deep:!0,immediate:!0}),ve(()=>e.modelValue,(_,W)=>{if(N.value!==_){if(e.animated===!0){const p=Ye(ot(_)),k=Ye(ot(W));te.value=p>=k?"next":"prev"}N.value=_}h.value=_}),ve(N,(_,W)=>{if(N.value!==e.modelValue){if(e.animated===!0){const p=Ye(ot(_)),k=Ye(ot(W));te.value=p>=k?"next":"prev"}l("update:model-value",_)}}),ve(h,_=>{_&&(H.value=qt(_),N.value!==_&&(N.value=_))}),ve(H,_=>{X.value[h.value]?X.value[h.value].focus():wt()}),jn(()=>{X.value={},D.value=[],M.value=[],en(()=>{mt()})}),wn(()=>{Ct(),mt()});function Be(){N.value=Nt()}function qe(_=1){Ne(_)}function nt(_=1){Ne(-_)}function ze({width:_,height:W}){re.width=_,re.height=W}function ge(_){return _.date===N.value}function ct(_){for(let W=0;W<_.length;++W)if(_[W].current===!0)return{timestamp:_[W]};return{timestamp:!1}}function mt(){if(!(C.value===!0||e.dayHeight!==0||i.week===void 0)&&window)for(const W in D.value){const p=D.value[W];if(p===void 0)continue;const k=M.value[W];if(k===void 0)continue;const z=window.getComputedStyle(p),j=parseFloat(z.marginTop,10)+parseFloat(z.marginBottom,10);p.clientHeight+j>k.clientHeight&&(k.style.height=p.clientHeight+j+"px")}}function kt(){return S("div",{class:"q-calendar-month__body"},[...Z()])}function At(){return S("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&xt(),S("div",{class:"q-calendar-month__head--wrapper"},[zt()])])}function zt(){return S("div",{ref:m,class:{"q-calendar-month__head--weekdays":!0}},[...pt()])}function xt(){const _=i["head-workweek"],W={start:De.value,end:Oe.value,miniMode:C.value};return S("div",{class:"q-calendar-month__head--workweek",...Te("-head-workweek",p=>({scope:W,event:p}))},_?_({scope:W}):"#")}function pt(){return Ce.value.map((_,W)=>ft(_,W))}function ft(_,W){const p=i["head-day"],k=Pe.value.filter(Y=>Y.weekday===_.weekday),z=k[0].weekday,y={activeDate:e.noActiveDate!==!0&&ge(_),weekday:z,timestamp:_,days:k,index:W,miniMode:C.value,droppable:R.value===_.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(_.weekday):!1},I=typeof e.weekdayClass=="function"?e.weekdayClass({scope:y}):{},B=e.focusable===!0&&e.focusType.includes("weekday"),Q=_t.value,oe=e.weekdayStyle||Ze,ne={width:Q,maxWidth:Q,minWidth:Q,...oe({scope:y})},Ae={key:_.date+(W!==void 0?"-"+W:""),tabindex:B===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...I,"q-disabled-day disabled":y.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":B===!0},style:ne,onDragenter:Y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Y,"head-day",y)===!0?R.value=_.weekday:R.value="")},onDragover:Y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Y,"head-day",y)===!0?R.value=_.weekday:R.value="")},onDragleave:Y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Y,"head-day",y)===!0?R.value=_.weekday:R.value="")},onDrop:Y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Y,"head-day",y)===!0?R.value=_.weekday:R.value="")},onFocus:Y=>{B===!0&&(h.value=_.date)},...Te("-head-day",Y=>({scope:y,event:Y}))};return e.noAria!==!0&&(Ae.ariaLabel=lt.value(_,!1)),S("div",Ae,[p===void 0&&Mt(_,e.shortWeekdayLabel||C.value),p!==void 0&&p({scope:y}),Et(_,W),B===!0&&Bt()])}function Et(_,W){const p=i["head-day-event"],k=e.noActiveDate!==!0&&ge(_),z=Pe.value.filter(oe=>oe.weekday===_.weekday),y={weekday:z[0].weekday,timestamp:_,days:z,index:W,miniMode:C.value,activeDate:k,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(_.weekday):!1},I=_t.value,B=e.weekdayStyle||Ze,Q={width:I,maxWidth:I,minWidth:I,...B({scope:y})};return S("div",{key:"event-"+_.date+(W!==void 0?"-"+W:""),class:{"q-calendar-month__head--event":!0},style:Q},[p!==void 0&&p({scope:y})])}function Mt(_,W){const p=lt.value(_,W||e.weekdayBreakpoints[0]>0&&ke.value<=e.weekdayBreakpoints[0]);return S("span",{class:"q-calendar__ellipsis"},C.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&ke.value<=e.weekdayBreakpoints[1]?wa(p,e.minWeekdayLabel):p)}function Z(){const _=e.weekdays.length,W=[];for(let p=0;p<Pe.value.length;p+=_)W.push(Me(Pe.value.slice(p,p+_),p/_));return W}function Me(_,W){const p=i.week,k=e.weekdays,z={week:_,weekdays:k,miniMode:C.value},j={};j.height=e.dayHeight>0&&C.value!==!0?Le(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&C.value!==!0&&(j.minHeight=Le(parseInt(e.dayMinHeight,10)));const y=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return S("div",{key:_[0].date,ref:I=>{M.value[W]=I},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":y},style:j},[e.showWorkWeeks===!0?je(_):void 0,S("div",{class:"q-calendar-month__week"},[S("div",{class:"q-calendar-month__week--days"},_.map((I,B)=>Ge(I))),C.value!==!0&&p!==void 0?S("div",{ref:I=>{D.value[W]=I},class:"q-calendar-month__week--events"},p({scope:z})):void 0])])}function je(_){const W=i.workweek,p=_.length>2?_[2]:_[0],{timestamp:k}=ct(_),z=Number(p.workweek).toLocaleString(e.locale),j={workweekLabel:z,week:_,miniMode:C.value};return S("div",{key:p.workweek,class:{"q-calendar-month__workweek":!0,..._e(k!==!1?k:p,!1)},...Te("-workweek",y=>({scope:j,event:y}))},W?W({scope:j}):z)}function Ge(_){const W=i.day,p=e.dayStyle||Ze,k=Ee(_),z=e.noActiveDate!==!0&&Je.value.date===_.date,j=k===!1&&e.showMonthLabel===!0&&Pe.value.find(ne=>ne.month===_.month).day===_.day,y={outside:k,timestamp:_,miniMode:C.value,activeDate:z,hasMonth:j,droppable:V.value===_.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(_.weekday):!1},I=Object.assign({...tt.value},p({scope:y})),B=typeof e.dayClass=="function"?e.dayClass({scope:y}):{},Q={key:_.date,ref:ne=>{P.value===!0&&(X.value[_.date]=ne)},tabindex:P.value===!0?0:-1,class:{"q-calendar-month__day":!0,...B,..._e(_,k,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":z===!0,disabled:e.enableOutsideDays!==!0&&k===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":P.value===!0},style:I,onFocus:ne=>{P.value===!0&&(h.value=_.date)},onKeydown:ne=>{k!==!0&&_.disabled!==!0&&Fe(ne,[13,32])&&(ne.stopPropagation(),ne.preventDefault())},onKeyup:ne=>{k!==!0&&_.disabled!==!0&&Fe(ne,[13,32])&&(ne.stopPropagation(),ne.preventDefault(),we.value.onClickDay!==void 0&&C.value!==!0&&l("click-day",{scope:y,event:ne}))},...Te("-day",ne=>({scope:y,event:ne}))};return k!==!0&&Object.assign(Q,{onDragenter:ne=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ne,"day",y)===!0?V.value=_.date:V.value="")},onDragover:ne=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ne,"day",y)===!0?V.value=_.date:V.value="")},onDragleave:ne=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ne,"day",y)===!0?V.value=_.date:V.value="")},onDrop:ne=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ne,"day",y)===!0?V.value=_.date:V.value="")}}),e.noAria!==!0&&(Q.ariaLabel=gt.value(_)),S("div",Q,[rt(_,k,j),S("div",{class:{"q-calendar-month__day--content":!0}},W?W({scope:y}):void 0),P.value===!0&&Bt()])}function rt(_,W,p){let k,z;const j=[et(_,W)];C.value!==!0&&p===!0&&re.width>340&&(z=E(_,W)),C.value!==!0&&e.showDayOfYearLabel===!0&&z===void 0&&re.width>300&&(k=Dt(_,W)),e.dateAlign==="left"?(k!==void 0&&j.push(k),z!==void 0&&j.push(z)):e.dateAlign==="right"?(k!==void 0&&j.unshift(k),z!==void 0&&j.unshift(z)):(k=void 0,z=void 0);const y={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:k===void 0&&z===void 0,"q-calendar__justify":k!==void 0||z!==void 0}};return S("div",y,j)}function et(_,W){if(W===!0&&e.noOutsideDays===!0)return;const p=pe.value(_,!1),k=i["head-day-label"],z=i["head-day-button"],j=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(_.date),y=e.noActiveDate!==!0&&ge(_),I={dayLabel:p,timestamp:_,outside:W,activeDate:y,selectedDate:j,miniMode:C.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(_.weekday):!1},B={key:_.date,ref:Q=>{ce.value===!0&&(X.value[_.date]=Q)},tabindex:ce.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":_.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ce.value===!0},disabled:_.disabled===!0||e.enableOutsideDays!==!0&&W===!0,onFocus:Q=>{ce.value===!0&&(h.value=_.date)},onKeydown:Q=>{W!==!0&&_.disabled!==!0&&Fe(Q,[13,32])&&(Q.stopPropagation(),Q.preventDefault())},onKeyup:Q=>{ce.value===!0&&W!==!0&&_.disabled!==!0&&Fe(Q,[13,32])&&(Q.stopPropagation(),Q.preventDefault(),N.value=_.date,we.value.onClickDate!==void 0&&l("click-date",{scope:I,event:Q}))},...Te("-date",(Q,oe)=>(Q.stopPropagation(),(oe==="click-date"||oe==="contextmenu-date")&&(N.value=_.date),{scope:I,event:Q}))};return e.noAria!==!0&&(B.ariaLabel=gt.value(_)),[z?z({scope:I}):ka(e,B,k?k({scope:I}):p),ce.value===!0&&Bt()]}function Dt(_,W){if(W===!0&&e.noOutsideDays===!0)return;const p=i["day-of-year"];return S("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},p?p({scope:{timestamp:_}}):_.doy)}function E(_,W){if(W===!0&&e.noOutsideDays===!0)return;const p=i["month-label"],k=Re.value(_,e.shortMonthLabel||re.width<500),z={monthLabel:k,timestamp:_,miniMode:C.value},j={};return C.value!==!0&&de.value!==void 0&&(j.fontSize=de.value),S("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:j},[p?p({scope:z}):C.value!==!0?k:void 0])}function G(){const{start:_,end:W}=vt.value;ie.value=_.date,be.value=W.date;const p=re.width>0,k=_n(S("div",{class:{"q-calendar-mini":C.value===!0,"q-calendar-month":!0},key:ie.value},[p===!0&&e.noHeader!==!0&&At(),p===!0&&kt()]),[[nn,ze]]);if(e.animated===!0){const z="q-calendar--"+(te.value==="prev"?e.transitionPrev:e.transitionNext);return S(Xn,{name:z,appear:!0},()=>k)}return k}return s({prev:nt,next:qe,move:Ne,moveToToday:Be,updateCurrent:F}),()=>Ue()}}),gu=vn({name:"QCalendarResource",props:{...Un,...fo,...Tr,...Va,..._a,...Fn,...zn},emits:["update:model-value","update:model-resources","resource-expanded",...na,...Jn,...bt("-date"),...bt("-interval"),...bt("-head-day"),...bt("-time"),...bt("-head-resources"),...bt("-resource")],setup(e,{slots:i,emit:l,expose:s}){const d=L(null),b=L(null),m=L(null),h=L(null),H=L(null),X=L(null),D=L({}),M=L({}),te=L("next"),ie=L(Nt()),be=L("0000-00-00"),he=L(0),N=L(e.modelValue),re=Jt({width:0,height:0}),R=L(!1),V=L(!1),ee=L(!1),Se=L(null),Ve=L(null);ve(()=>e.view,()=>{he.value=0});const O=J(()=>e.view==="month"?"month-interval":e.view),we=J(()=>parseInt(e.cellWidth,10)),le=Tn();if(le===null)throw new Error("current instance is null");const{emitListeners:A}=ta(le),{times:ae,setCurrent:F,updateCurrent:We}=Qn(e);We(),F();const{weekdaySkips:De,parsedStart:Oe,parsedEnd:pe,dayStyleDefault:lt}=Gn(e,{startDate:ie,endDate:be,times:ae}),gt=J(()=>qt(e.modelValue,ae.now)||Oe.value||ae.today);X.value=gt.value,H.value=gt.value.date;const{renderValues:Ze}=$n(e,{parsedView:O,times:ae,parsedValue:gt}),{rootRef:_e,__initCalendar:Je,__renderCalendar:tt}=Kn(e,Mt,{scrollArea:d,pane:b}),{days:vt,intervals:at,intervalFormatter:Ct,styleDefault:Ue,scrollToTimeX:Pe,timeDurationWidth:Ce,timeStartPosX:C,widthToMinutes:ke}=Na(e,{weekdaySkips:De,times:ae,scrollArea:d,parsedStart:Oe,parsedEnd:pe,maxDays:he,size:re,headerColumnRef:h}),{move:de}=ea(e,{parsedView:O,parsedValue:gt,weekdaySkips:De,direction:te,maxDays:he,times:ae,emittedValue:N,emit:l}),{getDefaultMouseEventHandlers:Ee}=Zn(l,A),{checkChange:Re}=aa(l,{days:vt,lastStart:Se,lastEnd:Ve}),{isKeyCode:Ne}=qn(),{tryFocus:Te}=ra(e,{rootRef:_e,focusRef:H,focusValue:X,datesRef:D,days:vt,parsedView:O,parsedValue:gt,emittedValue:N,weekdaySkips:De,direction:te,times:ae}),$e=J(()=>{const Z=parseInt(e.resourceHeight,10);return Z===0?"auto":Z}),Fe=J(()=>parseInt(e.resourceMinHeight,10)),wt=J(()=>parseInt(e.intervalHeaderHeight,10));ve([vt],Re,{deep:!0,immediate:!0}),ve(()=>e.modelValue,(Z,Me)=>{if(N.value!==Z){if(e.animated===!0){const je=Ye(ot(Z)),Ge=Ye(ot(Me));te.value=je>=Ge?"next":"prev"}N.value=Z}H.value=Z}),ve(N,(Z,Me)=>{if(N.value!==e.modelValue){if(e.animated===!0){const je=Ye(ot(Z)),Ge=Ye(ot(Me));te.value=je>=Ge?"next":"prev"}l("update:model-value",Z)}}),ve(H,Z=>{Z&&(X.value=qt(Z))}),ve(X,Z=>{D.value[H.value]?D.value[H.value].focus():Te()}),jn(()=>{D.value={},M.value={}}),wn(()=>{Je()});function yt(){N.value=Nt()}function st(Z=1){de(Z)}function _t(Z=1){de(-Z)}function P({width:Z,height:Me}){re.width=Z,re.height=Me}function ce(Z){return Z.date===N.value}function Be(){const Z={height:Le(wt.value)};return S("div",{ref:m,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:Z},[qe(),nt()])}function qe(){const Z=i["head-resources"],Me=Le(wt.value),je={timestamps:at,date:e.modelValue,resources:e.modelResources};return S("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:Me},...Ee("-head-resources",Ge=>({scope:je,event:Ge}))},[Z&&Z({scope:je})])}function nt(){return S("div",{ref:h,class:{"q-calendar-resource__head--intervals":!0}},[at.value.map(Z=>Z.map((Me,je)=>ze(Me,je)))])}function ze(Z,Me){const je=i["interval-label"],Ge=e.noActiveDate!==!0&&ce(Z),rt=Le(we.value),et=Le(wt.value),Dt=e.shortIntervalLabel,E=Ct.value(Z,Dt),G={timestamp:Z,index:Me,label:E};G.droppable=R.value===E;const _=e.intervalStyle||lt,W={width:rt,maxWidth:rt,minWidth:rt,height:et,..._({scope:G})},p=typeof e.intervalClass=="function"?e.intervalClass({scope:G}):{},k=e.focusable===!0&&e.focusType.includes("interval");return S("div",{key:E,tabindex:k===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...p,"q-active-date":Ge,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":k===!0},style:W,onDragenter:z=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(z,"interval",G)===!0?R.value=E:R.value="")},onDragover:z=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(z,"interval",G)===!0?R.value=E:R.value="")},onDragleave:z=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(z,"interval",G)===!0?R.value=E:R.value="")},onDrop:z=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(z,"interval",G)===!0?R.value=E:R.value="")},onFocus:z=>{k===!0&&(H.value=E)},...Ee("-interval",z=>({scope:G,event:z}))},[je?je({scope:G}):E,Bt()])}function ge(){return S("div",{class:"q-calendar-resource__body"},[ct()])}function ct(){return S("div",{ref:d,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[kt()])}function mt(){return S("div",{},"No resources have been defined")}function kt(){return S("div",{class:"q-calendar-resource__day--container"},[Be(),e.modelResources===void 0&&mt(),e.modelResources!==void 0&&At()])}function At(){return S("div",{class:"q-calendar-resource__resources--body"},zt())}function zt(Z=void 0,Me=0,je=!0){return Z===void 0&&(Z=e.modelResources),Z.map((Ge,rt)=>xt(Ge,rt,Me,Ge.children!==void 0?Ge.expanded:je))}function xt(Z,Me,je=0,Ge=!0){const rt={};rt.height=$e.value==="auto"?$e.value:Le($e.value),Fe.value>0&&(rt.minHeight=Le(Fe.value));const et=S("div",{key:Z[e.resourceKey]+"-"+Me,class:{"q-calendar-resource__resource--row":!0},style:rt},[pt(Z,Me,je,Ge),ft(Z,Me)]);return Z.children!==void 0?[et,S("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":Ge===!0,"q-calendar__child--collapsed":Ge!==!0}},[zt(Z.children,je+1,Ge===!1?Ge:Z.expanded)])]:[et]}function pt(Z,Me,je=0,Ge=!0){const rt=i["resource-label"],et={};et.height=Z.height!==void 0?Le(parseInt(Z.height,10)):$e.value?Le($e.value):"auto",Fe.value>0&&(et.minHeight=Le(Fe.value));const Dt=e.resourceStyle||Ue,E=Z[e.resourceLabel],G=e.focusable===!0&&e.focusType.includes("resource")&&Ge===!0,_={resource:Z,timestamps:at,resourceIndex:Me,indentLevel:je,label:E},W=Z[e.resourceKey];_.droppable=V.value===W;const p=typeof e.resourceClass=="function"?e.resourceClass({scope:_}):{};return S("div",{key:Z[e.resourceKey]+"-"+Me,ref:k=>{M.value[Z[e.resourceKey]]=k},tabindex:G===!0?0:-1,class:{"q-calendar-resource__resource":je===0,"q-calendar-resource__resource--section":je!==0,...p,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":G===!0},style:{...et,...Dt({scope:_})},onDragenter:k=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(k,"resource",_)===!0?V.value=W:V.value="")},onDragover:k=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(k,"resource",_)===!0?V.value=W:V.value="")},onDragleave:k=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(k,"resource",_)===!0?V.value=W:V.value="")},onDrop:k=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(k,"resource",_)===!0?V.value=W:V.value="")},onKeydown:k=>{Ne(k,[13,32])&&(k.stopPropagation(),k.preventDefault())},onKeyup:k=>{Ne(k,[13,32])&&A.value.onClickResource!==void 0&&l("click-resource",{scope:_,event:k})},...Ee("-resource",k=>({scope:_,event:k}))},[[S("div",{class:{"q-calendar__parent":Z.children!==void 0,"q-calendar__parent--expanded":Z.children!==void 0&&Z.expanded===!0,"q-calendar__parent--collapsed":Z.children!==void 0&&Z.expanded!==!0},onClick:k=>{k.stopPropagation(),Z.expanded=!Z.expanded,l("resource-expanded",{expanded:Z.expanded,scope:_})}}),S("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*je+2+"px"}},[rt?rt({scope:_}):E]),Bt()]])}function ft(Z,Me){const je=i["resource-intervals"],Ge={resource:Z,timestamps:at,resourceIndex:Me,timeStartPosX:C,timeDurationWidth:Ce};return S("div",{class:"q-calendar-resource__resource--intervals"},[at.value.map(rt=>rt.map(et=>Et(Z,et,Me))),je&&je({scope:Ge})])}function Et(Z,Me,je){const Ge=i["resource-interval"],rt=e.noActiveDate!==!0&&ce(Me),et={activeDate:rt,resource:Z,timestamp:Me,resourceIndex:je},Dt=Z[e.resourceKey],E=Me.time+"-"+Dt;et.droppable=ee.value===E;const G=e.focusable===!0&&e.focusType.includes("time"),_=e.intervalStyle||lt,W=Le(we.value),p={width:W,maxWidth:W,minWidth:W,..._({scope:et})};return p.height=Z.height!==void 0?Le(parseInt(Z.height,10)):$e.value>0?Le($e.value):"auto",Fe.value>0&&(p.minHeight=Le(Fe.value)),S("div",{key:E,ref:k=>{D.value[Z[e.resourceKey]]=k},tabindex:G===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":rt,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":G===!0},style:p,onDragenter:k=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(k,"time",et)===!0?ee.value=E:ee.value="")},onDragover:k=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(k,"time",et)===!0?ee.value=E:ee.value="")},onDragleave:k=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(k,"time",et)===!0?ee.value=E:ee.value="")},onDrop:k=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(k,"time",et)===!0?ee.value=E:ee.value="")},onFocus:k=>{G===!0&&(H.value=E)},...Ee("-time",k=>({scope:et,event:k}))},[Ge&&Ge({scope:et}),Bt()])}function Mt(){const{start:Z,end:Me,maxDays:je}=Ze.value;(ie.value!==Z.date||be.value!==Me.date||he.value!==je)&&(ie.value=Z.date,be.value=Me.date,he.value=je);const Ge=re.width>0,rt=_n(S("div",{class:"q-calendar-resource",key:ie.value},[Ge===!0&&ge()]),[[nn,P]]);if(e.animated===!0){const et="q-calendar--"+(te.value==="prev"?e.transitionPrev:e.transitionNext);return S(Xn,{name:et,appear:!0},()=>rt)}return rt}return s({prev:_t,next:st,move:de,moveToToday:yt,updateCurrent:We,timeStartPosX:C,timeDurationWidth:Ce,widthToMinutes:ke,scrollToTimeX:Pe}),()=>tt()}}),yu=vn({name:"QCalendarScheduler",directives:[nn],props:{...Un,...co,...Va,..._a,...Fn,...xa,...zn},emits:["update:model-value","update:model-resources","resource-expanded",...na,...Jn,...bt("-date"),...bt("-day-resource"),...bt("-head-resources"),...bt("-head-day"),...bt("-resource")],setup(e,{slots:i,emit:l,expose:s}){const d=L(null),b=L(null),m=L(null),h=L(null),H=L(null),X=L({}),D=L({}),M=L({}),te=L({}),ie=L("next"),be=L(e.modelValue||Nt()),he=L("0000-00-00"),N=L(0),re=L(e.modelValue),R=Jt({width:0,height:0}),V=L(!1),ee=L(!1),Se=L(null),Ve=L(null);ve(()=>e.view,()=>{N.value=0});const O=J(()=>e.view==="month"?"month-interval":e.view),we=Tn();if(we===null)throw new Error("current instance is null");const{emitListeners:le}=ta(we),{isSticky:A}=ja(e),{times:ae,setCurrent:F,updateCurrent:We}=Qn(e);We(),F();const{weekdaySkips:De,parsedStart:Oe,parsedEnd:pe,dayFormatter:lt,weekdayFormatter:gt,ariaDateFormatter:Ze,dayStyleDefault:_e,getRelativeClasses:Je}=Gn(e,{startDate:be,endDate:he,times:ae}),tt=J(()=>qt(e.modelValue,ae.now)||Oe.value||ae.today);H.value=tt.value,h.value=tt.value.date;const{renderValues:vt}=$n(e,{parsedView:O,parsedValue:tt,times:ae}),{rootRef:at,scrollWidth:Ct,__initCalendar:Ue,__renderCalendar:Pe}=Kn(e,j,{scrollArea:d,pane:b}),{days:Ce,parsedCellWidth:C,styleDefault:ke}=Na(e,{weekdaySkips:De,times:ae,scrollArea:d,parsedStart:Oe,parsedEnd:pe,maxDays:N,size:R,headerColumnRef:m}),{move:de}=ea(e,{parsedView:O,parsedValue:tt,weekdaySkips:De,direction:ie,maxDays:N,times:ae,emittedValue:re,emit:l}),{getDefaultMouseEventHandlers:Ee}=Zn(l,le),{checkChange:Re}=aa(l,{days:Ce,lastStart:Se,lastEnd:Ve}),{isKeyCode:Ne}=qn(),{tryFocus:Te}=ra(e,{rootRef:at,focusRef:h,focusValue:H,datesRef:X,days:Ce,parsedView:O,parsedValue:tt,emittedValue:re,weekdaySkips:De,direction:ie,times:ae}),$e=J(()=>O.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):O.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:Ce.value.length),Fe=J(()=>at.value?parseInt(getComputedStyle(at.value).getPropertyValue("--calendar-resources-width"),10):0),wt=J(()=>{const y=parseInt(e.resourceHeight,10);return y===0?"auto":y}),yt=J(()=>parseInt(e.resourceMinHeight,10)),st=J(()=>{if(at.value){const y=R.width||at.value.getBoundingClientRect().width;if(y&&Fe.value&&$e.value)return(y-Ct.value-Fe.value)/$e.value+"px"}return 100/$e.value+"%"});ve([Ce],Re,{deep:!0,immediate:!0}),ve(()=>e.modelValue,(y,I)=>{if(re.value!==e.modelValue){if(e.animated===!0){const B=Ye(ot(y)),Q=Ye(ot(I));ie.value=B>=Q?"next":"prev"}re.value=y}h.value=y}),ve(re,(y,I)=>{if(re.value!==e.modelValue){if(e.animated===!0){const B=Ye(ot(y)),Q=Ye(ot(I));ie.value=B>=Q?"next":"prev"}l("update:model-value",y)}}),ve(h,y=>{y&&(H.value=qt(y))}),ve(H,y=>{X.value[h.value]?X.value[h.value].focus():Te()}),ve(()=>e.maxDays,y=>{N.value=y}),jn(()=>{X.value={},M.value={},te.value={},D.value={}}),wn(()=>{Ue()});function _t(){re.value=Nt()}function P(y=1){de(y)}function ce(y=1){de(-y)}function Be({width:y,height:I}){R.width=y,R.height=I}function qe(y){return y.date===re.value}function nt(){return S("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":A.value===!0},style:{marginRight:Ct.value+"px"}},[ze(),ge()])}function ze(){const y=i["head-resources"],I={days:Ce.value,timestamps:Ce.value,date:e.modelValue,resources:e.modelResources};return S("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":A.value===!0},...Ee("-head-resources",B=>({scope:I,event:B}))},[y&&y({scope:I})])}function ge(){return S("div",{ref:m,class:{"q-calendar-scheduler__head--days__column":!0}},[ct(),mt()])}function ct(){return S("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...kt()])}function mt(){const y=i["head-days-events"];return en(()=>{if(te.value&&parseInt(e.columnCount,10)===0&&window)try{const I=window.getComputedStyle(te.value);M.value.parentElement.style.height=I.height,M.value.style.height=I.height}catch{}}),S("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[y&&S("div",{ref:M,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[y({scope:{timestamps:Ce.value,days:Ce.value,ref:te}})]),...At()])}function kt(){return Ce.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((y,I)=>I+parseInt(e.columnIndexStart,10)).map(y=>zt(Ce.value[0],y)):Ce.value.map(y=>zt(y))}function At(){return Ce.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((y,I)=>I+parseInt(e.columnIndexStart,10)).map(y=>pt(Ce.value[0],y)):Ce.value.map(y=>pt(y))}function zt(y,I){const B=i["head-day"],Q=i["head-date"],oe=e.noActiveDate!==!0&&qe(y),ne={timestamp:y,activeDate:oe,droppable:V.value===y.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(y.weekday):!1};I!==void 0&&(ne.columnIndex=I);const Ae=A.value===!0?Le(C.value):st.value,Y=e.weekdayStyle||_e,Lt={width:Ae,maxWidth:Ae,minWidth:Ae,...Y({scope:ne})};A.value===!0&&(Lt.minWidth=Ae);const T=typeof e.weekdayClass=="function"?e.weekdayClass({scope:ne}):{},se=e.focusable===!0&&e.focusType.includes("weekday"),ye=y.date+(I!==void 0?"-"+I:""),me={key:ye,ref:He=>{X.value[ye]=He},tabindex:se===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...T,...Je(y),"q-active-date":oe,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":se===!0},style:Lt,onFocus:He=>{se===!0&&(h.value=ye)},onKeydown:He=>{y.disabled!==!0&&Ne(He,[13,32])&&(He.stopPropagation(),He.preventDefault())},onKeyup:He=>{y.disabled!==!0&&Ne(He,[13,32])&&(re.value=y.date)},...Ee("-head-day",He=>({scope:ne,event:He})),onDragenter:He=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(He,"head-day",ne)===!0?V.value=y.date:V.value="")},onDragover:He=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(He,"head-day",ne)===!0?V.value=y.date:V.value="")},onDragleave:He=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(He,"head-day",ne)===!0?V.value=y.date:V.value="")},onDrop:He=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(He,"head-day",ne)===!0?V.value=y.date:V.value="")}};return S("div",me,[B!==void 0&&B({scope:ne}),B===void 0&&Me(y,I),B===void 0&&xt(y),B===void 0&&Q&&Q({scope:ne}),B===void 0&&je(y,I),Bt()])}function xt(y){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&ft(y),e.noDefaultHeaderBtn!==!0&&Mt(y)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ft(y),e.noDefaultHeaderBtn!==!0&&Mt(y)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ft(y),e.noDefaultHeaderBtn!==!0&&Mt(y)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ft(y),e.noDefaultHeaderBtn!==!0&&Mt(y)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Mt(y),e.noDefaultHeaderText!==!0&&ft(y)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Mt(y),e.noDefaultHeaderText!==!0&&ft(y)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Mt(y),e.noDefaultHeaderText!==!0&&ft(y)])}function pt(y,I){const B=i["head-day-event"],Q=e.noActiveDate!==!0&&qe(y),oe={timestamp:y,activeDate:Q,droppable:V.value===y.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(y.weekday):!1};I!==void 0&&(oe.columnIndex=I);const ne=A.value===!0?Le(C.value):st.value,Ae={width:ne,maxWidth:ne,minWidth:ne};return A.value===!0&&(Ae.minWidth=ne),S("div",{key:"event-"+y.date+(I!==void 0?"-"+I:""),class:{"q-calendar-scheduler__head--day__event":!0,...Je(y),"q-active-date":Q},style:Ae},[B&&B({scope:oe})])}function ft(y){const I=i["head-weekday-label"],B=e.shortWeekdayLabel===!0,Q={timestamp:y,shortWeekdayLabel:B},oe={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return S("div",oe,I&&I({scope:Q})||Et(y,B))}function Et(y,I){const B=gt.value(y,I||e.weekdayBreakpoints[0]>0&&C.value<=e.weekdayBreakpoints[0]);return S("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&C.value<=e.weekdayBreakpoints[1]?wa(B,e.minWeekdayLabel):B)}function Mt(y){const I={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return S("div",I,Z(y))}function Z(y){const I=e.noActiveDate!==!0&&qe(y),B=lt.value(y,!1),Q=i["head-day-label"],oe=i["head-day-button"],ne={dayLabel:B,timestamp:y,activeDate:I},Ae={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":y.current===!0,"q-calendar__focusable":!0},disabled:y.disabled,onKeydown:Y=>{y.disabled!==!0&&Ne(Y,[13,32])&&(Y.stopPropagation(),Y.preventDefault())},onKeyup:Y=>{y.disabled!==!0&&Ne(Y,[13,32])&&(re.value=y.date,le.value.onClickDate!==void 0&&l("click-date",{scope:ne}))},...Ee("-date",(Y,Lt)=>((Lt==="click-date"||Lt==="contextmenu-date")&&(re.value=y.date,Lt==="click-date"&&Y.preventDefault()),{scope:ne,event:Y}))};return e.noAria!==!0&&(Ae.ariaLabel=Ze.value(y)),oe?oe({scope:ne}):ka(e,Ae,Q?Q({scope:ne}):B)}function Me(y,I){const B=i["column-header-before"];if(B)return S("div",{class:"q-calendar-scheduler__column-header--before"},[B({scope:{timestamp:y,columnIndex:I}})])}function je(y,I){const B=i["column-header-after"];if(B)return S("div",{class:"q-calendar-scheduler__column-header--after"},[B({scope:{timestamp:y,columnIndex:I}})])}function Ge(){return S("div",{class:"q-calendar-scheduler__body"},[rt()])}function rt(){return A.value===!0?S("div",{ref:d,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[A.value!==!0&&W(),Dt()]):e.noScroll===!0?et():S("div",{ref:d,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[et()])}function et(){return S("div",{ref:b,class:"q-calendar-scheduler__pane"},[Dt()])}function Dt(){return S("div",{class:"q-calendar-scheduler__day--container"},[A.value===!0&&e.noHeader!==!0&&nt(),E()])}function E(y=void 0,I=0,B=!0){return y===void 0&&(y=e.modelResources),y.map((Q,oe)=>G(Q,oe,I,Q.children!==void 0?Q.expanded:B))}function G(y,I,B=0,Q=!0){const oe={};oe.height=y.height!==void 0?Le(parseInt(y.height,10)):wt.value?Le(wt.value):"auto",yt.value>0&&(oe.minHeight=Le(yt.value));const ne=S("div",{key:y[e.resourceKey]+"-"+I,class:{"q-calendar-scheduler__resource--row":!0},style:oe},[_(y,I,B,Q),W(y,I,B,Q)]);return y.children!==void 0?[ne,S("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":Q===!0,"q-calendar__child--collapsed":Q!==!0}},[E(y.children,B+1,Q===!1?Q:y.expanded)])]:[ne]}function _(y,I,B=0,Q=!0){const oe=i["resource-label"],ne={};ne.height=y.height!==void 0?Le(parseInt(y.height,10)):wt.value?Le(wt.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(ne.minHeight=Le(parseInt(e.resourceMinHeight,10)));const Ae=e.resourceStyle||ke,Y=y[e.resourceLabel],Lt=e.focusable===!0&&e.focusType.includes("resource")&&Q===!0,T={resource:y,timestamps:Ce.value,days:Ce.value,resourceIndex:I,indentLevel:B,label:Y},se=y[e.resourceKey];T.droppable=ee.value===se;const ye=typeof e.resourceClass=="function"?e.resourceClass({scope:T}):{};return S("div",{key:y[e.resourceKey]+"-"+I,ref:me=>{D.value[y[e.resourceKey]]=me},tabindex:Lt===!0?0:-1,class:{"q-calendar-scheduler__resource":B===0,"q-calendar-scheduler__resource--section":B!==0,...ye,"q-calendar__sticky":A.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Lt===!0},style:{...ne,...Ae({scope:T})},onDragenter:me=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(me,"resource",T)===!0?ee.value=se:ee.value="")},onDragover:me=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(me,"resource",T)===!0?ee.value=se:ee.value="")},onDragleave:me=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(me,"resource",T)===!0?ee.value=se:ee.value="")},onDrop:me=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(me,"resource",T)===!0?ee.value=se:ee.value="")},onKeydown:me=>{Ne(me,[13,32])&&(me.stopPropagation(),me.preventDefault())},onKeyup:me=>{Ne(me,[13,32])&&le.value.onClickResource!==void 0&&l("click-resource",{scope:T,event:me})},...Ee("-resource",me=>({scope:T,event:me}))},[[S("div",{class:{"q-calendar__parent":y.children!==void 0,"q-calendar__parent--expanded":y.children!==void 0&&y.expanded===!0,"q-calendar__parent--collapsed":y.children!==void 0&&y.expanded!==!0},onClick:me=>{me.stopPropagation(),y.expanded=!y.expanded,l("resource-expanded",{expanded:y.expanded,scope:T})}}),S("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*B+2+"px"}},[oe?oe({scope:T}):Y]),Bt()]])}function W(y,I,B=0,Q=!0){const oe=i["resource-days"],ne=A.value===!0?Le(C.value):st.value,Ae={resource:y,resourceIndex:I,indentLevel:B,expanded:Q,cellWidth:ne,timestamps:Ce.value,days:Ce.value},Y={};return Y.height=parseInt(e.resourceHeight,10)>0?Le(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(Y.minHeight=Le(parseInt(e.resourceMinHeight,10))),S("div",{class:"q-calendar-scheduler__resource--days",style:Y},[...p(y,I,B,Q),oe&&oe({scope:Ae})])}function p(y,I,B=0,Q=!0){return Ce.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((oe,ne)=>ne+parseInt(e.columnIndexStart,10)).map(oe=>k(Ce.value[0],oe,y,I,B,Q)):Ce.value.map(oe=>k(oe,void 0,y,I,B,Q))}function k(y,I,B,Q,oe=0,ne=!0){const Ae=i.day,Y=e.dayStyle||_e,Lt=e.noActiveDate!==!0&&tt.value.date===y.date,T=y.date+":"+B[e.resourceKey]+(I!==void 0?":"+I:""),se=ee.value===T,ye={timestamp:y,columnIndex:I,resource:B,resourceIndex:Q,indentLevel:oe,activeDate:Lt,droppable:se},me=A.value===!0?Le(C.value):st.value,He={width:me,maxWidth:me,...Y({scope:ye})};He.height=parseInt(e.resourceHeight,10)>0?Le(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(He.minHeight=Le(parseInt(e.resourceMinHeight,10)));const Xe=typeof e.dayClass=="function"?e.dayClass({scope:ye}):{},It=e.focusable===!0&&e.focusType.includes("day")&&ne===!0;return S("div",{key:y.date+(I!==void 0?":"+I:""),tabindex:It===!0?0:-1,class:{"q-calendar-scheduler__day":oe===0,"q-calendar-scheduler__day--section":oe!==0,...Xe,...Je(y),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":It===!0},style:He,onDragenter:ut=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ut,"day",ye)===!0?ee.value=T:ee.value="")},onDragover:ut=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ut,"day",ye)===!0?ee.value=T:ee.value="")},onDragleave:ut=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ut,"day",ye)===!0?ee.value=T:ee.value="")},onDrop:ut=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ut,"day",ye)===!0?ee.value=T:ee.value="")},onKeydown:ut=>{Ne(ut,[13,32])&&(ut.stopPropagation(),ut.preventDefault())},onKeyup:ut=>{Ne(ut,[13,32])&&(re.value=ye.timestamp.date,le.value.onClickResource!==void 0&&l("click-resource",{scope:ye,event:ut}))},...Ee("-day-resource",ut=>({scope:ye,event:ut}))},[Ae&&Ae({scope:ye}),Bt()])}function z(){return S("div",{},"No resources have been defined")}function j(){const{start:y,end:I,maxDays:B}=vt.value;(be.value!==y.date||he.value!==I.date||N.value!==B)&&(be.value=y.date,he.value=I.date,N.value=B);const Q=R.width>0,oe=e.modelResources&&e.modelResources.length>0,ne=_n(S("div",{key:be.value,class:"q-calendar-scheduler"},[Q===!0&&oe===!0&&A.value!==!0&&e.noHeader!==!0&&nt(),Q===!0&&oe===!0&&Ge(),oe===!1&&z()]),[[nn,Be]]);if(e.animated===!0){const Ae="q-calendar--"+(ie.value==="prev"?e.transitionPrev:e.transitionNext);return S(Xn,{name:Ae,appear:!0},()=>ne)}return ne}return s({prev:ce,next:P,move:de,moveToToday:_t,updateCurrent:We}),()=>Pe()}});const mo={modelValue:{type:String,default:Nt(),validator:e=>e===""||Dr(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>Rt(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let i=!0;return e.forEach(l=>{["day","date","weekday","interval","resource","task"].includes(l)!==!0&&(i=!1)}),i}},taskWidth:{type:Number,default:200,validator:e=>Rt(e)&&e>0}};function mu(e,i,{weekdaySkips:l,times:s}){const d=J(()=>{if(e.view==="day")return qt(e.modelValue);if(e.view==="week")return Yn(qt(e.modelValue),e.weekdays,s.today);if(e.view==="month")return ba(qt(e.modelValue),e.weekdays,s.today);throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)}),b=J(()=>{if(e.view==="day"){if(e.viewCount===1)return d.value;let h=St(d.value);return h=Ht(h,{day:e.viewCount-1}),h}else if(e.view==="week"){if(e.viewCount===1)return En(qt(e.modelValue),e.weekdays,s.today);{let h=St(d.value);return h=Ht(h,{day:(e.viewCount-1)*Rn}),En(h,e.weekdays,s.today)}}else if(e.view==="month"){if(e.viewCount===1)return Vn(qt(e.modelValue),e.weekdays,s.today);{let h=St(d.value);return h=Ht(h,{month:e.viewCount}),Vn(h,e.weekdays,s.today)}}else throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)});return{days:J(()=>Ba(d.value,b.value,s.today,l.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER)),parsedStartDate:d,parsedEndDate:b}}var pu=vn({name:"QCalendarTask",directives:[nn],props:{...Fn,...zn,...mo},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...na,...Jn,...bt("-date"),...bt("-day"),...bt("-head-day")],setup(e,{slots:i,emit:l,expose:s}){const d=L(null),b=L(null),m=L("next"),h=L(e.modelValue||Nt()),H=L("0000-00-00"),X=L(0),D=L(e.modelValue),M=L(null),te=L(null),ie=L({}),be=Jt({width:0,height:0}),he=L(!1),N=L(null),re=L(null);ve(()=>e.view,()=>{X.value=0});const R=J(()=>e.view==="month"?"month-interval":e.view),V=Tn();if(V===null)throw new Error("current instance is null");const{emitListeners:ee}=ta(V),{times:Se,setCurrent:Ve,updateCurrent:O}=Qn(e);O(),Ve();const{weekdaySkips:we,parsedStart:le,dayFormatter:A,weekdayFormatter:ae,ariaDateFormatter:F,dayStyleDefault:We,getRelativeClasses:De}=Gn(e,{startDate:h,endDate:H,times:Se}),Oe=J(()=>qt(e.modelValue,Se.now)||le.value||Se.today);te.value=Oe.value,M.value=Oe.value.date;const{renderValues:pe}=$n(e,{parsedView:R,times:Se,parsedValue:Oe}),{rootRef:lt,__initCalendar:gt,__renderCalendar:Ze}=Kn(e,W,{scrollArea:d,pane:b}),{days:_e,parsedStartDate:Je,parsedEndDate:tt}=mu(e,l,{weekdaySkips:we,times:Se}),{move:vt}=ea(e,{parsedView:R,parsedValue:Oe,weekdaySkips:we,direction:m,maxDays:X,times:Se,emittedValue:D,emit:l}),{getDefaultMouseEventHandlers:at}=Zn(l,ee),{checkChange:Ct}=aa(l,{days:_e,lastStart:N,lastEnd:re}),{isKeyCode:Ue}=qn(),{tryFocus:Pe}=ra(e,{rootRef:lt,focusRef:M,focusValue:te,datesRef:ie,days:_e,parsedView:R,parsedValue:Oe,emittedValue:D,weekdaySkips:we,direction:m,times:Se}),Ce=L(!0),C=J(()=>e.cellWidth!==void 0?parseInt(e.cellWidth,10):150),ke=J(()=>e.focusable===!0&&e.focusType.includes("day")&&isMiniMode.value!==!0),de=J(()=>e.focusable===!0&&e.focusType.includes("date")&&ke.value!==!0),Ee=J(()=>e.focusable===!0&&e.focusType.includes("weekday")),Re=J(()=>parseInt(e.dayHeight,10)),Ne=J(()=>parseInt(e.dayMinHeight,10));ve([_e],Ct,{deep:!0,immediate:!0}),ve(()=>e.modelValue,(p,k)=>{if(D.value!==p){if(e.animated===!0){const z=Ye(ot(p)),j=Ye(ot(k));m.value=z>=j?"next":"prev"}D.value=p}M.value=p}),ve(D,(p,k)=>{if(D.value!==e.modelValue){if(e.animated===!0){const z=Ye(ot(p)),j=Ye(ot(k));m.value=z>=j?"next":"prev"}l("update:model-value",p)}}),ve(M,p=>{p&&(te.value=qt(p))}),ve(te,p=>{ie.value[M.value]?ie.value[M.value].focus():Pe()}),jn(()=>{ie.value={}}),wn(()=>{gt()});function Te(){D.value=Nt()}function $e(p=1){vt(p)}function Fe(p=1){vt(-p)}function wt({width:p,height:k}){be.width=p,be.height=k}function yt(p){return p.date===D.value}function st(p,k,z){const j=i.day,y=e.dayStyle||We,I=e.noActiveDate!==!0&&Oe.value.date===p.date,B={timestamp:p,task:k,taskIndex:z,activeDate:I},Q=Le(C.value),oe={width:Q,minWidth:Q,maxWidth:Q,...y({scope:B})},ne=typeof e.dayClass=="function"?e.dayClass({scope:B}):{};return S("div",{tabindex:ke.value===!0?0:-1,class:{"q-calendar-task__task--day":!0,...ne,...De(p),"q-active-date":I===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ke.value===!0},style:oe,onFocus:Ae=>{ke.value},...at("-day",Ae=>({scope:B,event:Ae})),onDragenter:Ae=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Ae,"day",B)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:Ae=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Ae,"day",B)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:Ae=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Ae,"day",B)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:Ae=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Ae,"day",B)===!0?dragOverResource.value=dragValue:dragOverResource.value="")}},[j&&j({scope:B}),Bt()])}function _t(p,k){return _e.value.map(z=>st(z,p,k))}function P(p,k){const z=i.days,j={timestamps:_e.value,days:_e.value,task:p,taskIndex:k,cellWidth:C.value};return S("div",{class:"q-calendar-task__task--days-row"},[_t(p,k),z&&z({scope:j})])}function ce(p,k,z=0,j=!0){const y=i.task,I={start:Je.value,end:tt.value,task:p,taskIndex:k,expanded:j},B=Le(e.taskWidth),Q={width:B,minWidth:B,maxWidth:B},oe=e.focusable===!0&&e.focusType.includes("task");return S("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":Ce.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":oe===!0},style:Q},[S("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*z+"px"}},[S("div",{class:{"q-calendar__parent":p.children!==void 0,"q-calendar__parent--expanded":p.children!==void 0&&p.expanded===!0,"q-calendar__parent--collapsed":p.children!==void 0&&p.expanded!==!0},onClick:ne=>{ne.stopPropagation(),p.expanded=!p.expanded,l("task-expanded",{expanded:p.expanded,scope:I})}})]),y&&y({scope:I}),Bt()])}function Be(p,k,z=0,j=!0){const y=p.height!==void 0?Le(parseInt(p.height,10)):Re.value>0?Le(Re.value):"auto",I=Ne.value>0?Le(Ne.value):void 0,B={height:y};I!==void 0&&(B.minHeight=I);const Q=S("div",{key:p[e.taskKey]+"-"+k,class:{"q-calendar-task__task":z===0,"q-calendar-task__task--section":z!==0},style:B},[ce(p,k,z,j),P(p,k)]);return p.children!==void 0?[Q,S("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":j===!0,"q-calendar__child--collapsed":j!==!0}},[qe(p.children,z+1,j===!1?j:p.expanded)])]:[Q]}function qe(p=void 0,k=0,z=!0){return p===void 0&&(p=e.modelTasks),p.map((j,y)=>Be(j,y,k,j.children!==void 0?j.expanded:z))}function nt(){return S("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":Ce.value===!0}},[qe()])}function ze(p,k){const z=i["footer-task"],j={start:Je.value,end:tt.value,footer:p,index:k},y=Le(e.taskWidth),I={width:y,minWidth:y,maxWidth:y};return S("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":Ce.value===!0},style:I},[z&&z({scope:j})])}function ge(p,k,z){const j=i["footer-day"],y={timestamp:p,footer:k,index:z},I=Le(C.value),B={width:I,minWidth:I,maxWidth:I},Q=typeof e.footerDayClass=="function"?e.footerDayClass({scope:y}):{};return S("div",{class:{"q-calendar-task__footer--day":!0,...Q,...De(p),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ke.value===!0},style:B},[j&&j({scope:y})])}function ct(p,k){return S("div",{class:"q-calendar-task__footer--day-wrapper"},[_e.value.map(z=>ge(z,p,k))])}function mt(){const p=e.focusable===!0&&e.focusType.includes("task");return e.modelFooter.map((k,z)=>S("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":p===!0}},{default:()=>[ze(k,z),ct(k,z)]}))}function kt(){return S("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":Ce.value===!0}},mt())}function At(){return S("div",{class:{"q-calendar-task__container":!0}},[e.noHeader!==!0&&E(),nt(),kt()])}function zt(){const p=i["head-tasks"],k={start:Je.value,end:tt.value},z=Le(parseInt(e.taskWidth,10)),j={width:z,minWidth:z,maxWidth:z};return S("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":Ce.value===!0},style:j},[p&&p({scope:k})])}function xt(p,k){const z=i["title-task"],j=Le(parseInt(e.taskWidth,10)),y={width:j,minWidth:j,maxWidth:j},I={start:Je.value,end:tt.value,cellWidth:j,title:p,index:k};return S("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":Ce.value===!0},style:y},[z&&z({scope:I})])}function pt(p){const k=i["head-weekday-label"],j={activeDate:e.noActiveDate!==!0&&yt(p),timestamp:p,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(p.weekday):!1},y={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return S("div",y,k&&k({scope:j})||ft(p,e.shortWeekdayLabel))}function ft(p,k){const z=ae.value(p,k||e.weekdayBreakpoints[0]>0&&C.value<=e.weekdayBreakpoints[0]);return S("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&C.value<=e.weekdayBreakpoints[1]?wa(z,e.minWeekdayLabel):z)}function Et(p){const k={class:{"q-calendar-task__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return S("div",k,Mt(p))}function Mt(p){const k=e.noActiveDate!==!0&&yt(p),z=A.value(p,!1),j=i["head-day-label"],y=i["head-day-button"],I={dayLabel:z,timestamp:p,activeDate:k},Q={key:p.date,tabindex:de.value===!0?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":p.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":de.value===!0},disabled:p.disabled,onKeydown:oe=>{p.disabled!==!0&&Ue(oe,[13,32])&&(oe.stopPropagation(),oe.preventDefault())},onKeyup:oe=>{p.disabled!==!0&&Ue(oe,[13,32])&&(D.value=p.date,ee.value.onClickDate!==void 0&&l("click-date",{scope:I}))},...at("-date",(oe,ne)=>((ne==="click-date"||ne==="contextmenu-date")&&(D.value=p.date,ne==="click-date"&&oe.preventDefault()),{scope:I,event:oe}))};return e.noAria!==!0&&(Q.ariaLabel=F.value(p)),y?y({scope:I}):ka(e,Q,j?j({scope:I}):z)}function Z(p){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&pt(p),e.noDefaultHeaderBtn!==!0&&Et(p)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&pt(p),e.noDefaultHeaderBtn!==!0&&Et(p)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&pt(p),e.noDefaultHeaderBtn!==!0&&Et(p)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&pt(p),e.noDefaultHeaderBtn!==!0&&Et(p)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Et(p),e.noDefaultHeaderText!==!0&&pt(p)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Et(p),e.noDefaultHeaderText!==!0&&pt(p)]):S("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Et(p),e.noDefaultHeaderText!==!0&&pt(p)])}function Me(p,k,z){const j=i["title-day"],y=Le(C.value),I={width:y,minWidth:y,maxWidth:y},B={timestamp:p,title:k,index:z,cellWidth:C.value},Q=typeof e.dayClass=="function"?e.dayClass({scope:B}):{},oe=e.focusable===!0&&e.focusType.includes("day");return S("div",{class:{"q-calendar-task__title--day":!0,...Q,...De(p),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":oe===!0},style:I},[j&&j({scope:B}),Bt()])}function je(p){const k=i["head-day"],z=i["head-date"],j=e.noActiveDate!==!0&&yt(p),y={timestamp:p,activeDate:j,droppable:he.value=p.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(p.weekday):!1},I=e.weekdayStyle||We,B=typeof e.weekdayClass=="function"?e.weekdayClass({scope:y}):{},Q=Le(C.value),oe={width:Q,minWidth:Q,maxWidth:Q,...I({scope:y})},ne=p.date,Ae={key:ne,ref:Y=>{ie.value[ne]=Y},tabindex:Ee.value===!0?0:-1,class:{"q-calendar-task__head--day":!0,...B,...De(p),"q-active-date":j,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ee.value===!0},style:oe,onFocus:Y=>{Ee.value===!0&&(M.value=ne)},onKeydown:Y=>{p.disabled!==!0&&Ue(Y,[13,32])&&(Y.stopPropagation(),Y.preventDefault())},onKeyup:Y=>{p.disabled!==!0&&Ue(Y,[13,32])&&(D.value=p.date)},...at("-head-day",Y=>({scope:y,event:Y})),onDragenter:Y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Y,"head-day",y)===!0?he.value=p.date:he.value="")},onDragover:Y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Y,"head-day",y)===!0?he.value=p.date:he.value="")},onDragleave:Y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Y,"head-day",y)===!0?he.value=p.date:he.value="")},onDrop:Y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Y,"head-day",y)===!0?he.value=p.date:he.value="")}};return S("div",Ae,[k!==void 0&&k({scope:y}),k===void 0&&Z(p),k===void 0&&z&&z({scope:y}),Bt()])}function Ge(){return _e.value.map(p=>je(p))}function rt(p,k){return _e.value.map(z=>Me(z,p,k))}function et(){return S("div",{class:{"q-calendar-task__head--days":!0}},[...Ge()])}function Dt(p,k){return S("div",{class:{"q-calendar-task__title--days":!0}},[...rt(p,k)])}function E(){return S("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":Ce.value===!0},style:{}},[S("div",{style:{position:"relative",display:"flex"}},[zt(),et()]),e.modelTitle.map((p,k)=>S("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[xt(p,k),Dt(p,k)]))])}function G(){return S("div",{class:"q-calendar-task__body"},[_()])}function _(){return S("div",{ref:d,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[At()])}function W(){const{start:p,end:k}=pe.value;h.value=p.date,H.value=k.date;const z=be.width>0,j=_n(S("div",{key:h.value,class:"q-calendar-task"},[z===!0&&G()]),[[nn,wt]]);if(e.animated===!0){const y="q-calendar--"+(m.value==="prev"?e.transitionPrev:e.transitionNext);return S(Xn,{name:y,appear:!0},()=>j)}return j}return s({prev:Fe,next:$e,move:vt,moveToToday:Te,updateCurrent:O}),()=>Ze()}});vn({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...Un,...go,...Fn,...xa,...zn,...Tr,...co,...fo,..._a,...mo},setup(e,{attrs:i,slots:l,expose:s}){const d=L(null),b=J(()=>{switch(e.mode){case"agenda":return hu;case"resource":return gu;case"scheduler":return yu;case"month":return yo;case"day":return Ii;case"task":return pu;case"day":default:return Ii}});function m(){d.value.moveToToday()}function h(V=-1){d.value.move(V)}function H(V=1){d.value.next(V)}function X(V=1){d.value.prev(V)}function D(){d.value.updateCurrent()}function M(V,ee=!0){return d.value.timeStartPos(V,ee)}function te(V,ee=!0){return d.value.timeStartPosX(V,ee)}function ie(V){return d.value.timeDurationWidth(V)}function be(V){return d.value.timeDurationHeight(V)}function he(V){return d.value.heightToMinutes(V)}function N(V){return d.value.widthToMinutes(V)}function re(V){return d.value.scrollToTime(V)}function R(V){return d.value.scrollToTimeX(V)}return s({prev:X,next:H,move:h,moveToToday:m,updateCurrent:D,timeStartPos:M,timeStartPosX:te,timeDurationWidth:ie,timeDurationHeight:be,heightToMinutes:he,widthToMinutes:N,scrollToTime:re,scrollToTimeX:R}),()=>S(b.value,{ref:d,...e,...i},l)}});const bu={components:{GridLayout:Rs,GridItem:mr,QCalendarMonth:yo},data(){return{months:{1:"\u042F\u043D\u0432\u0430\u0440\u044C",2:"\u0424\u0435\u0432\u0440\u0430\u043B\u044C",3:"\u041C\u0430\u0440\u0442",4:"\u0410\u043F\u0440\u0435\u043B\u044C",5:"\u041C\u0430\u0439",6:"\u0418\u044E\u043D\u044C",7:"\u0418\u044E\u043B\u044C",8:"\u0410\u0432\u0433\u0443\u0441\u0442",9:"\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C",10:"\u041E\u043A\u0442\u044F\u0431\u0440\u044C",11:"\u041D\u043E\u044F\u0431\u0440\u044C",12:"\u0414\u0435\u043A\u0430\u0431\u0440\u044C"},efficiency:{options:{chart:{type:"bar",background:"rgb(21 25 38)",events:{mounted:e=>{e.windowResizeHandler()}}},theme:{mode:"dark",palette:"palette2"},series:[{data:[{x:"\u041A\u043E\u044D\u0444\u0444\u0438\u0446\u0438\u0435\u043D\u0442 \u0428\u0430\u0440\u043F\u0430",y:0},{x:"\u0410\u043B\u044C\u0444\u0430",y:0},{x:"\u0411\u0435\u0442\u0430",y:0}]}]},volatility:0},profitsCalendar:{},widthStore:Tl(),width:J(()=>this.widthStore.$state.width),boards:[{name:"+ \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u0443\u044E"}],newBoardName:"",selectedBoard:{widgets:[]},showWidgetDialog:!1,dayPeriod:7,layout:[{x:0,y:0,w:4,h:13,i:"0",static:!1,minH:10,minW:3,maxH:13,maxW:6,templateId:"piePortfolioWeight",title:"\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u0435 \u0430\u043A\u0442\u0438\u0432\u043E\u0432",descr:"\u041F\u0440\u0438\u043C\u0435\u0440 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D \u043D\u0438\u0436\u0435"},{x:2,y:0,w:4,h:13,i:"1",static:!1,minH:12,minW:3,maxH:13,maxW:6,templateId:"pieCategoryWeight",title:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 \u0430\u043A\u0442\u0438\u0432\u043E\u0432",descr:"\u041F\u0440\u0438\u043C\u0435\u0440 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D \u043D\u0438\u0436\u0435"},{x:0,y:2,w:6,h:13,i:"2",static:!1,minH:13,minW:5,maxH:16,maxW:6,templateId:"returnsByPeriod",title:"\u0414\u043E\u0445\u043E\u0434 \u0437\u0430 \u043F\u0435\u0440\u0438\u043E\u0434",descr:"\u041F\u0440\u0438\u043C\u0435\u0440 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D \u043D\u0438\u0436\u0435"},{x:2,y:2,w:4,h:13,i:"3",static:!1,minH:12,minW:3,maxH:13,maxW:6,templateId:"markData",title:"\u041E\u0446\u0435\u043D\u043E\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",descr:"\u0412 \u043D\u0438\u0445 \u0432\u0445\u043E\u0434\u044F\u0442: \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u043F\u0440\u0438\u0431\u044B\u043B\u044C \u043D\u0430 \u0441\u0434\u0435\u043B\u043A\u0443; \u0432\u0438\u043D\u0440\u0435\u0439\u0442; \u043E\u0431\u0449\u0438\u0439 \u0440\u043E\u0441\u0442 \u043A\u0430\u043F\u0438\u0442\u0430\u043B\u0430 \u0437\u0430 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043F\u0435\u0440\u0438\u043E\u0434"},{x:2,y:3,w:6,h:15,i:"4",static:!1,minH:14,minW:4,maxH:17,maxW:8,templateId:"efficiency",title:"\u041F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u044F",descr:"\u041F\u0440\u0438\u043C\u0435\u0440 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D \u043D\u0438\u0436\u0435"},{x:0,y:3,w:4,h:12,i:"5",static:!1,minH:10,minW:3,maxH:17,maxW:8,templateId:"var",title:"Value at Risk",descr:"\u0412\u044B\u0447\u0438\u0441\u043B\u044F\u0435\u043C\u044B\u0439 VaR \u043F\u0440\u0438 \u0437\u0430\u0434\u0430\u043D\u043D\u043E\u043C \u0434\u043E\u0432\u0435\u0440\u0438\u0438"},{x:0,y:4,w:4,h:12,i:"6",static:!1,minH:10,minW:3,maxH:17,maxW:8,templateId:"profitsCalendar",title:"\u0414\u043E\u0445\u043E\u0434 \u043F\u043E \u0434\u043D\u044F\u043C",descr:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},{x:2,y:4,w:4,h:12,i:"7",static:!1,minH:10,minW:3,maxH:17,maxW:8,templateId:"profitFactor",title:"\u041F\u0440\u043E\u0444\u0438\u0442 \u0444\u0430\u043A\u0442\u043E\u0440",descr:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},{x:2,y:5,w:4,h:12,i:"8",static:!1,minH:10,minW:3,maxH:17,maxW:8,templateId:"dealsCount",title:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0441\u0434\u0435\u043B\u043E\u043A",descr:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},{x:2,y:5,w:4,h:12,i:"9",static:!1,minH:10,minW:3,maxH:17,maxW:8,templateId:"avgDealProfit",title:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u0440\u043E\u0444\u0438\u0442 \u0437\u0430 \u0441\u0434\u0435\u043B\u043A\u0443",descr:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},{x:0,y:6,w:4,h:12,i:"10",static:!1,minH:10,minW:3,maxH:17,maxW:8,templateId:"stdMeanLoss",title:"\u041E\u0442\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435 \u043E\u043D \u0441\u0440\u0435\u0434\u043D\u0435\u0433\u043E \u0443\u0431\u044B\u0442\u043A\u0430",descr:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"}],widgetsFuncsEnum:{stdMeanLoss:this.getStdMeanLoss,avgDealProfit:this.getDealAvgProfit,dealsCount:this.getDealsCount,profitFactor:this.getProfitFactor,profitsCalendar:this.getProfitCalendar,var:this.getVar,efficiency:this.calcEfficiency,markData:this.gatherMarkData,returnsByPeriod:this.getReturnsPeriod(7),pieCategoryWeight:this.getCategoriesWeights(),piePortfolioWeight:this.getPortfolioWeights()},var_trust:.95,var_value:0,var_loading:!1,draggable:!0,resizable:!0,index:0,portfolioWeights:{pieSeries:[],pieOptions:{chart:{background:"#31384d",height:"90%",width:"90%",type:"pie",fontFamily:"sans-serif",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},labels:[],tooltip:{enabled:!0,y:{formatter:e=>e+"$"}},theme:{mode:"dark",palette:"palette2"},title:{text:"\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u0435 \u0430\u043A\u0442\u0438\u0432\u043E\u0432"}}},categoriesWeights:{pieSeries:[],pieOptions:{chart:{animations:{height:"90%",width:"90%",enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#31384d",type:"pie",fontFamily:"sans-serif"},labels:[],tooltip:{enabled:!0,y:{formatter:e=>e+"$"}},theme:{mode:"dark",palette:"palette2"},title:{text:"\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u0435 \u0430\u043A\u0442\u0438\u0432\u043E\u0432 \u043F\u043E \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F\u043C"}}},returnsByPeriod:{series1:[{name:"\u041F\u0440\u0438\u0431\u044B\u043B\u044C: ",data:[]}],chartOptions1:{chart:{height:"80%",width:"100%",type:"area",background:"#31384d",fontFamily:"sans-serif",zoom:{enabled:!1},events:{mounted:e=>{e.windowResizeHandler()}}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"\u041F\u0440\u0438\u0431\u044B\u043B\u044C \u0437\u0430 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u043F\u0435\u0440\u0438\u043E\u0434",align:"left"},subtitle:{text:"",align:"left"},theme:{mode:"dark",palette:"palette2",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,hideEmptySeries:!0,fillSeriesColor:!0,theme:!1,style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,formatter:void 0},y:{formatter:void 0,title:{formatter:(e,{seriesName:i})=>e+"USDT"}}},xaxis:{categories:[],type:"datetime",title:{text:"\u0414\u0430\u0442\u0430"}},yaxis:{opposite:!0,title:{text:"\u0414\u043E\u0445\u043E\u0434"}},legend:{horizontalAlign:"left"}}},avgReturns:0,winrate:0,fromChange:null,toChange:null,changeByPeriod:0,selectedCalendarDate:Nt(),showCreateBoardDialog:!1,examples:{efficiency:{options:{chart:{type:"bar",background:"rgb(21 25 38)"},theme:{mode:"dark",palette:"palette2"},tooltip:{enabled:!1,x:{show:!0,formatter:void 0},y:{formatter:void 0,title:{formatter:(e,{seriesName:i})=>e+"$"}}},series:[{data:[{x:"\u041A\u0444 \u0428\u0430\u0440\u043F\u0430",y:1.2},{x:"\u0410\u043B\u044C\u0444\u0430",y:.35},{x:"\u0411\u0435\u0442\u0430",y:.7}]}]},volatility:13500},series1:[{name:"\u041F\u0440\u0438\u0431\u044B\u043B\u044C: ",data:[10,-20,40]}],chartOptions1:{chart:{type:"area",background:"rgb(21 25 38)",fontFamily:"sans-serif",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},theme:{mode:"dark",palette:"palette2",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,hideEmptySeries:!0,fillSeriesColor:!0,theme:!1,style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,formatter:void 0},y:{formatter:void 0,title:{formatter:(e,{seriesName:i})=>e+"$"}}},xaxis:{categories:["Jan","Feb","Mar"]},yaxis:{stepSize:10},legend:{horizontalAlign:"left"}},portfolioWeights:{pieSeries:[300,200,150,875],pieOptions:{chart:{background:"#31384d",height:"90%",width:"90%",type:"pie",fontFamily:"sans-serif",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},labels:["BTC-USDT","ETH-USDT","XRP-USDT","DOGE-USDT"],tooltip:{enabled:!0,y:{formatter:e=>e+"$"}},theme:{mode:"dark",palette:"palette2"}}},categoriesWeights:{pieSeries:[1300,600],pieOptions:{chart:{animations:{height:"90%",width:"90%",enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#31384d",type:"pie",fontFamily:"sans-serif"},labels:["coin","token"],tooltip:{enabled:!0,y:{formatter:e=>e+"$"}},theme:{mode:"dark",palette:"palette2"}}}},profitFactor:{series:[{name:"\u041F\u0440\u043E\u0444\u0438\u0442 \u0444\u0430\u043A\u0442\u043E\u0440",data:[]}],chartOptions:{chart:{height:"80%",width:"100%",type:"area",background:"#31384d",fontFamily:"sans-serif",zoom:{enabled:!0},events:{mounted:e=>{e.windowResizeHandler()}}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"\u041F\u0440\u043E\u0444\u0438\u0442 \u0444\u0430\u043A\u0442\u043E\u0440",align:"left"},subtitle:{text:"",align:"left"},theme:{mode:"dark",palette:"palette2",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,hideEmptySeries:!0,fillSeriesColor:!0,theme:!1,style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,formatter:void 0},y:{formatter:void 0}},xaxis:{categories:[],type:"datetime",title:{text:"\u0414\u0430\u0442\u0430"}},yaxis:{opposite:!0,title:{text:""}},legend:{horizontalAlign:"left"}}},dealsCount:{series:[{name:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0441\u0434\u0435\u043B\u043E\u043A",data:[]}],chartOptions:{chart:{height:"80%",width:"100%",type:"area",background:"#31384d",fontFamily:"sans-serif",zoom:{enabled:!0}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"\u041A\u043E\u043B-\u0432\u043E \u0441\u0434\u0435\u043B\u043E\u043A",align:"left"},subtitle:{text:"",align:"left"},theme:{mode:"dark",palette:"palette2",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,hideEmptySeries:!0,fillSeriesColor:!0,theme:!1,style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,formatter:void 0},y:{formatter:void 0}},xaxis:{categories:[],type:"datetime",title:{text:"\u0414\u0430\u0442\u0430"}},yaxis:{opposite:!0,title:{text:""}},legend:{horizontalAlign:"left"}}},avgDealReturns:{series:[{name:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439 \u0434\u043E\u0445\u043E\u0434 \u0437\u0430 \u0441\u0434\u0435\u043B\u043A\u0443",data:[]}],chartOptions:{chart:{height:"80%",width:"100%",type:"area",background:"#31384d",fontFamily:"sans-serif",zoom:{enabled:!0}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u043F\u0440\u0438\u0431\u044B\u043B\u044C \u0437\u0430 \u0441\u0434\u0435\u043B\u043A\u0443",align:"left"},subtitle:{text:"",align:"left"},theme:{mode:"dark",palette:"palette2",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,hideEmptySeries:!0,fillSeriesColor:!0,theme:!1,style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,formatter:void 0},y:{formatter:void 0}},xaxis:{categories:[],type:"datetime",title:{text:"\u0414\u0430\u0442\u0430"}},yaxis:{opposite:!0,title:{text:""}},legend:{horizontalAlign:"left"}}},stdMeanLoss:{series:[{name:"\u041E\u0442\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435 \u043E\u0442 \u0441\u0440\u0435\u0434\u043D\u0438\u0445 \u0443\u0431\u044B\u0442\u043A\u043E\u0432",data:[]}],chartOptions:{chart:{type:"area",background:"#31384d",fontFamily:"sans-serif",zoom:{enabled:!0},events:{mounted:e=>{e.windowResizeHandler()}}},dataLabels:{enabled:!0,formatter:(e,{seriesName:i})=>e+"%"},stroke:{curve:"smooth"},title:{text:"\u041E\u0442\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435 \u043E\u0442 \u0441\u0440\u0435\u0434\u043D\u0438\u0445 \u0443\u0431\u044B\u0442\u043A\u043E\u0432",align:"left"},subtitle:{text:"",align:"left"},theme:{mode:"dark",palette:"palette2",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,hideEmptySeries:!0,fillSeriesColor:!0,theme:!1,style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,formatter:void 0,title:{formatter:(e,{seriesName:i})=>e+"%"}},y:{formatter:(e,{seriesName:i})=>e+"%"}},xaxis:{categories:[],type:"datetime",title:{text:"\u0414\u0430\u0442\u0430"}},yaxis:{opposite:!0,title:{text:""}},legend:{horizontalAlign:"left"}}}}},methods:{calendarNext(){this.$refs.calendar[0].next()},calendarPrev(){this.$refs.calendar[0].prev()},saveChanges(){fa.updateBoard(this.selectedBoard.id,this.selectedBoard).then(e=>{this.selectedBoard=e.data,fa.getBoards().then(i=>{this.boards=i.data,this.boards.push({name:"+ \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439"}),this.$q.notify({color:"positive",message:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E"})})})},createBoard(){fa.addBoard({name:this.newBoardName,widgets:[]}).then(e=>{fa.getBoards().then(i=>{this.boards=i.data,this.boards.push({name:"+ \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439"}),this.selectedBoard=e.data})})},checkBoard(e){console.log(123),e.id?(this.selectedBoard=e,this.selectedBoard.widgets.forEach(async i=>{try{await this.widgetsFuncsEnum[i.templateId]()}catch{}})):this.showCreateBoardDialog=!0},async getProfitFactor(){await Kt.getProfitFactor().then(e=>{let i=[];Object.entries(e.data).forEach(l=>{i.push(new Date(l[0]).getTime()+864e5),this.profitFactor.series[0].data.push(Math.round(l[1]*10)/10)}),this.profitFactor.chartOptions={...this.profitFactor.chartOptions,xaxis:{type:"datetime",categories:i}}})},async getSharpe(){await Kt.getSharpe().then(e=>{this.efficiency.options.series[0].data[0].y=Math.round(e.data.sharpe*1e3)/1e3})},async getAlphaBeta(){await Kt.getAlphaBeta().then(e=>{console.log(e.data),this.efficiency.options.series[0].data[1].y=Math.round(e.data.alpha*1e3)/1e3,this.efficiency.options.series[0].data[2].y=Math.round(e.data.beta*1e3)/1e3})},async getVolatiltiy(){await Kt.getVolatility().then(e=>{this.efficiency.volatility=Math.round(e.data.volatility*1e3)/1e3})},async calcEfficiency(){await this.getAlphaBeta(),await this.getVolatiltiy(),await this.getSharpe},async getProfitCalendar(){await Kt.getReturnsDays(365,"D").then(e=>{this.profitsCalendar=e.data})},async getDealAvgProfit(){await Kt.avgDealReturns().then(e=>{let i=[];Object.entries(e.data).forEach(l=>{i.push(new Date(l[0]).getTime()+864e5),this.avgDealReturns.series[0].data.push(Math.round(l[1]*1e3)/1e3)}),this.avgDealReturns.chartOptions={...this.avgDealReturns.chartOptions,xaxis:{type:"datetime",categories:i}}})},async getStdMeanLoss(){await Kt.getStdMeanLoss().then(e=>{let i=[];console.log(e.data),Object.entries(e.data).forEach(l=>{i.push(new Date(l[0]).getTime()+864e5),this.stdMeanLoss.series[0].data.push(Math.round(l[1]*100)/100)}),this.stdMeanLoss.chartOptions={...this.stdMeanLoss.chartOptions,xaxis:{type:"datetime",categories:i}}})},async getDealsCount(){await Kt.dealsCount().then(e=>{let i=[];Object.entries(e.data).forEach(l=>{i.push(new Date(l[0]).getTime()+864e5),this.dealsCount.series[0].data.push(l[1])}),this.dealsCount.chartOptions={...this.dealsCount.chartOptions,xaxis:{type:"datetime",categories:i}}})},async getVar(e=this.var_trust){this.var_trust=e,setTimeout(()=>{e===this.var_trust&&(this.var_loading=!0,Kt.getVar(e).then(i=>{this.var_value=i.data.var,this.var_loading=!1}))},500)},removeItem(e){const i=this.selectedBoard.widgets.map(l=>l.i).indexOf(e);this.selectedBoard.widgets.splice(i,1)},async addItem(e,i,l,s,d,b,m,h){let H={x:this.selectedBoard.widgets.length*2%(this.colNum||12),y:this.selectedBoard.widgets.length+(this.colNum||12),w:i,h:l,minW:s,minH:d,maxW:b,maxH:m,static:h,templateId:e,i:Ml()};try{await this.widgetsFuncsEnum[e]()}catch{}this.selectedBoard.widgets.push(H)},async getReturnsPeriod(e){this.dayPeriod=e,console.log(this.returnsByPeriod),this.returnsByPeriod.series1[0].data=[],this.returnsByPeriod.chartOptions1.xaxis.categories=[],await Kt.getReturnsDays(this.dayPeriod).then(i=>{let l=[];Object.entries(i.data).forEach(d=>{console.log(new Date(d[0]));let b=this.dayPeriod===1?new Date(d[0]).getHours().toString()+":00":new Date(d[0]).getTime()+864e5;l.push(b),console.log(d[1]),this.returnsByPeriod.series1[0].data.push(Math.round(d[1]))});let s;this.dayPeriod===1?s="category":s="datetime",console.log(s),this.returnsByPeriod.chartOptions1={...this.returnsByPeriod.chartOptions1,xaxis:{type:s,categories:l}}})},async getChangePeriod(e,i){i=="start"?this.fromChange=e:this.toChange=e;let l,s;this.fromChange?l=new Date(this.fromChange).getTime():l=null,this.toChange?s=new Date(this.toChange).getTime():s=null,await Kt.getChangePeriod(l,s).then(d=>{this.changeByPeriod=d.data.change})},async getAvgReturns(){await Kt.avgReturns().then(e=>{this.avgReturns=e.data.avg_profit_loss}).catch()},async getWinrate(){await Kt.winrate().then(e=>{this.winrate=e.data.winrate*100}).catch()},async gatherMarkData(){await this.getAvgReturns(),await this.getWinrate(),await this.getChangePeriod(this.toChange,"start")},async getPortfolioWeights(){await Kt.portfolioWeights().then(e=>{let i=[],l=[];Object.entries(e.data).forEach(s=>{console.log(s),i.push(s[0]),l.push(Math.round(s[1]*1e3)/1e3)}),this.portfolioWeights.pieSeries=l,this.portfolioWeights.pieOptions={...this.portfolioWeights.pieOptions,labels:i}}).catch()},async getCategoriesWeights(){await Kt.getCategoriesWeights().then(e=>{let i=e.data.weights;console.log(e.data.weights);let l=[],s=[];Object.entries(i).forEach(d=>{console.log(d),l.push(d[0]),s.push(Math.round(d[1]*1e3)/1e3)}),this.categoriesWeights.pieSeries=s,this.categoriesWeights.pieOptions={...this.categoriesWeights.pieOptions,labels:l}}).catch()}},async mounted(){await fa.getBoards().then(async e=>{e.data.forEach(i=>{let l=[];i.widgets.forEach(s=>{let d=s;l.length===0?(d.x=0,d.y=0):(d.x=l.length*2%(this.colNum||(this.width>500?12:1)),d.y=l.length+(this.width>500?12:1)),l.push(d)}),i.widgets=l}),this.boards=e.data,this.boards.push({name:"+ \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u0443\u044E"}),this.selectedBoard=e.data[0],this.selectedBoard.widgets.forEach(async i=>{try{await this.widgetsFuncsEnum[i.templateId]()}catch{}this.$nextTick(()=>{console.log(this.$refs.gridLayout),this.$refs.gridLayout.lastBreakpoint=null,this.$refs.gridLayout.layouts={}})})})}},Mn=e=>(ql("data-v-023f4e36"),e=e(),zl(),e),wu=Mn(()=>Ft("div",null,".",-1)),_u={class:"margin-navbar"},ku={style:{"margin-bottom":"1rem","padding-right":"2.5rem","padding-left":"2.5rem"},class:""},xu=Mn(()=>Ft("h3",{style:{margin:"0"}},"\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430",-1)),Du={class:"q-mt-sm flex align-center",style:{gap:"1rem"}},Su={class:"text-white"},Cu={class:"no-drag",style:{height:"100%",width:"100%"}},Eu={key:0,class:"item-resizable-height no-drag"},Tu={key:0,style:{height:"100%"},class:"column no-drag"},Ou={class:"row justify-center items-center"},Fu={key:1,class:"justify-center align-center flex no-drag",style:{height:"100%"}},qu={key:7,class:"item-resizable-height no-drag",style:{"max-height":"90%"}},zu={class:"flex w-100 justify-between no-drag",style:{"align-items":"center"}},Mu={class:"text-white"},Iu={key:8,class:"item-resizable-height no-drag"},Hu=Mn(()=>Ft("h6",{style:{"margin-top":"0"}},"\u041F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u044F",-1)),Au={class:"q-mt-lg",style:{"font-size":"large"}},Wu={key:9,class:"column align-center no-drag",style:{gap:"1rem"}},Pu=Mn(()=>Ft("div",{class:"q-mt-lg text-center text-h2"},"VaR:",-1)),Ru={key:0,class:"q-mt-lg text-center text-h3"},Bu={key:10,class:"no-drag"},Lu=Mn(()=>Ft("h6",{style:{"margin-top":"0"}},"\u041E\u0446\u0435\u043D\u043E\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",-1)),Nu={class:"q-mt-sm q-pa-sm border-white border-radius-12"},Vu=Mn(()=>Ft("div",null,"\u041E\u0431\u0449\u0438\u0439 \u0440\u043E\u0441\u0442/\u043F\u0430\u0434\u0435\u043D\u0438\u0435 \u043A\u0430\u043F\u0438\u0442\u0430\u043B\u0430 \u0437\u0430 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u043F\u0435\u0440\u0438\u043E\u0434",-1)),ju={class:"flex justify-evenly",style:{gap:"1rem","align-items":"center"}},Xu=Mn(()=>Ft("div",null,"---",-1)),Yu={class:"text-lg text-weight-bold"},Ku={class:"text-caption"};function Uu(e,i,l,s,d,b){const m=za("q-calendar-month"),h=za("apexchart"),H=za("GridItem"),X=za("GridLayout");return dt(),Vt(Ol,{class:"q-pa-lg"},{default:Pt(()=>[wu,Ft("div",_u,[Ft("div",ku,[xu,Ft("div",Du,[ht(Jr,{"onUpdate:modelValue":[i[0]||(i[0]=D=>{b.checkBoard(D)}),i[1]||(i[1]=D=>d.selectedBoard=D)],behavior:"menu","popup-content-class":"bg-secondary-color",outlined:"","label-color":"white","options-selected-class":"text-primary",color:"white","input-class":"text-white bg-secondary-color",class:"text-white",label:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0448\u0431\u043E\u0440\u0434",options:d.boards,modelValue:d.selectedBoard,style:{"min-width":"250px","max-width":"400px"}},{"selected-item":Pt(()=>[Ft("span",Su,$t(d.selectedBoard.name),1)]),option:Pt(D=>[ht(pl,{clickable:"",onClick:M=>b.checkBoard(D.opt),class:Dn(D.selected?" bg-primary ":"  ")},{default:Pt(()=>[rr($t(D.opt.name),1)]),_:2},1032,["onClick","class"])]),_:1},8,["options","modelValue"]),ht(xn,{style:{"font-weight":"700"},class:"hoverable-primary",color:"secondary",icon:"save",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C","text-color":"black",onClick:b.saveChanges},null,8,["onClick"]),ht(xn,{style:{"font-weight":"700"},class:Dn("hoverable-primary"+d.width>500?" q-ml-auto ":"  "),color:"primary",icon:"add",label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u0438\u0434\u0436\u0435\u0442","text-color":"black",onClick:i[2]||(i[2]=D=>d.showWidgetDialog=!0)},null,8,["class"])])]),d.selectedBoard.widgets[0]?(dt(),Vt(X,{key:0,layout:d.selectedBoard.widgets,"row-height":this.width>500?25:30,"col-num":(this.width>500,12),"is-draggable":!0,"is-resizable":!0,responsive:!0,"vertical-compact":!1,"use-css-transforms":!0,ref:"gridLayout"},{default:Pt(()=>[(dt(!0),jt(fr,null,hr(d.selectedBoard.widgets,D=>(dt(),Vt(H,{class:"border-white border-radius-12 q-pa-sm bg-secondary-color",static:!1,x:D.x,y:D.y,w:D.w,h:D.h,i:D.i,"max-h":d.layout.filter(M=>M.templateId===D.templateId)[0].maxH,"max-w":d.layout.filter(M=>M.templateId===D.templateId)[0].maxW,"min-w":d.layout.filter(M=>M.templateId===D.templateId)[0].minW,"min-h":d.layout.filter(M=>M.templateId===D.templateId)[0].minH,"drag-ignore-from":".no-drag"},{default:Pt(()=>[ht(xn,{icon:"cancel",class:"remove w-fit q-mt-auto q-mb-sm",onClick:M=>b.removeItem(D.i),size:"sm"},null,8,["onClick"]),Ft("div",Cu,[D.templateId==="profitsCalendar"?(dt(),jt("div",Eu,[Object.entries(d.profitsCalendar)[0]?(dt(),jt("div",Tu,[Ft("div",Ou,[ht(xn,{flat:"",dense:"",onClick:b.calendarPrev,icon:"arrow_back_ios",round:""},null,8,["onClick"]),rr(" "+$t(d.months[new Date(d.selectedCalendarDate).getMonth()+1])+" "+$t(new Date(d.selectedCalendarDate).getFullYear())+" ",1),ht(xn,{flat:"",dense:"",icon:"arrow_forward_ios",round:"",onClick:b.calendarNext},null,8,["onClick"])]),ht(Fl),ht(m,{ref_for:!0,ref:"calendar","use-navigation":"",modelValue:d.selectedCalendarDate,"onUpdate:modelValue":i[3]||(i[3]=M=>d.selectedCalendarDate=M),view:"month",locale:"ru-Ru",animated:"","no-active-date":"","transition-prev":"slide-right","transition-next":"slide-left",class:"item-resizable-height",style:{flex:"1 1"},dark:""},{day:Pt(M=>[d.profitsCalendar[M.scope.timestamp.date+"T00:00:00"]!==0&&!isNaN(d.profitsCalendar[M.scope.timestamp.date+"T00:00:00"])?(dt(),jt("div",{key:0,style:{height:"100%"},class:Dn((d.profitsCalendar[M.scope.timestamp.date+"T00:00:00"]<0?"bg-negative ":"bg-positive ")+"text-center q-mt-auto")},$t(Math.round(d.profitsCalendar[M.scope.timestamp.date+"T00:00:00"]*100)/100),3)):cn("",!0)]),_:1},8,["modelValue"])])):(dt(),jt("div",Fu,[ht(ri,{size:"lg"})]))])):D.templateId==="profitFactor"?(dt(),Vt(h,{key:1,class:"no-drag",series:d.profitFactor.series,options:d.profitFactor.chartOptions,type:"area",style:{"max-height":"100%","max-width":"100%"},height:"90%"},null,8,["series","options"])):D.templateId==="stdMeanLoss"?(dt(),Vt(h,{key:2,ref_for:!0,ref:"stdMeanLossPlot",class:"no-drag",title:"\u041E\u0442\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435 \u043E\u0442 \u0441\u0440\u0435\u0434\u043D\u0438\u0445 \u0443\u0431\u044B\u0442\u043A\u043E\u0432",series:d.stdMeanLoss.series,options:d.stdMeanLoss.chartOptions,type:"area",height:"90%"},null,8,["series","options"])):D.templateId==="dealsCount"?(dt(),Vt(h,{key:3,class:"no-drag",series:d.dealsCount.series,options:d.dealsCount.chartOptions,type:"area",style:{"max-height":"100%","max-width":"100%"},height:"90%"},null,8,["series","options"])):D.templateId==="avgDealProfit"?(dt(),Vt(h,{key:4,class:"no-drag",series:d.avgDealReturns.series,options:d.avgDealReturns.chartOptions,type:"area",style:{"max-height":"100%","max-width":"100%"},height:"90%"},null,8,["series","options"])):D.templateId==="piePortfolioWeight"?(dt(),Vt(h,{key:5,class:"no-drag",series:d.portfolioWeights.pieSeries,options:d.portfolioWeights.pieOptions,type:"pie",style:{"max-height":"100%","max-width":"100%"},height:"90%"},null,8,["series","options"])):D.templateId==="pieCategoryWeight"?(dt(),Vt(h,{key:6,class:"no-drag",series:d.categoriesWeights.pieSeries,options:d.categoriesWeights.pieOptions,type:"pie",style:{"max-height":"100%","max-width":"100%"},height:"90%"},null,8,["series","options"])):cn("",!0),D.templateId==="returnsByPeriod"?(dt(),jt("div",qu,[Ft("div",zu,[ht(Jr,{behavior:"menu","onUpdate:modelValue":[i[4]||(i[4]=M=>{b.getReturnsPeriod(M)}),i[5]||(i[5]=M=>d.dayPeriod=M)],"popup-content-class":"bg-secondary-color",outlined:"","label-color":"white","options-selected-class":"text-primary",color:"white","input-class":"text-white bg-secondary-color",class:"text-white",label:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0438\u043E\u0434(\u0432 \u0434\u043D\u044F\u0445)",options:[1,7,30,365],modelValue:d.dayPeriod,style:{"min-width":"100%"}},{"selected-item":Pt(M=>[Ft("div",Mu,$t(d.dayPeriod),1)]),_:1},8,["modelValue"])]),ht(h,{series:d.returnsByPeriod.series1,options:d.returnsByPeriod.chartOptions1,type:"area",class:"q-mt-sm no-drag",style:{"object-fit":"contain"},width:"100%",height:"auto"},null,8,["series","options"])])):D.templateId==="efficiency"?(dt(),jt("div",Iu,[Hu,ht(h,{series:d.efficiency.options.series,options:d.efficiency.options,type:"bar",height:"70%",width:"100%"},null,8,["series","options"]),Ft("div",Au,"\u0412\u043E\u043B\u0430\u0442\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u044C: "+$t(Math.round(1e4*d.efficiency.volatility)/1e4),1)])):D.templateId==="var"?(dt(),jt("div",Wu,[ht(Ma,{disable:d.var_loading,style:{width:"100%"},modelValue:d.var_trust,"onUpdate:modelValue":[i[6]||(i[6]=M=>d.var_trust=M),i[7]||(i[7]=M=>{b.getVar(M)})],label:"\u0414\u043E\u0432\u0435\u0440\u0438\u0435",outlined:"","label-color":"white","input-class":"text-white"},null,8,["disable","modelValue"]),Pu,d.var_loading?(dt(),Vt(ri,{key:1,size:"lg"})):(dt(),jt("div",Ru,$t(Math.round(d.var_value*1e3)/1e3)+" USDT ",1))])):D.templateId==="markData"?(dt(),jt("div",Bu,[Lu,Ft("div",null,[rr(" \u0421\u0440\u0435\u0434\u043D\u044F\u044F \u043F\u0440\u0438\u0431\u044B\u043B\u044C/\u0443\u0431\u044B\u0442\u043E\u043A \u043D\u0430 \u0441\u0434\u0435\u043B\u043A\u0443: "),Ft("span",{class:Dn(d.avgReturns>0?"text-positive":"text-negative")},$t(Math.round(d.avgReturns*100)/100),3)]),Ft("div",null," \u041F\u0440\u043E\u0446\u0435\u043D\u0442 \u0432\u044B\u0438\u0433\u0440\u044B\u0448\u043D\u044B\u0445 \u0441\u0434\u0435\u043B\u043E\u043A: "+$t(Math.round(d.winrate*1e4)/1e4)+"% ",1),Ft("div",Nu,[Vu,Ft("div",ju,[ht(Ma,{type:"date",style:{},outlined:"","label-color":"white",clearable:"",label:"\u041E\u0442",modelValue:d.fromChange,"onUpdate:modelValue":[i[8]||(i[8]=M=>d.fromChange=M),i[9]||(i[9]=M=>{b.getChangePeriod(M,"start")})],"input-class":"text-white"},null,8,["modelValue"]),Xu,ht(Ma,{clearable:"",type:"date",label:"\u0414\u043E",style:{},"label-color":"white",modelValue:d.toChange,"onUpdate:modelValue":[i[10]||(i[10]=M=>d.toChange=M),i[11]||(i[11]=M=>{b.getChangePeriod(M,"end")})],"input-class":"text-white"},null,8,["modelValue"])]),Ft("div",{class:Dn("flex justify-between q-mt-sm text-h4 "+(d.changeByPeriod>0?"text-positive":"text-negative")),style:{gap:"1rem","align-items":"center",width:"100%","text-align":"center","margin-top":"1rem"}},$t(Math.round(d.changeByPeriod*100)/100)+" USDT ",3)])])):cn("",!0)])]),_:2},1032,["x","y","w","h","i","max-h","max-w","min-w","min-h"]))),256))]),_:1},8,["layout","row-height","col-num"])):cn("",!0)]),ht(ei,{modelValue:d.showCreateBoardDialog,"onUpdate:modelValue":i[13]||(i[13]=D=>d.showCreateBoardDialog=D)},{default:Pt(()=>[ht(ir,{class:"q-pa-lg bg-secondary-color"},{default:Pt(()=>[ht(Ia,null,{default:Pt(()=>[ht(Ma,{label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",modelValue:d.newBoardName,"onUpdate:modelValue":i[12]||(i[12]=D=>d.newBoardName=D),outlined:"","label-color":"white","input-class":"text-white"},null,8,["modelValue"])]),_:1}),ht(ii,null,{default:Pt(()=>[ht(xn,{class:"hoverable-primary","text-color":"black",color:"primary",label:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",onClick:b.createBoard},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ht(ei,{modelValue:d.showWidgetDialog,"onUpdate:modelValue":i[14]||(i[14]=D=>d.showWidgetDialog=D),style:{"max-width":"95vw","max-height":"95vh"},maximized:""},{default:Pt(()=>[ht(ir,{class:"q-pa-sm bg-secondary-color flex",style:{gap:"1rem",width:"95vw",height:"95vh"}},{default:Pt(()=>[(dt(!0),jt(fr,null,hr(d.layout,D=>(dt(),jt("div",null,[d.selectedBoard.widgets.length===0||!d.selectedBoard.widgets.map(M=>M.templateId).includes(D.templateId)?(dt(),Vt(ir,{key:0,style:_r(d.width>500?"width: 375px; height: 400px;":"width: 99%; height: 350px;"),class:"q-pa-sm border-radius-12 border-white bg-dark"},{default:Pt(()=>[ht(Ia,null,{default:Pt(()=>[Ft("div",Yu,$t(D.title),1)]),_:2},1024),ht(Ia,null,{default:Pt(()=>[Ft("div",Ku,$t(D.descr),1)]),_:2},1024),ht(Ia,null,{default:Pt(()=>[D.templateId==="piePortfolioWeight"?(dt(),Vt(h,{key:0,series:d.examples.portfolioWeights.pieSeries,options:d.examples.portfolioWeights.pieOptions,type:"pie",width:"100%",height:"150px"},null,8,["series","options"])):D.templateId==="pieCategoryWeight"?(dt(),Vt(h,{key:1,series:d.examples.categoriesWeights.pieSeries,options:d.examples.categoriesWeights.pieOptions,type:"pie",width:"100%",height:"150px"},null,8,["series","options"])):cn("",!0),D.templateId==="returnsByPeriod"?(dt(),Vt(h,{key:2,series:d.examples.series1,options:d.examples.chartOptions1,type:"area",class:"q-mt-sm",width:"100%",height:"150px"},null,8,["series","options"])):cn("",!0),D.templateId==="efficiency"?(dt(),Vt(h,{key:3,series:d.examples.efficiency.options.series,options:d.examples.efficiency.options,type:"bar",class:"q-mt-sm",width:"100%",height:"150px"},null,8,["series","options"])):cn("",!0)]),_:2},1024),ht(ii,{class:"absolute-bottom"},{default:Pt(()=>[ht(xn,{"text-color":"black",class:"hoverable-primary",color:"primary",label:"+ \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u0438\u0434\u0436\u0435\u0442",onClick:M=>b.addItem(D.templateId,D.w,D.h,D.minW,D.minH,D.maxW,D.maxH,D.static)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["style"])):cn("",!0)]))),256))]),_:1})]),_:1},8,["modelValue"])]),_:1})}var id=El(bu,[["render",Uu],["__scopeId","data-v-023f4e36"]]);export{id as default};
