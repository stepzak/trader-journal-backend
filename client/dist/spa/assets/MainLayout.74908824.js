import{k as j,l as F,m as C,p as U,r as V,f as p,w as $,b as A,q as N,h as S,g as P,_ as M,d as R,u as K,s as W,v as n,x as h,y as o,z as a,j as G,Q as d,A as z,B as q,C as g,D as J,E as b,F as s,G as Q,T as X,H as Y,I as Z,J as ee,K as te,L as ae}from"./index.9aec81ab.js";import{Q as u,a as L}from"./QItemLabel.bbfb0630.js";import{Q as oe,E as le,a as re,b as ie,c as D,d as se,e as ne,f as ue}from"./EssentialLink.d744feaf.js";import{Q as de}from"./QList.c469f678.js";import{u as ce}from"./auth-store.85af5e80.js";import"./axios.d456351c.js";import{A as me}from"./auth.service.ee870ef1.js";import"./scroll.70772969.js";import"./authHeader.0a3ef66c.js";var fe=j({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:y}){const{proxy:{$q:f}}=P(),r=F(U,C);if(r===C)return console.error("QHeader needs to be child of QLayout"),C;const k=V(parseInt(e.heightHint,10)),c=V(!0),w=p(()=>e.reveal===!0||r.view.value.indexOf("H")!==-1||f.platform.is.ios&&r.isContainer.value===!0),i=p(()=>{if(e.modelValue!==!0)return 0;if(w.value===!0)return c.value===!0?k.value:0;const l=k.value-r.scroll.value.position;return l>0?l:0}),O=p(()=>e.modelValue!==!0||w.value===!0&&c.value!==!0),I=p(()=>e.modelValue===!0&&O.value===!0&&e.reveal===!0),H=p(()=>"q-header q-layout__section--marginal "+(w.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(O.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),x=p(()=>{const l=r.rows.value.top,v={};return l[0]==="l"&&r.left.space===!0&&(v[f.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),l[2]==="r"&&r.right.space===!0&&(v[f.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),v});function m(l,v){r.update("header",l,v)}function _(l,v){l.value!==v&&(l.value=v)}function E({height:l}){_(k,l),m("size",l)}function T(l){I.value===!0&&_(c,!0),y("focusin",l)}$(()=>e.modelValue,l=>{m("space",l),_(c,!0),r.animate()}),$(i,l=>{m("offset",l)}),$(()=>e.reveal,l=>{l===!1&&_(c,e.modelValue)}),$(c,l=>{r.animate(),y("reveal",l)}),$(r.scroll,l=>{e.reveal===!0&&_(c,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const B={};return r.instances.header=B,e.modelValue===!0&&m("size",k.value),m("space",e.modelValue),m("offset",i.value),A(()=>{r.instances.header===B&&(r.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const l=N(t.default,[]);return e.elevated===!0&&l.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(S(oe,{debounce:0,onResize:E})),S("header",{class:H.value,style:x.value,onFocusin:T},l)}}});const ve=[{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",caption:"\u0414\u043E\u043C\u0430\u0448\u043D\u044F\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",icon:"home",link:"/"},{title:"\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430",caption:"\u0410\u043D\u0430\u043B\u0438\u0437 \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u044F",icon:"trending_up",link:"/analytics"},{title:"\u041E\u0442\u0437\u044B\u0432\u044B",caption:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u0441 \u043E\u0442\u0437\u044B\u0432\u0430\u043C\u0438",icon:"chat",link:"/reviews"},{title:"FAQ",caption:"\u0427\u0430\u0441\u0442\u044B\u0435 \u0432\u043E\u043F\u0440\u043E\u0441\u044B \u0438 \u043E\u0442\u0432\u0435\u0442\u044B",icon:"question_answer",link:"/faq"},{title:"\u0411\u043B\u043E\u0433",caption:"\u0411\u043B\u043E\u0433",icon:"rss_feed",link:"/blog"},{title:"\u0422\u043E\u043F",caption:"",icon:"leaderboard",link:"/top"}],pe=R({name:"MainLayout",watch:{$route(e,t){e.path==="/"&&this.$router.push("/home")}},setup(){const e=V(!1),t=K(),y=ce();return{linksList:ve,leftDrawerOpen:e,windowWidth:p(()=>t.$state.width),user:p(()=>y.$state.user),toggleLeftDrawer(){e.value=!e.value},sizeStore:t,authStore:y}},components:{EssentialLink:le},data(){return{outline:!1}},mounted(){localStorage.getItem("access_token")&&me.getUser().then(t=>{this.authStore.setUser(t.data)}).catch(t=>{this.logOut()}),this.$route.path==="/"&&this.$router.push("/home"),this.sizeStore.setWidth(window.innerWidth);let e=this.sizeStore;this.$nextTick(()=>{let t=document.getElementById("pc-navbar").clientHeight;console.log((t+1).toString()+"px"),document.body.style.setProperty("--scroll-margin",(t+2).toString()+"px"),console.log(document.body.style.cssText)}),window.addEventListener("resize",function(y){e.setWidth(window.innerWidth);let f=document.getElementById("pc-navbar").clientHeight;console.log(f),console.log((f+1).toString()+"px"),document.body.style.setProperty("--scroll-margin",(f+2).toString()+"px"),console.log(document.body.style.cssText)})},methods:{logOut(){localStorage.removeItem("access_token"),this.authStore.setUser(null),this.$router.push("/login")}}}),ye={key:0,class:"flex align-center justify-between q-ml-auto reverse",style:{"min-width":"310px"}},he=s("div",{style:{color:"black"}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),ge=s("div",{style:{color:"black"}},"\u0412\u043E\u0439\u0442\u0438",-1),be={key:1,class:"flex align-center justify-between q-ml-auto reverse",style:{"min-width":"350px",gap:"1.2rem"}},ke=s("div",{style:{color:"black"}},"\u0412\u044B\u0439\u0442\u0438",-1),we={key:0,class:"flex align-center justify-between q-ml-auto reverse",style:{"min-width":"310px"}},_e=s("div",{style:{color:"black"}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),$e=s("div",{style:{color:"black"}},"\u0412\u043E\u0439\u0442\u0438",-1),ze={key:1,style:{"min-width":"310px"},class:"flex align-center justify-between q-ml-auto reverse"},qe=s("div",{style:{color:"black"}},"\u0412\u044B\u0439\u0442\u0438",-1),Ce=s("div",{style:{"background-color":"#1c2236",padding:"5rem 2rem 5rem 2rem","scroll-snap-align":"end","min-height":"50vh"}},[s("div",{class:"flex",style:{gap:"1rem"}},[s("div",{class:"text-h6",style:{color:"white"}},"\u041C\u0415\u041D\u042E")]),s("div",{style:{"font-size":"small",color:"silver","text-align":"center","margin-top":"3rem"}},"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F, \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u0430\u044F \u043D\u0430 \u044D\u0442\u043E\u043C \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0435, \u043F\u0440\u0435\u0434\u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0430 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0445 \u0438 \u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u0446\u0435\u043B\u0435\u0439. \u0412\u0435\u0431-\u0441\u0430\u0439\u0442 \u043D\u0435 \u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043B\u0438 \u043D\u0435 \u043E\u043F\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u0430\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439 \u0438 \u043D\u0435 \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u0442 \u0438\u043D\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u043E\u043D\u043D\u044B\u0435, \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0435, \u043F\u0440\u0430\u0432\u043E\u0432\u044B\u0435, \u043D\u0430\u043B\u043E\u0433\u043E\u0432\u044B\u0435 \u0438\u043B\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u043E\u0432\u0435\u0442\u044B. \u041B\u044E\u0431\u043E\u0439 \u0430\u043D\u0430\u043B\u0438\u0437 \u0438\u043B\u0438 \u0432\u0438\u0437\u0443\u0430\u043B\u044C\u043D\u043E\u0435 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445 \u043F\u0440\u0435\u0434\u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u043E \u0434\u043B\u044F \u043E\u0431\u0449\u0435\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438 \u0438 \u043D\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043B\u0443\u0436\u0438\u0442\u044C \u043E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435\u043C \u0434\u043B\u044F \u043F\u0440\u0438\u043D\u044F\u0442\u0438\u044F \u0438\u043D\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u043E\u043D\u043D\u044B\u0445 \u0440\u0435\u0448\u0435\u043D\u0438\u0439. \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u0434\u043E\u043B\u0436\u043D\u044B \u043F\u0440\u043E\u0432\u043E\u0434\u0438\u0442\u044C \u0441\u0432\u043E\u0438 \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435 \u0438\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u044F \u0438 \u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u044C \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u044F.")],-1),Se={class:"flex justify-center"},Qe={key:0,class:"flex align-center",style:{gap:"1rem"}},Le=s("div",{style:{color:"black"}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),Ve={key:1,class:"flex align-center",style:{gap:"1rem"}},Oe=s("div",{style:{color:"black"}},"\u0412\u044B\u0439\u0442\u0438",-1);function Be(e,t,y,f,r,k){const c=W("EssentialLink"),w=W("router-view");return n(),h(re,{view:"hHh lpR lff",style:{background:"var(--background-main)"}},{default:o(()=>[a(X,{appear:"","enter-active-class":"animated bounceInDown slower","leave-active-class":"animated bounceOutUp",duration:3e3},{default:o(()=>[G(a(fe,{id:"pc-navbar",elevated:"",style:{"backdrop-filter":"blur(5px)","-webkit-backdrop-filter":"blur(5px)",position:"absolute",background:"transparent","border-bottom":"0 solid gray","z-index":"1000"},key:"test"},{default:o(()=>[a(ie,{id:"pc-navbar-top",style:{"font-size":"large","padding-right":"2rem","z-index":"5000"},key:"toolbar"},{default:o(()=>[e.windowWidth<=1400?(n(),h(d,{key:0,flat:"",dense:"",round:"",icon:(e.leftDrawerOpen,"menu"),"aria-label":"Menu",onClick:e.toggleLeftDrawer,id:"drawer-mobile",class:"q-ml-auto",size:"lg"},null,8,["icon","onClick"])):z("",!0),e.windowWidth>1400?(n(),h(D,{style:{width:"fit-content","align-items":"center"},class:"flex",key:"1"},{default:o(()=>[a(u,{clickable:"",onClick:t[0]||(t[0]=i=>e.$router.push("/home")),style:{"margin-right":"10%"},key:"2"},{default:o(()=>[a(q,{name:"home",size:"xx-large",key:"3"})]),_:1}),a(u,{style:{padding:"1.7rem"},to:"/home","active-class":"border-bottom-active",key:"4",class:"q-ml-auto"},{default:o(()=>[g(" \u0413\u043B\u0430\u0432\u043D\u0430\u044F ")]),_:1}),a(u,{style:{padding:"1.7rem"},to:"/analytics","active-class":"border-bottom-active",key:"4"},{default:o(()=>[g(" \u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430 ")]),_:1}),a(u,{style:{padding:"1.7rem"},to:"/reviews","active-class":"border-bottom-active",key:"4"},{default:o(()=>[g(" \u041E\u0442\u0437\u044B\u0432\u044B ")]),_:1}),a(u,{style:{padding:"1.7rem"},to:"/faq","active-class":"border-bottom-active",key:"4"},{default:o(()=>[g(" FAQ ")]),_:1}),a(u,{style:{padding:"1.7rem"},to:"/blog","active-class":"border-bottom-active",key:"4"},{default:o(()=>[g(" \u0411\u043B\u043E\u0433 ")]),_:1}),a(u,{style:{padding:"1.7rem","margin-right":"2rem"},to:"/top","active-class":"border-bottom-active",key:"4"},{default:o(()=>[g(" \u0422\u043E\u043F ")]),_:1}),a(J,{style:{"margin-right":"2rem"}}),e.user?(n(),b("div",be,[a(u,{onClick:t[3]||(t[3]=i=>e.$router.push("/profile")),clickable:"",class:"align-center q-ml-auto"},{default:o(()=>[a(L,{avatar:"",style:{"padding-right":"0","min-width":"30px"}},{default:o(()=>[a(q,{name:"person"})]),_:1}),s("div",null,Q(e.user.username),1)]),_:1}),a(d,{color:"primary",size:"large",class:"hoverable-primary",id:"321",onClick:e.logOut},{default:o(()=>[ke]),_:1},8,["onClick"])])):(n(),b("div",ye,[a(d,{color:"primary",size:"large",class:"q-ml-auto hoverable-primary",id:"321",onClick:t[1]||(t[1]=i=>e.$router.push("/register"))},{default:o(()=>[he]),_:1}),a(d,{color:"primary",size:"large",class:"q-ml-auto hoverable-primary",id:"321",onClick:t[2]||(t[2]=i=>e.$router.push("/login"))},{default:o(()=>[ge]),_:1})]))]),_:1})):(n(),h(D,{key:2,class:"flex q-pa-sm"},{default:o(()=>[a(u,{style:{width:"fit-content"},clickable:"",to:"/","active-class":""},{default:o(()=>[g("\u0414\u043D\u0435\u0432\u043D\u0438\u043A \u0442\u0440\u0435\u0439\u0434\u0435\u0440\u0430")]),_:1}),!e.user&&e.windowWidth>=800?(n(),b("div",we,[a(d,{color:"primary",size:"large",class:"q-ml-auto hoverable-primary",id:"321",onClick:t[4]||(t[4]=i=>e.$router.push("/register"))},{default:o(()=>[_e]),_:1}),a(d,{color:"primary",size:"large",class:"q-ml-auto hoverable-primary",id:"321",onClick:t[5]||(t[5]=i=>e.$router.push("/login"))},{default:o(()=>[$e]),_:1})])):e.user&&e.windowWidth>=800?(n(),b("div",ze,[a(u,{onClick:t[6]||(t[6]=i=>e.$router.push("/profile")),clickable:"",class:"align-center"},{default:o(()=>[a(L,{avatar:"",style:{"padding-right":"0","min-width":"30px"}},{default:o(()=>[a(q,{name:"person"})]),_:1}),s("div",null,Q(e.user.username),1)]),_:1}),a(d,{color:"primary",size:"large",class:"hoverable-primary",id:"321",onClick:e.logOut},{default:o(()=>[qe]),_:1},8,["onClick"])])):z("",!0)]),_:1}))]),_:1})]),_:1},512),[[te,!0]])]),_:1}),!e.$route.path.includes("home")&&!e.$route.path.includes("profile")?(n(),h(se,{key:0},{default:o(()=>[Ce]),_:1})):z("",!0),e.windowWidth<=1400?(n(),h(ne,{key:1,id:"drawer-mobile",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[10]||(t[10]=i=>e.leftDrawerOpen=i),style:{"background-color":"var(--background-main)","border-right":"1px solid black"},class:"column justify-between q-pa-sm"},{default:o(()=>[a(de,{class:"q-mt-sm"},{default:o(()=>[(n(!0),b(Z,null,Y(e.linksList,i=>(n(),h(c,ae({key:i.title,ref_for:!0},i),null,16))),128))]),_:1}),s("div",Se,[e.windowWidth<800&&!e.user?(n(),b("div",Qe,[a(d,{color:"primary",size:"large",class:"q-ml-auto hoverable-primary",id:"321",onClick:t[7]||(t[7]=i=>e.$router.push("/register"))},{default:o(()=>[Le]),_:1}),a(d,{color:"primary",outline:e.outline,size:"large",class:"q-mt-auto hoverable-primary",style:{width:"fit-content"}},{default:o(()=>[s("div",{style:ee(e.outline?"color: white":"color: black"),onClick:t[8]||(t[8]=i=>e.$router.push("/login"))},"\u0412\u043E\u0439\u0442\u0438",4)]),_:1},8,["outline"])])):e.user&&e.windowWidth<800?(n(),b("div",Ve,[a(u,{onClick:t[9]||(t[9]=i=>e.$router.push("/profile")),clickable:"",class:"align-center"},{default:o(()=>[a(L,{avatar:"",style:{"padding-right":"0","min-width":"30px"}},{default:o(()=>[a(q,{name:"person"})]),_:1}),s("div",null,Q(e.user.username),1)]),_:1}),a(d,{color:"primary",size:"large",class:"hoverable-primary",id:"321",onClick:e.logOut},{default:o(()=>[Oe]),_:1},8,["onClick"])])):z("",!0)])]),_:1},8,["modelValue"])):z("",!0),a(ue,{style:{"padding-top":"0!important","min-height":"100vh"}},{default:o(()=>[a(w,{style:{"min-height":"100vh"}})]),_:1})]),_:1})}var Ue=M(pe,[["render",Be]]);export{Ue as default};
