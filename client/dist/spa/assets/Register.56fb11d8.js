import{Q as a}from"./QInput.6332725b.js";import{_ as u,f as n,v as m,x as d,y as l,af as p,z as r,ao as h,B as c,Q as f,C as g,F as w}from"./index.760306f7.js";import{Q as b}from"./QForm.28fa8d7f.js";import{Q as x}from"./QCard.400d6c55.js";import{A as y}from"./auth.service.4b8c8d1c.js";import{u as V}from"./auth-store.39f74978.js";import"./use-key-composition.067f1cf0.js";import"./axios.e44641c5.js";import"./authHeader.0a3ef66c.js";const Q={name:"Register",data(){return{showPass:!1,username:null,password:null,email:null,authStore:V(),user:n(()=>this.authStore.$state.user)}},mounted(){console.log(this.authStore.$state.user),this.user&&(this.$q.notify({color:"green",message:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E"}),setTimeout(()=>{this.$router.push("/login")},500))},methods:{register(){y.register({username:this.username,email:this.email,password:this.password}).then(o=>{o.data.status_code?this.$q.notify({color:"red-3",message:o.data.message}):(this.$q.notify({color:"success",message:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E"}),setTimeout(()=>{this.$router.push("/login")},500))}).catch(o=>{this.$q.notify({color:"red-3",message:o.response.data.detail})})}}},_=w("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1);function v(o,t,S,k,s,i){return m(),d(p,{class:"flex align-center justify-center",style:{height:"100vh"}},{default:l(()=>[r(x,{bordered:"",class:"q-pa-lg bg-card margin-navbar",style:{"border-radius":"12px","max-width":"90%"}},{default:l(()=>[r(b,{onSubmit:h(i.register,["prevent"])},{default:l(()=>[_,r(a,{outlined:"","label-color":"white","input-class":"text-white",label:"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),rules:[e=>e&&e.length>0||"\u041F\u043E\u043B\u0435 \u043B\u043E\u0433\u0438\u043D \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u0435\u043D\u043E"]},null,8,["modelValue","rules"]),r(a,{outlined:"","label-color":"white","input-class":"text-white",label:"Email",modelValue:s.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e),rules:[e=>e&&e.length>0||"\u041F\u043E\u043B\u0435 email \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u0435\u043D\u043E"]},null,8,["modelValue","rules"]),r(a,{"label-color":"white",outlined:"",type:s.showPass?"text":"password","input-class":"text-white",label:"\u041F\u0430\u0440\u043E\u043B\u044C",modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),rules:[e=>e&&e.length>0||"\u041F\u043E\u043B\u0435 \u043F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u0435\u043D\u043E"]},{append:l(()=>[r(c,{color:"white",name:s.showPass?"visibility":"visibility_off",onClick:t[2]||(t[2]=e=>s.showPass=!s.showPass)},null,8,["name"])]),_:1},8,["type","modelValue","rules"]),r(f,{class:"hoverable-primary q-mt-lg w-100",color:"primary",onClick:i.register,"text-color":"black"},{default:l(()=>[g("\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442")]),_:1},8,["onClick"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})}var I=u(Q,[["render",v]]);export{I as default};
