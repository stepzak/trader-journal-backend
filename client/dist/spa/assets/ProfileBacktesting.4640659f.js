import{Q as QInput}from"./QInput.1d006779.js";import{Q as QSelect}from"./QSelect.3c5f2e02.js";import{k as createComponent,r as ref,f as computed,a2 as useTimeout,w as watch,b as onBeforeUnmount,aI as cleanEvt,aH as clearSelection,aG as addEvt,h,T as Transition,g as getCurrentInstance,Z as hSlot,S as stopAndPrevent,a_ as shallowReactive,N as useRouterLinkProps,M as useDarkProps,O as useDark,D as QSeparator,j as withDirectives,K as vShow,B as QIcon,_ as _export_sfc,v as openBlock,x as createBlock,y as withCtx,af as QPage,F as createBaseVNode,z as createVNode,C as createTextVNode,Q as QBtn,E as createElementBlock,H as renderList,I as Fragment,G as toDisplayString,A as createCommentVNode}from"./index.13261664.js";import{d as useAnchorStaticProps,e as useTransitionProps,v as validatePosition,f as validateOffset,p as parsePosition,h as useTick,i as useTransition,j as useScrollTarget,b as useAnchor,k as usePortal,r as removeClickOutside,s as setPosition,l as addClickOutside,Q as QDialog}from"./QDialog.6f726a67.js";import{u as useModelToggleProps,a as useModelToggleEmits,b as useModelToggle,Q as QItem}from"./use-prevent-scroll.60571045.js";import{s as scrollTargetProp,b as getScrollTarget}from"./scroll.70e478c3.js";import{a as QItemLabel,Q as QItemSection}from"./QItemLabel.02fbab6c.js";import{u as useId,b as uid}from"./focus-manager.09bad7b9.js";import{Q as QList}from"./QList.5d0a674a.js";import{Q as QBtnDropdown}from"./QBtnDropdown.75156154.js";import{Q as QCard}from"./QCard.0b032f6d.js";import{Q as QForm}from"./QForm.ff5005ba.js";import{a as authHead}from"./authHeader.c9107c9b.js";import{api}from"./axios.51c08b62.js";import"./use-key-composition.c09e22a6.js";var QTooltip=createComponent({name:"QTooltip",inheritAttrs:!1,props:{...useAnchorStaticProps,...useModelToggleProps,...useTransitionProps,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...useTransitionProps.transitionShow,default:"jump-down"},transitionHide:{...useTransitionProps.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:validatePosition},self:{type:String,default:"top middle",validator:validatePosition},offset:{type:Array,default:()=>[14,14],validator:validateOffset},scrollTarget:scrollTargetProp,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...useModelToggleEmits],setup(t,{slots:a,emit:c,attrs:u}){let l,s;const e=getCurrentInstance(),{proxy:{$q:o}}=e,r=ref(null),v=ref(!1),V=computed(()=>parsePosition(t.anchor,o.lang.rtl)),g=computed(()=>parsePosition(t.self,o.lang.rtl)),w=computed(()=>t.persistent!==!0),{registerTick:T,removeTick:I}=useTick(),{registerTimeout:i}=useTimeout(),{transitionProps:m,transitionStyle:b}=useTransition(t),{localScrollTarget:p,changeScrollEvent:E,unconfigureScrollTarget:L}=useScrollTarget(t,D),{anchorEl:f,canShow:U,anchorEvents:_}=useAnchor({showing:v,configureAnchorEl:k}),{show:C,hide:Q}=useModelToggle({showing:v,canShow:U,handleShow:q,handleHide:H,hideOnRouteChange:w,processOnMount:!0});Object.assign(_,{delayShow:n,delayHide:y});const{showPortal:B,hidePortal:N,renderPortal:O}=usePortal(e,r,M,"tooltip");if(o.platform.is.mobile===!0){const d={anchorEl:f,innerRef:r,onClickOutside(S){return Q(S),S.target.classList.contains("q-dialog__backdrop")&&stopAndPrevent(S),!0}},A=computed(()=>t.modelValue===null&&t.persistent!==!0&&v.value===!0);watch(A,S=>{(S===!0?addClickOutside:removeClickOutside)(d)}),onBeforeUnmount(()=>{removeClickOutside(d)})}function q(d){B(),T(()=>{s=new MutationObserver(()=>x()),s.observe(r.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),x(),D()}),l===void 0&&(l=watch(()=>o.screen.width+"|"+o.screen.height+"|"+t.self+"|"+t.anchor+"|"+o.lang.rtl,x)),i(()=>{B(!0),c("show",d)},t.transitionDuration)}function H(d){I(),N(),P(),i(()=>{N(!0),c("hide",d)},t.transitionDuration)}function P(){s!==void 0&&(s.disconnect(),s=void 0),l!==void 0&&(l(),l=void 0),L(),cleanEvt(_,"tooltipTemp")}function x(){setPosition({targetEl:r.value,offset:t.offset,anchorEl:f.value,anchorOrigin:V.value,selfOrigin:g.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function n(d){if(o.platform.is.mobile===!0){clearSelection(),document.body.classList.add("non-selectable");const A=f.value,S=["touchmove","touchcancel","touchend","click"].map(R=>[A,R,"delayHide","passiveCapture"]);addEvt(_,"tooltipTemp",S)}i(()=>{C(d)},t.delay)}function y(d){o.platform.is.mobile===!0&&(cleanEvt(_,"tooltipTemp"),clearSelection(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),i(()=>{Q(d)},t.hideDelay)}function k(){if(t.noParentEvent===!0||f.value===null)return;const d=o.platform.is.mobile===!0?[[f.value,"touchstart","delayShow","passive"]]:[[f.value,"mouseenter","delayShow","passive"],[f.value,"mouseleave","delayHide","passive"]];addEvt(_,"anchor",d)}function D(){if(f.value!==null||t.scrollTarget!==void 0){p.value=getScrollTarget(f.value,t.scrollTarget);const d=t.noParentEvent===!0?x:Q;E(p.value,d)}}function j(){return v.value===!0?h("div",{...u,ref:r,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,b.value],role:"tooltip"},hSlot(a.default)):null}function M(){return h(Transition,m.value,j)}return onBeforeUnmount(P),Object.assign(e.proxy,{updatePosition:x}),O}}),QSlideTransition=createComponent({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(t,{slots:a,emit:c}){let u=!1,l,s,e=null,o=null,r,v;function V(){l&&l(),l=null,u=!1,e!==null&&(clearTimeout(e),e=null),o!==null&&(clearTimeout(o),o=null),s!==void 0&&s.removeEventListener("transitionend",r),r=null}function g(i,m,b){m!==void 0&&(i.style.height=`${m}px`),i.style.transition=`height ${t.duration}ms cubic-bezier(.25, .8, .50, 1)`,u=!0,l=b}function w(i,m){i.style.overflowY=null,i.style.height=null,i.style.transition=null,V(),m!==v&&c(m)}function T(i,m){let b=0;s=i,u===!0?(V(),b=i.offsetHeight===i.scrollHeight?0:void 0):(v="hide",i.style.overflowY="hidden"),g(i,b,m),e=setTimeout(()=>{e=null,i.style.height=`${i.scrollHeight}px`,r=p=>{o=null,(Object(p)!==p||p.target===i)&&w(i,"show")},i.addEventListener("transitionend",r),o=setTimeout(r,t.duration*1.1)},100)}function I(i,m){let b;s=i,u===!0?V():(v="show",i.style.overflowY="hidden",b=i.scrollHeight),g(i,b,m),e=setTimeout(()=>{e=null,i.style.height=0,r=p=>{o=null,(Object(p)!==p||p.target===i)&&w(i,"hide")},i.addEventListener("transitionend",r),o=setTimeout(r,t.duration*1.1)},100)}return onBeforeUnmount(()=>{u===!0&&V()}),()=>h(Transition,{css:!1,appear:t.appear,onEnter:T,onLeave:I},a.default)}});const itemGroups=shallowReactive({}),LINK_PROPS=Object.keys(useRouterLinkProps);var QExpansionItem=createComponent({name:"QExpansionItem",props:{...useRouterLinkProps,...useModelToggleProps,...useDarkProps,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...useModelToggleEmits,"click","afterShow","afterHide"],setup(t,{slots:a,emit:c}){const{proxy:{$q:u}}=getCurrentInstance(),l=useDark(t,u),s=ref(t.modelValue!==null?t.modelValue:t.defaultOpened),e=ref(null),o=useId(),{show:r,hide:v,toggle:V}=useModelToggle({showing:s});let g,w;const T=computed(()=>`q-expansion-item q-item-type q-expansion-item--${s.value===!0?"expanded":"collapsed"} q-expansion-item--${t.popup===!0?"popup":"standard"}`),I=computed(()=>{if(t.contentInsetLevel===void 0)return null;const n=u.lang.rtl===!0?"Right":"Left";return{["padding"+n]:t.contentInsetLevel*56+"px"}}),i=computed(()=>t.disable!==!0&&(t.href!==void 0||t.to!==void 0&&t.to!==null&&t.to!=="")),m=computed(()=>{const n={};return LINK_PROPS.forEach(y=>{n[y]=t[y]}),n}),b=computed(()=>i.value===!0||t.expandIconToggle!==!0),p=computed(()=>t.expandedIcon!==void 0&&s.value===!0?t.expandedIcon:t.expandIcon||u.iconSet.expansionItem[t.denseToggle===!0?"denseIcon":"icon"]),E=computed(()=>t.disable!==!0&&(i.value===!0||t.expandIconToggle===!0)),L=computed(()=>({expanded:s.value===!0,detailsId:o.value,toggle:V,show:r,hide:v})),f=computed(()=>{const n=t.toggleAriaLabel!==void 0?t.toggleAriaLabel:u.lang.label[s.value===!0?"collapse":"expand"](t.label);return{role:"button","aria-expanded":s.value===!0?"true":"false","aria-controls":o.value,"aria-label":n}});watch(()=>t.group,n=>{w!==void 0&&w(),n!==void 0&&N()});function U(n){i.value!==!0&&V(n),c("click",n)}function _(n){n.keyCode===13&&C(n,!0)}function C(n,y){y!==!0&&e.value!==null&&e.value.focus(),V(n),stopAndPrevent(n)}function Q(){c("afterShow")}function B(){c("afterHide")}function N(){g===void 0&&(g=uid()),s.value===!0&&(itemGroups[t.group]=g);const n=watch(s,k=>{k===!0?itemGroups[t.group]=g:itemGroups[t.group]===g&&delete itemGroups[t.group]}),y=watch(()=>itemGroups[t.group],(k,D)=>{D===g&&k!==void 0&&k!==g&&v()});w=()=>{n(),y(),itemGroups[t.group]===g&&delete itemGroups[t.group],w=void 0}}function O(){const n={class:[`q-focusable relative-position cursor-pointer${t.denseToggle===!0&&t.switchToggleSide===!0?" items-end":""}`,t.expandIconClass],side:t.switchToggleSide!==!0,avatar:t.switchToggleSide},y=[h(QIcon,{class:"q-expansion-item__toggle-icon"+(t.expandedIcon===void 0&&s.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:p.value})];return E.value===!0&&(Object.assign(n,{tabindex:0,...f.value,onClick:C,onKeyup:_}),y.unshift(h("div",{ref:e,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),h(QItemSection,n,()=>y)}function q(){let n;return a.header!==void 0?n=[].concat(a.header(L.value)):(n=[h(QItemSection,()=>[h(QItemLabel,{lines:t.labelLines},()=>t.label||""),t.caption?h(QItemLabel,{lines:t.captionLines,caption:!0},()=>t.caption):null])],t.icon&&n[t.switchToggleSide===!0?"push":"unshift"](h(QItemSection,{side:t.switchToggleSide===!0,avatar:t.switchToggleSide!==!0},()=>h(QIcon,{name:t.icon})))),t.disable!==!0&&t.hideExpandIcon!==!0&&n[t.switchToggleSide===!0?"unshift":"push"](O()),n}function H(){const n={ref:"item",style:t.headerStyle,class:t.headerClass,dark:l.value,disable:t.disable,dense:t.dense,insetLevel:t.headerInsetLevel};return b.value===!0&&(n.clickable=!0,n.onClick=U,Object.assign(n,i.value===!0?m.value:f.value)),h(QItem,n,q)}function P(){return withDirectives(h("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:I.value,id:o.value},hSlot(a.default)),[[vShow,s.value]])}function x(){const n=[H(),h(QSlideTransition,{duration:t.duration,onShow:Q,onHide:B},P)];return t.expandSeparator===!0&&n.push(h(QSeparator,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:l.value}),h(QSeparator,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:l.value})),n}return t.group!==void 0&&N(),onBeforeUnmount(()=>{w!==void 0&&w()}),()=>h("div",{class:T.value},[h("div",{class:"q-expansion-item__container relative-position"},x())])}});class BacktestingService{static async getPositions(){return await api.get("/backtesting/available_positions_list",{headers:authHead()}).then(a=>Promise.resolve(a))}static async backtest(a){return await api.post("/backtesting/backtest",a,{headers:authHead()}).then(c=>Promise.resolve(c))}static async getPlot(a){return await api.get("/backtesting/get_plot_file_base64",{headers:authHead(),params:{guid:a}}).then(c=>Promise.resolve(c))}}const _sfc_main={name:"ProfileBacktesting",data(){return{showDialog:!1,optionsIndicators:[{name:"RSI",value:"rsi"},{name:"AROON",value:"aroon"},{name:"MACD",value:"macd"},{name:"SMA Crossover",value:"sma"},{name:"EMA",value:"ema"},{name:"3 \u0447\u0435\u0440\u043D\u044B\u0435 \u0432\u043E\u0440\u043E\u043D\u044B",value:"cdl3blackcrows"}],strategy:{strategyName:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044F 1",cash:1e4,position:"ETH-USD",commission:7e-4,margin:"1/10",indicators:[],tp:.02,sl:.02,buy_size:.02,sell_size:.02,timeframe:"1d",startDate:"2013-07-21",endDate:"2024-07-21",buy_signal:.1,sell_signal:.1},positions:[],leverage:["1/5","1/10","1/25","1/50","1/100"],results:{},showRes:!1}},async mounted(){await BacktestingService.getPositions().then(t=>{console.log(t.data),this.positions=t.data})},methods:{deleteItem(t){let a=this.strategy.indicators.indexOf(t);this.strategy.indicators.splice(a,1)},addIndicator(t){},async backTest(){let data=this.strategy;data.margin=eval(data.margin),await BacktestingService.backtest(data).then(t=>{this.showRes=!0,this.results=t.data})},async getPlot(){await BacktestingService.getPlot(this.results.guid).then(t=>{var a=document.createElement("a");a.href="data:application/html;base64,"+t.data.base64,a.download=t.data.filename,a.click()})}}},_hoisted_1={class:"margin-navbar align-center"},_hoisted_2=createBaseVNode("h4",{class:"q-mt-md"}," \u0411\u044D\u043A\u0442\u044D\u0441\u0442\u0438\u043D\u0433 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0439 ",-1),_hoisted_3=createBaseVNode("br",null,null,-1),_hoisted_4=createBaseVNode("br",null,null,-1),_hoisted_5={class:"flex w-100 align-center justify-between",style:{gap:".5rem"}},_hoisted_6={key:0,class:"column gap-md"},_hoisted_7={key:1,class:"column gap-md"},_hoisted_8={key:2,class:"column gap-md"},_hoisted_9={class:"flex justify-center gap-lg"},_hoisted_10={class:"text-h6"},_hoisted_11={class:"text-h6"},_hoisted_12={class:"text-h6"},_hoisted_13={class:"text-h6"},_hoisted_14={class:"text-h6"},_hoisted_15={class:"text-h6"},_hoisted_16={class:"text-h6"},_hoisted_17={class:"text-h6"},_hoisted_18={class:"text-h6"},_hoisted_19={class:"text-h6"},_hoisted_20={class:"text-h6"},_hoisted_21={class:"text-h6"};function _sfc_render(t,a,c,u,l,s){return openBlock(),createBlock(QPage,{style:{"margin-top":"1px","margin-bottom":"-1px"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[_hoisted_2,createVNode(QForm,{class:"column w-90 q-ml-md",style:{gap:".5rem"}},{default:withCtx(()=>[createVNode(QInput,{label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",modelValue:l.strategy.strategyName,"onUpdate:modelValue":a[0]||(a[0]=e=>l.strategy.strategyName=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{label:"\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0443\u043C\u043C\u0430($)",modelValue:l.strategy.cash,"onUpdate:modelValue":a[1]||(a[1]=e=>l.strategy.cash=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QSelect,{dark:"",behavior:"menu",label:"\u041F\u043E\u0437\u0438\u0446\u0438\u044F",modelValue:l.strategy.position,"onUpdate:modelValue":a[2]||(a[2]=e=>l.strategy.position=e),options:l.positions,outlined:"","label-color":"white","input-class":"text-white"},null,8,["modelValue","options"]),createVNode(QInput,{label:"\u041A\u043E\u043C\u0438\u0441\u0441\u0438\u044F(\u0432 \u0434\u043E\u043B\u044F\u0445)",modelValue:l.strategy.commission,"onUpdate:modelValue":a[3]||(a[3]=e=>l.strategy.commission=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QSelect,{dark:"",behavior:"menu",label:"\u041A\u0440\u0435\u0434\u0438\u0442\u043E\u0435 \u043F\u043B\u0435\u0447\u043E",modelValue:l.strategy.margin,"onUpdate:modelValue":a[4]||(a[4]=e=>l.strategy.margin=e),options:l.leverage,outlined:"","label-color":"white","input-class":"text-white"},null,8,["modelValue","options"]),createVNode(QInput,{label:"Take Profit(\u0432 \u0434\u043E\u043B\u044F\u0445)",modelValue:l.strategy.tp,"onUpdate:modelValue":a[5]||(a[5]=e=>l.strategy.tp=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{label:"Stop Loss(\u0432 \u0434\u043E\u043B\u044F\u0445)",modelValue:l.strategy.sl,"onUpdate:modelValue":a[6]||(a[6]=e=>l.strategy.sl=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{label:"\u041E\u0431\u044A\u0435\u043C \u043F\u043E\u043A\u0443\u043F\u043A\u0438(\u0432 \u0434\u043E\u043B\u044F\u0445)",modelValue:l.strategy.buy_size,"onUpdate:modelValue":a[7]||(a[7]=e=>l.strategy.buy_size=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{label:"\u041E\u0431\u044A\u0435\u043C \u043F\u0440\u043E\u0434\u0430\u0436\u0438(\u0432 \u0434\u043E\u043B\u044F\u0445)",modelValue:l.strategy.sell_size,"onUpdate:modelValue":a[8]||(a[8]=e=>l.strategy.sell_size=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{label:"\u0422\u0430\u0439\u043C\u0444\u0440\u0435\u0439\u043C",modelValue:l.strategy.timeframe,"onUpdate:modelValue":a[9]||(a[9]=e=>l.strategy.timeframe=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},{append:withCtx(()=>[createVNode(QIcon,{name:"help",color:"primary"},{default:withCtx(()=>[createVNode(QTooltip,{style:{"font-size":"small"}},{default:withCtx(()=>[createTextVNode(" \u0424\u043E\u0440\u043C\u0430\u0442 - {\u0447\u0438\u0441\u043B\u043E}{\u0431\u0443\u043A\u0432\u0430}"),_hoisted_3,createTextVNode(" \u041F\u0440\u0438\u043C\u0435\u0440 - 1d"),_hoisted_4,createTextVNode(" s - \u0441\u0435\u043A\u0443\u043D\u0434\u0430, m - \u043C\u0438\u043D\u0443\u0442\u0430, h - \u0447\u0430\u0441, d - \u0434\u0435\u043D\u044C, M - \u043C\u0435\u0441\u044F\u0446, y - \u0433\u043E\u0434 ")]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]),createVNode(QInput,{type:"date",label:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430",modelValue:l.strategy.startDate,"onUpdate:modelValue":a[10]||(a[10]=e=>l.strategy.startDate=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{type:"date",label:"\u0414\u0430\u0442\u0430 \u043A\u043E\u043D\u0446\u0430",modelValue:l.strategy.endDate,"onUpdate:modelValue":a[11]||(a[11]=e=>l.strategy.endDate=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},null,8,["modelValue","rules"]),createVNode(QInput,{label:"\u0421\u0438\u0433\u043D\u0430\u043B \u0434\u043B\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0438",modelValue:l.strategy.buy_signal,"onUpdate:modelValue":a[12]||(a[12]=e=>l.strategy.buy_signal=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},{append:withCtx(()=>[createVNode(QIcon,{name:"help",color:"primary"},{default:withCtx(()=>[createVNode(QTooltip,{style:{"font-size":"small"}},{default:withCtx(()=>[createTextVNode(" \u0421\u0438\u0433\u043D\u0430\u043B \u0434\u043B\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0438 - \u0447\u0438\u0441\u043B\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0434\u043E\u043B\u0436\u043D\u0430 \u043F\u0440\u0435\u0432\u0437\u043E\u0439\u0442\u0438 \u0441\u0443\u043C\u043C\u0430 \u0432\u0441\u0435\u0445 \u0441\u0438\u0433\u043D\u0430\u043B\u043E\u0432(\u0441\u043C. \u0441\u0438\u0433\u043D\u0430\u043B\u044B) ")]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]),createVNode(QInput,{label:"\u0421\u0438\u0433\u043D\u0430\u043B \u0434\u043B\u044F \u043F\u0440\u043E\u0434\u0430\u0436\u0438",modelValue:l.strategy.sell_signal,"onUpdate:modelValue":a[13]||(a[13]=e=>l.strategy.sell_signal=e),style:{width:"100%"},outlined:"","label-color":"white","input-class":"text-white",rules:[e=>{e&&String(e).length>0}]},{append:withCtx(()=>[createVNode(QIcon,{name:"help",color:"primary"},{default:withCtx(()=>[createVNode(QTooltip,{style:{"font-size":"small"}},{default:withCtx(()=>[createTextVNode(" \u0421\u0438\u0433\u043D\u0430\u043B \u0434\u043B\u044F \u043F\u0440\u043E\u0434\u0430\u0436\u0438 - \u0447\u0438\u0441\u043B\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u043D\u0435 \u0434\u043E\u043B\u0436\u043D\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u043F\u0440\u0435\u0432\u0437\u043E\u0439\u0442\u0438 \u0441\u0443\u043C\u043C\u0430 \u0432\u0441\u0435\u0445 \u0441\u0438\u0433\u043D\u0430\u043B\u043E\u0432(\u0441\u043C. \u0441\u0438\u0433\u043D\u0430\u043B\u044B) ")]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]),createVNode(QBtn,{color:"secondary",label:"\u0421\u0438\u0433\u043D\u0430\u043B\u044B",onClick:a[14]||(a[14]=e=>l.showDialog=!0),class:"w-fit q-mb-sm","text-color":"black"}),createVNode(QDialog,{modelValue:l.showDialog,"onUpdate:modelValue":a[15]||(a[15]=e=>l.showDialog=e),ref:"dialogOptions"},{default:withCtx(()=>[createVNode(QCard,{class:"q-pa-md bg-secondary-color column",style:{gap:".5rem",width:"90vw",height:"90vh"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.strategy.indicators,e=>(openBlock(),createElementBlock("div",_hoisted_5,[createVNode(QExpansionItem,{label:l.optionsIndicators.filter(o=>o.value===e.indicator)[0].name,style:{width:"fit-content","min-width":"100%"},class:"border-white q-pa-sm w-100"},{default:withCtx(()=>[e.indicator==="rsi"?(openBlock(),createElementBlock("div",_hoisted_6,[createVNode(QInput,{hint:"\u041E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 - 14",dark:"",type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u041F\u0435\u0440\u0438\u043E\u0434, \u0437\u0430 \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0431\u0435\u0440\u0435\u0442\u0441\u044F RSI",modelValue:e.kwargs.period,"onUpdate:modelValue":o=>e.kwargs.period=o},null,8,["rules","modelValue","onUpdate:modelValue"]),createVNode(QInput,{placeholder:"70",type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u041F\u043E\u043A\u0443\u043F\u0430\u0442\u044C, \u0435\u0441\u043B\u0438 RSI \u0431\u043E\u043B\u044C\u0448\u0435",modelValue:e.kwargs.buy_rsi,"onUpdate:modelValue":o=>e.kwargs.buy_rsi=o},null,8,["rules","modelValue","onUpdate:modelValue"]),createVNode(QInput,{placeholder:"30",type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u041F\u0440\u043E\u0434\u0430\u0432\u0430\u0442\u044C, \u0435\u0441\u043B\u0438 RSI \u043C\u0435\u043D\u044C\u0448\u0435",modelValue:e.kwargs.sell_rsi,"onUpdate:modelValue":o=>e.kwargs.sell_rsi=o},null,8,["rules","modelValue","onUpdate:modelValue"])])):e.indicator==="sma"?(openBlock(),createElementBlock("div",_hoisted_7,[createVNode(QInput,{placeholder:"10",dark:"",type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u0414\u043B\u0438\u043D\u0430 \u043F\u0435\u0440\u0432\u043E\u0439 \u0441\u043A\u043E\u043B\u044C\u0437\u044F\u0449\u0435\u0439 \u0441\u0440\u0435\u0434\u043D\u0435\u0439",modelValue:e.kwargs.ma1_period,"onUpdate:modelValue":o=>e.kwargs.ma1_period=o},null,8,["rules","modelValue","onUpdate:modelValue"]),createVNode(QInput,{placeholder:"20",dark:"",type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u0414\u043B\u0438\u043D\u0430 \u0432\u0442\u043E\u0440\u043E\u0439 \u0441\u043A\u043E\u043B\u044C\u0437\u044F\u0449\u0435\u0439 \u0441\u0440\u0435\u0434\u043D\u0435\u0439",modelValue:e.kwargs.ma2_period,"onUpdate:modelValue":o=>e.kwargs.ma2_period=o},null,8,["rules","modelValue","onUpdate:modelValue"])])):["aroon","ema"].includes(e.indicator)?(openBlock(),createElementBlock("div",_hoisted_8,[createVNode(QInput,{placeholder:"14",dark:"",type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u041F\u0435\u0440\u0438\u043E\u0434",modelValue:e.kwargs.period,"onUpdate:modelValue":o=>e.kwargs.period=o},null,8,["rules","modelValue","onUpdate:modelValue"])])):createCommentVNode("",!0),createVNode(QInput,{type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u041F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0441\u0438\u0433\u043D\u0430\u043B(\u043F\u043E\u043A\u0443\u043F\u043A\u0430)",modelValue:e.positive_signal,"onUpdate:modelValue":o=>e.positive_signal=o},null,8,["rules","modelValue","onUpdate:modelValue"]),createVNode(QInput,{type:"number",outlined:"","label-color":"white","input-class":"text-white",rules:[o=>{o&&String(o).length>0}],label:"\u041E\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0441\u0438\u0433\u043D\u0430\u043B(\u043F\u0440\u043E\u0434\u0430\u0436\u0430)",modelValue:e.negative_signal,"onUpdate:modelValue":o=>e.negative_signal=o},null,8,["rules","modelValue","onUpdate:modelValue"]),createVNode(QBtn,{color:"negative","text-color":"white",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",onClick:o=>s.deleteItem(e),"icon-right":"delete",class:"q-mt-md"},null,8,["onClick"])]),_:2},1032,["label"])]))),256)),createBaseVNode("div",_hoisted_9,[createVNode(QBtnDropdown,{color:"dark",icon:"add",label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"},{default:withCtx(()=>[createVNode(QList,{style:{background:"var(--bg-plot)",color:"white"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.optionsIndicators.filter(e=>!l.strategy.indicators.map(o=>o.indicator).includes(e.value)),e=>(openBlock(),createBlock(QItem,{clickable:"",onClick:o=>l.strategy.indicators.push({indicator:e.value,kwargs:{},positive_signal:2,negative_signal:-2})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.name),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1}),createVNode(QBtn,{color:"primary",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438 \u043F\u0440\u043E\u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",icon:"save",onClick:s.backTest},null,8,["onClick"])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),createVNode(QDialog,{modelValue:l.showRes,"onUpdate:modelValue":a[16]||(a[16]=e=>l.showRes=e)},{default:withCtx(()=>[createVNode(QCard,{class:"q-pa-sm bg-secondary-color column",style:{gap:".5rem",width:"90vw",height:"90vh"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10,"\u041A\u0430\u043F\u0438\u0442\u0430\u043B: "+toDisplayString(l.results.equityFinal)+" $",1),createBaseVNode("div",_hoisted_11,"\u041F\u0438\u043A\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043A\u0430\u043F\u0438\u0442\u0430\u043B\u0430: "+toDisplayString(l.results.equityPeak)+" $",1),createBaseVNode("div",_hoisted_12,"\u0414\u043E\u0445\u043E\u0434\u043D\u043E\u0441\u0442\u044C: "+toDisplayString(l.results.return_)+"%",1),createBaseVNode("div",_hoisted_13,"\u0412\u043E\u043B\u0430\u0442\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u044C: "+toDisplayString(l.results.volatility)+"%",1),createBaseVNode("div",_hoisted_14,"\u041A\u0444 \u0428\u0430\u0440\u043F\u0430: "+toDisplayString(l.results.sharpe),1),createBaseVNode("div",_hoisted_15,"\u041A\u0444 \u0421\u043E\u0440\u0442\u0438\u043D\u043E: "+toDisplayString(l.results.sortino),1),createBaseVNode("div",_hoisted_16,"\u041A\u0444 \u041A\u0430\u043B\u044C\u043C\u0430\u0440\u0430: "+toDisplayString(l.results.calmar),1),createBaseVNode("div",_hoisted_17,"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u0440\u043E\u0441\u0430\u0434\u043A\u0430: "+toDisplayString(l.results.maxDrowdown)+"%",1),createBaseVNode("div",_hoisted_18,"\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u043F\u0440\u043E\u0441\u0430\u0434\u043A\u0430: "+toDisplayString(l.results.avgDrowdown)+"%",1),createBaseVNode("div",_hoisted_19,"\u0412\u0438\u043D\u0440\u0435\u0439\u0442: "+toDisplayString(l.results.winrate)+"%",1),createBaseVNode("div",_hoisted_20,"\u041B\u0443\u0447\u0448\u0430\u044F \u0441\u0434\u0435\u043B\u043A\u0430: "+toDisplayString(l.results.bestTrade)+"%",1),createBaseVNode("div",_hoisted_21,"\u0425\u0443\u0434\u0448\u0430\u044F \u0441\u0434\u0435\u043B\u043A\u0430: "+toDisplayString(l.results.worstTrade)+"%",1),createVNode(QBtn,{color:"primary",label:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A",onClick:s.getPlot},null,8,["onClick"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var ProfileBacktesting=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{ProfileBacktesting as default};
